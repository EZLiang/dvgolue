var Fa="function"==typeof Object.defineProperties?Object.defineProperty:function(w,g,h){if(w==Array.prototype||w==Object.prototype)return w;w[g]=h.value;return w};function Oa(w){w=["object"==typeof globalThis&&globalThis,w,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var g=0;g<w.length;++g){var h=w[g];if(h&&h.Math==Math)return h}throw Error("Cannot find global object");}var Pa=Oa(this);
function Wa(w,g){if(g)a:{var h=Pa;w=w.split(".");for(var q=0;q<w.length-1;q++){var k=w[q];if(!(k in h))break a;h=h[k]}w=w[w.length-1];q=h[w];g=g(q);g!=q&&null!=g&&Fa(h,w,{configurable:!0,writable:!0,value:g})}}Wa("Array.prototype.fill",function(w){return w?w:function(g,h,q){var k=this.length||0;0>h&&(h=Math.max(0,k+h));if(null==q||q>k)q=k;q=Number(q);0>q&&(q=Math.max(0,k+q));for(h=Number(h||0);h<q;h++)this[h]=g;return this}});function ib(w){return w?w:Array.prototype.fill}
Wa("Int8Array.prototype.fill",ib);Wa("Uint8Array.prototype.fill",ib);Wa("Uint8ClampedArray.prototype.fill",ib);Wa("Int16Array.prototype.fill",ib);Wa("Uint16Array.prototype.fill",ib);Wa("Int32Array.prototype.fill",ib);Wa("Uint32Array.prototype.fill",ib);Wa("Float32Array.prototype.fill",ib);Wa("Float64Array.prototype.fill",ib);
Wa("Array.prototype.copyWithin",function(w){function g(h){h=Number(h);return Infinity===h||-Infinity===h?h:h|0}return w?w:function(h,q,k){var a=this.length;h=g(h);q=g(q);k=void 0===k?a:g(k);h=0>h?Math.max(a+h,0):Math.min(h,a);q=0>q?Math.max(a+q,0):Math.min(q,a);k=0>k?Math.max(a+k,0):Math.min(k,a);if(h<q)for(;q<k;)q in this?this[h++]=this[q++]:(delete this[h++],q++);else for(k=Math.min(k,a+q-h),h+=k-q;k>q;)--k in this?this[--h]=this[k]:delete this[--h];return this}});
function lb(w){return w?w:Array.prototype.copyWithin}Wa("Int8Array.prototype.copyWithin",lb);Wa("Uint8Array.prototype.copyWithin",lb);Wa("Uint8ClampedArray.prototype.copyWithin",lb);Wa("Int16Array.prototype.copyWithin",lb);Wa("Uint16Array.prototype.copyWithin",lb);Wa("Int32Array.prototype.copyWithin",lb);Wa("Uint32Array.prototype.copyWithin",lb);Wa("Float32Array.prototype.copyWithin",lb);Wa("Float64Array.prototype.copyWithin",lb);
function mb(w){var g=0;return function(){return g<w.length?{done:!1,value:w[g++]}:{done:!0}}}Wa("Symbol",function(w){function g(k){if(this instanceof g)throw new TypeError("Symbol is not a constructor");return new h("jscomp_symbol_"+(k||"")+"_"+q++,k)}function h(k,a){this.j=k;Fa(this,"description",{configurable:!0,writable:!0,value:a})}if(w)return w;h.prototype.toString=function(){return this.j};var q=0;return g});
Wa("Symbol.iterator",function(w){if(w)return w;w=Symbol("Symbol.iterator");for(var g="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),h=0;h<g.length;h++){var q=Pa[g[h]];"function"===typeof q&&"function"!=typeof q.prototype[w]&&Fa(q.prototype,w,{configurable:!0,writable:!0,value:function(){return nb(mb(this))}})}return w});function nb(w){w={next:w};w[Symbol.iterator]=function(){return this};return w}
function ob(w,g){w instanceof String&&(w+="");var h=0,q=!1,k={next:function(){if(!q&&h<w.length){var a=h++;return{value:g(a,w[a]),done:!1}}q=!0;return{done:!0,value:void 0}}};k[Symbol.iterator]=function(){return k};return k}Wa("Array.prototype.keys",function(w){return w?w:function(){return ob(this,function(g){return g})}});
window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){var w=null,g=null;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.hN||performance.iN||performance.kN||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=
Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?window.arrayFill=!0:(window.arrayFill=!1,window.Uint32Array.prototype.fill=function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=h});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=
function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=h});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=h});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=h});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=
h});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=h});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=h});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=h});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=
function(h,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=h});window.Int32Array.prototype.slice?window.arraySlice=!0:(window.arraySlice=!1,window.Int32Array.prototype.slice=function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Int32Array(k);for(q=0;q<k;q+=1)a[q]=this[h+q];return a});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Int16Array(k);for(q=0;q<k;q+=1)a[q]=this[h+q];return a});window.Int8Array.prototype.slice||
(window.Int8Array.prototype.slice=function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Int8Array(k);for(q=0;q<k;q+=1)a[q]=this[h+q];return a});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Uint32Array(k);for(q=0;q<k;q+=1)a[q]=this[h+q];return a});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Uint16Array(k);for(q=0;q<
k;q+=1)a[q]=this[h+q];return a});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Uint8Array(k);for(q=0;q<k;q+=1)a[q]=this[h+q];return a});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Uint8ClampedArray(k);for(q=0;q<k;q+=1)a[q]=this[h+q];return a});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=
function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Float32Array(k);for(q=0;q<k;q+=1)a[q]=this[h+q];return a});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(h,q){void 0===q&&(q=this.length);var k=q-h;var a=new Float64Array(k);for(q=0;q<k;q+=1)a[q]=this[h+q];return a});g=new Uint32Array(1);g[0]=4660;w=new Uint8Array(g.buffer);window.littleEndian=52===w[0]?!0:!1;g.copyWithin?window.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(h,q,k){var a=
!1;void 0===k&&(k=this.length);var c=k-q;if(q!==h)if((h>=q&&h<=k||h+c>=q&&h+c<=k)&&h>q&&(a=!0),a)for(k=c-1;0<=k;--k)this[h+k]=this[q+k];else for(k=0;k<c;k+=1)this[h+k]=this[q+k];return this},window.copyWithin=!1);window.registerEvent=function(h,q,k,a){h.addEventListener?h.addEventListener(q,k,a):h.attachEvent("on"+q,k)}}(),function(){function w(q,k,a){this.type=q;this.name=a;this.elements=k;this.size=k*h.aq(q);this.Dp=1}function g(){this.lh=[];this.yo=this.Rr=this.xo=this.Pr=0}var h={gx:8,hx:40,ex:9,
fx:10,Sw:0,Qw:1,Rw:2,Lw:18,Mw:19,aq:function(q){return 1<<(q&7)},CM:function(q){var k=(0!==(q&16)?"Float":0!==(q&8)?"Uint":"Int")+8*(1<<(q&7));0!==(q&32)&&(k+="Clamped");return k}};g.prototype.NH=function(q){var k="";0<=q&&q<this.lh.length&&(q=this.lh[q],k=h.CM(q.type)+"\t"+q.elements+"\t"+q.name+"\t"+q.Dp);return k};g.prototype.j=function(q,k,a){for(var c=0,d=!1,f;c<this.lh.length&&!d;)f=this.lh[c],a===f.name?(d=!0,this.Rr+=1,this.yo+=f.elements*h.aq(f.type)):c+=1;d?(this.lh[c].type=q,this.lh[c].elements=
k,this.lh[c].Dp+=1,this.lh[c].size=k*h.aq(q)):(c=this.lh.length,this.lh[c]=new w(q,k,a));this.Pr+=1;this.xo+=k*h.aq(q)};g.prototype.gC=function(q,k,a,c,d){q=q.buffer;c*=h.aq(k);switch(k){case h.gx:a=new Uint8Array(q,c,a);break;case h.hx:a=new Uint8Array(q,c,a);break;case h.ex:a=new Uint16Array(q,c,a);break;case h.fx:a=new Uint32Array(q,c,a);break;case h.Sw:a=new Int8Array(q,c,a);break;case h.Qw:a=new Int16Array(q,c,a);break;case h.Rw:a=new Int32Array(q,c,a);break;case h.Lw:a=new Float32Array(q,c,
a);break;case h.Mw:a=new Float64Array(q,c,a);break;default:a=null,alert("Illegal type specified to allocator.typedView for "+d+": "+k)}return a};g.prototype.B=function(q,k,a){switch(q){case h.gx:k=new Uint8Array(k);break;case h.hx:k=new Uint8Array(k);break;case h.ex:k=new Uint16Array(k);break;case h.fx:k=new Uint32Array(k);break;case h.Sw:k=new Int8Array(k);break;case h.Qw:k=new Int16Array(k);break;case h.Rw:k=new Int32Array(k);break;case h.Lw:k=new Float32Array(k);break;case h.Mw:k=new Float64Array(k);
break;default:k=null,alert("Illegal type specified to allocator.typedMemory for "+a+": "+q)}return k};g.prototype.K=function(q,k,a){var c=null;0<k&&(c=this.B(q,k,a));(c||0===k)&&this.j(q,k,a);return c};g.prototype.MH=function(q,k,a,c){var d=null;0<k&&(d=this.B(q,k,a));(d||0===k)&&this.j(q,k*c,a);return d};Array.da=function(q,k,a,c,d,f){var n=0,m=[];m.l=d;m.type=q;m.eb=null;var r=d.K(q,k*a,f);m.eb=r;if(0<a){for(;n<k;)m[n]=d.gC(r,q,a,n*a,f),n+=1;0!==c&&r.fill(c)}return m};Array.sq=function(q,k){k=q.l.MH(q.type,
q[0].length,k,q.length+1);q[q.length]=k};Array.Ni=function(q,k){k.eb.set(q.eb)};Array.Fc=function(q,k,a){var c,d=k.length,f=[],n=k.l,m=k[0].length/h.aq(q);for(c=0;c<d;c+=1)f[c]=n.gC(k.eb,q,m,c*m,a);return f};Array.sz=function(q,k,a){var c,d=q.length,f=q.l,n=q.type,m=q[0].length;for(c=0;c<d;c+=1)f.gC(q.eb,n,m-k,c*m+k,a)};window.Allocator=g;window.Uint8=h.gx;window.Uint8Clamped=h.hx;window.Uint16=h.ex;window.Uint32=h.fx;window.Int8=h.Sw;window.Int16=h.Qw;window.Int32=h.Rw;window.Float32=h.Lw;window.Float64=
h.Mw}(),function(){window.AliasManager={Bc:[],eB:[],cf:function(){var w,g;this.Bc=[];this.eB=[];var h=this.Bc;var q=this.eB;q.push("1D");h.push(["Wolfram 1D",""]);h.push(["Brownian motion","W54"]);h.push(["Fishing-net","W110"]);h.push(["Heavy triangles","W22"]);h.push(["Linear A","W90"]);h.push(["Linear B","W150"]);h.push(["Pascal's Triangle","W18"]);h.push(["Randomizer 1","W30"]);h.push(["Randomizer 2","W45"]);h.push(["Wolfram 22","W22"]);h.push(["Wolfram 30","W30"]);h.push(["Wolfram 110","W110"]);
q.push("Margolus");h.push(["Margolus",""]);h.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);h.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);h.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);h.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);h.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);h.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);h.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);h.push(["RotationsII",
"M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);h.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);h.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);h.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);h.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);h.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);h.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);h.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);q.push("PCA");
h.push(["PCA",""]);h.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);h.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);h.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);h.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);h.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);h.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);h.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);h.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);
h.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);h.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);h.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);h.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);h.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);h.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);q.push("OT vN");h.push(["Outer-Totalistic von Neumann",""]);h.push(["Fredkin2","B13/S024V"]);h.push(["Parity","B13/S13V"]);
q.push("OT Hex");h.push(["Outer-Totalistic Hex",""]);h.push(["HexParity","B135/S0246H"]);h.push(["Hexagonal Life","B2/S34H"]);h.push(["HighHexLife","B25/S34H"]);h.push(["Replicator Hex","B135/S135H"]);q.push("OT M");h.push(["Outer-Totalistic Moore",""]);h.push(["","B3/S23"]);h.push(["2x2","B36/S125"]);h.push(["2x2 2","B3678/S1258"]);h.push(["34 Life","B34/S34"]);h.push(["3-4 Life","B34/S34"]);h.push(["Amoeba","B357/S1358"]);h.push(["Anneal","B4678/S35678"]);h.push(["AntiLife","B0123478/S01234678"]);
h.push(["Assimilation","B345/S4567"]);h.push(["Bacteria","B34/S456"]);h.push(["Blinkers","B345/S2"]);h.push(["Bugs","B3567/S15678"]);h.push(["Castles","B3678/S135678"]);h.push(["Cheerios","B35678/S34567"]);h.push(["Christmas Life","B1/S012345678"]);h.push(["Coagulations","B378/S235678"]);h.push(["Conway's Game of Life","B3/S23"]);h.push(["Conway's Life","B3/S23"]);h.push(["Coral","B3/S45678"]);h.push(["Corrosion of Conformity","B3/S124"]);h.push(["Dance","B34/S35"]);h.push(["Day & Night","B3678/S34678"]);
h.push(["Day and Night","B3678/S34678"]);h.push(["Diamoeba","B35678/S5678"]);h.push(["DotLife","B3/S023"]);h.push(["DrighLife","B367/S23"]);h.push(["DryFlock","B37/S12"]);h.push(["DryLife","B37/S23"]);h.push(["DryLife without Death","B37/S012345678"]);h.push(["EightFlock","B3/S128"]);h.push(["EightLife","B3/S238"]);h.push(["Electrified Maze","B45/S12345"]);h.push(["Eppstein","B35/S236"]);h.push(["Feux","B1358/S0247"]);h.push(["Flakes","B3/S012345678"]);h.push(["Flock","B3/S12"]);h.push(["Forest of Ls",
"B168/S236"]);h.push(["Fredkin","B1357/S02468"]);h.push(["Fuzz","B1/S014567"]);h.push(["Gems Minor","B34578/S456"]);h.push(["Gems","B3457/S4568"]);h.push(["Geology","B3578/S24678"]);h.push(["Gnarl","B1/S1"]);h.push(["H-Trees","B1/S012345678"]);h.push(["HighFlock","B36/S12"]);h.push(["HighLife","B36/S23"]);h.push(["HighLife without Death","B36/S012345678"]);h.push(["Holstein","B35678/S4678"]);h.push(["HoneyFlock","B38/S128"]);h.push(["HoneyLife","B38/S238"]);h.push(["Iceballs","B25678/S5678"]);h.push(["InverseLife",
"B012345678/S34678"]);h.push(["Invertamaze","B028/S0124"]);h.push(["IronFlock","B36/S128"]);h.push(["IronLife","B36/S238"]);h.push(["Land Rush","B36/S234578"]);h.push(["Life SkyHigh","B368/S236"]);h.push(["Life without Death","B3/S012345678"]);h.push(["Life","B3/S23"]);h.push(["Live Free or Die","B2/S0"]);h.push(["Logarithmic replicator rule","B36/S245"]);h.push(["LongLife","B345/S5"]);h.push(["Long Life","B345/S5"]);h.push(["LowDeath without death","B368/S012345678"]);h.push(["LowDeath","B368/S238"]);
h.push(["LowFlockDeath","B368/S128"]);h.push(["LowLife","B3/S13"]);h.push(["Majority","B45678/S5678"]);h.push(["Maze","B3/S12345"]);h.push(["Maze with Mice","B37/S12345"]);h.push(["Mazectric","B3/S1234"]);h.push(["Mazectric with Mice","B37/S1234"]);h.push(["Morley","B368/S245"]);h.push(["Move","B368/S245"]);h.push(["Neon Blobs","B08/S4"]);h.push(["Never happy","B345/S0456"]);h.push(["Oscillators Rule","B45/S1235"]);h.push(["Pedestrian Flock","B38/S12"]);h.push(["Pedestrian Life","B38/S23"]);h.push(["Pedestrian Life without Death",
"B38/S012345678"]);h.push(["Persian Rug","B234/S"]);h.push(["Plow World","B378/S012345678"]);h.push(["Pseudo Life","B357/S238"]);h.push(["Pulsar Life","B3/S238"]);h.push(["Replicator","B1357/S1357"]);h.push(["Replicator 2","B1357/S02468"]);h.push(["Rings 'n' Slugs","B56/S14568"]);h.push(["Seeds","B2/S"]);h.push(["Serviettes","B234/S"]);h.push(["Shoots and Roots","B3/S245678"]);h.push(["Slow Blob","B367/S125678"]);h.push(["Snakeskin","B1/S134567"]);h.push(["Solid islands grow amongst static","B12678/S15678"]);
h.push(["SnowLife","B3/S1237"]);h.push(["Stains","B3678/S235678"]);h.push(["Star Trek","B3/S0248"]);h.push(["Virus","B36/S235"]);h.push(["Vote","B5678/S45678"]);h.push(["Vote 4/5","B4678/S35678"]);h.push(["Walled Cities","B45678/S2345"]);q.push("OT Tri");h.push(["Outer-Totalistic Triangular",""]);h.push(["Rule 1246","B456/S12L"]);h.push(["Life 2333","B3/S23L"]);h.push(["Life 2345","B45/S23L"]);h.push(["Life 2346","B456/S23L"]);h.push(["Life 3445","B45/S34L"]);h.push(["Life 3446","B456/S34L"]);h.push(["Rule 3544",
"B4/S345L"]);h.push(["Life 4546","B456/S45L"]);h.push(["Life 4644","B4/S456L"]);q.push("OT M G");h.push(["Outer-Totalistic Generations Moore",""]);h.push(["9:43 at Knight","237/34578/4"]);h.push(["Banners","2367/3457/5"]);h.push(["BelZhab","23/23/8"]);h.push(["BelZhab Sediment","145678/23/8"]);h.push(["Bloomerang","234/34678/24"]);h.push(["Bombers","345/24/25"]);h.push(["Brain 5","/2/5"]);h.push(["Brain 6","6/246/3"]);h.push(["Brian's Brain","/2/3"]);h.push(["Burst","0235678/3468/9"]);h.push(["BurstII",
"235678/3468/9"]);h.push(["Caterpillars","124567/378/4"]);h.push(["Chenille","05678/24567/6"]);h.push(["Circuit Genesis","2345/1234/8"]);h.push(["Constellations","/23/3"]);h.push(["Cooties","23/2/8"]);h.push(["Diamonds and Spaceships","34578/257/16"]);h.push(["Ebb&Flow","012478/36/18"]);h.push(["Ebb&Flow II","012468/37/18"]);h.push(["Faders","2/2/25"]);h.push(["Fireballs","346/2/4"]);h.push(["Fireworks","2/13/21"]);h.push(["Flaming Starbows","347/23/8"]);h.push(["Free Star","0345/2/10"]);h.push(["Frogs",
"12/34/3"]);h.push(["Frozen spirals","356/23/6"]);h.push(["GeneroLife","2356/3567/4"]);h.push(["Glisserati","035678/245678/7"]);h.push(["Glissergy","035678/245678/5"]);h.push(["Lava","12345/45678/8"]);h.push(["Lines","012345/458/3"]);h.push(["LivingOn TheEdge","345/3/6"]);h.push(["Meteor Guns","01245678/3/8"]);h.push(["Nova","45678/2478/25"]);h.push(["OrthoGo","3/2/4"]);h.push(["Prairie on fire","345/34/6"]);h.push(["RainZha","2/23/8"]);h.push(["Rake","3467/2678/6"]);h.push(["SediMental","45678/25678/4"]);
h.push(["Snake","03467/25/6"]);h.push(["SoftFreeze","13458/38/6"]);h.push(["Spirals","2/234/5"]);h.push(["Star Wars","345/2/4"]);h.push(["Sticks","3456/2/6"]);h.push(["Swirl","23/34/8"]);h.push(["Tadpoles","0125678/345678/64"]);h.push(["ThrillGrill","1234/34/48"]);h.push(["Transers","345/26/5"]);h.push(["TransersII","0345/26/6"]);h.push(["Transers 2","0345/26/6"]);h.push(["Transers 3","0345/26/7"]);h.push(["Wallplicators","345/25678/7"]);h.push(["Wanderers","345/34678/5"]);h.push(["Worms","3467/25/6"]);
h.push(["Xtasy","1456/2356/16"]);q.push("INT Hex");h.push(["Isotropic Non-Totalistic Hex",""]);h.push(["Hex Life","B2o3m56/S2-p4oH"]);h.push(["22da","B2/S2-mH"]);h.push(["Hexrule b2o","B2o/S2m34H"]);q.push("INT M");h.push(["Isotropic Non-Totalistic Moore",""]);h.push(["15Life","B34r/S23-q4et"]);h.push(["104life","B34ky5cy/S23-a4ity6c7"]);h.push(["22k","B2-k/S2-k"]);h.push(["2diagonal","B2n3/S23"]);h.push(["2xpand2","B3/S123eik4ce"]);h.push(["3x3","B35cky68/S0245-c6n"]);h.push(["38life","B35y/S2-n35k6ci"]);
h.push(["4diagonal","B34c/S23"]);h.push(["4life","B34jy/S23"]);h.push(["4life2","B34j/S23"]);h.push(["57life","B34tyz5cy/S23-a4it5ej"]);h.push(["acnelife","B34/S2eik3"]);h.push(["aLife","B3/S234iw"]);h.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);h.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);h.push(["Artillery","B3-y7/S2-i3-c4kqt"]);h.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);h.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);h.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);h.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);
h.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);h.push(["Beaecsizae","B34ce/S12-a3"]);h.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);h.push(["Best Friends","B2ce3aiy/S12aei3r"]);h.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);h.push(["Billiard","B36-e/S12345"]);h.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);h.push(["BlinkBlink","B35ky/S234y"]);h.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);h.push(["blockandglider","B3/S234cw7c"]);
h.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);h.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);h.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);h.push(["bpuff","B3/S23-cky4k7e8"]);h.push(["Breps","B34cqy5c/S23-y4y"]);h.push(["Breps-2","B3aeijn4n8/S234iqz"]);h.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);h.push(["Bubbles","B3ai4-a/S23"]);h.push(["Butterfly","B2i34e6i7c/S2-i36n"]);h.push(["butterflyb7","B2i34e6i7/S2-i36n"]);h.push(["Buzz","B2i35-n/S2-ci36k8"]);
h.push(["CapLife","B36c/S23"]);h.push(["CarrierLife","B2e3aceik/S23"]);h.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);h.push(["cb2","B2ae4i/S1e2in"]);h.push(["cetlife","B34cet/S234jkwyz"]);h.push(["Clouds","B2e3aceij/S23-a4"]);h.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);h.push(["CommonRepl","B3/S23-ac4eiy6"]);h.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);h.push(["Conway++","B3/S234c"]);h.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);h.push(["Conway+-2",
"B3/S2-ak34aikqtwz5inqy"]);h.push(["Conway--","B3/S2-ei3"]);h.push(["crawl","B37e/S2-i34y8"]);h.push(["Creperie","B2ikn3aijn/S23-ckqy"]);h.push(["CrossLife","B3/S234et"]);h.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);h.push(["DenseLife","B3-q4y/S234z"]);h.push(["Diamoeral","B2n3ai4a78/S35678"]);h.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);h.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);h.push(["DLife","B3-n/S23"]);h.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);h.push(["dolife2",
"B2-a3acei4ceqz5y/S234ce5ceky78"]);h.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);h.push(["Dry15Life","B34r7/S23-q4et"]);h.push(["DryGoats","B2in37/S123a"]);h.push(["Dustclouds01","B2ce3-ai/S01"]);h.push(["EasyHighLife","B36-i/S23"]);h.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);h.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);h.push(["EightGoats","B2in3/S123a8"]);h.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8b2ein3cijn4cnrwy5cnq6es1c2-ai3acny4anqy5c6ek8"]);
h.push(["ElectrumLife","B367c/S2-i34q"]);h.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);h.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);h.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);h.push(["FalseB5","B35ce/S234jqtyz6k8"]);h.push(["Frespa","B34ck5/S23aceik4aci"]);h.push(["FattyLife","B3-n4nt5qr6i/S23"]);h.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);h.push(["FlashLife","B2kn3-n4e/S23"]);h.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);h.push(["Flutter","B2-a3j4-acekn56/S15y"]);
h.push(["Flying Life","B3-k5r/S236n7e"]);h.push(["FogLife","B35eq7/S2-i34q"]);h.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);h.push(["FrogLife","B36i/S1c23-acek5k6i8"]);h.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);h.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);h.push(["GemLife","B34c6/S23-q"]);h.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);h.push(["GlideLife","B34ek5ak/S2-c34z"]);h.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);h.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);
h.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);h.push(["glife","B3/S237c"]);h.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);h.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);h.push(["Goat Flock","B2in3/S123a"]);h.push(["Goats","B2in3/S123a"]);h.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);h.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);h.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);h.push(["guntlife","B35j6a/S2-i34q"]);h.push(["Half as Interesting",
"B2ce3i/S23"]);h.push(["hassl8life","B34k5e7c/S23-a4iyz"]);h.push(["hatlife","B35y/S23"]);h.push(["Hats and Shuttles","B34iqwy/S23-cq"]);h.push(["hedgehog","B3/S1c2-a35r6i"]);h.push(["HeptaFish","B3-e4i5i/S234e"]);h.push(["High15Life","B34r6/S23-q4et"]);h.push(["HighGoats","B2in36/S123a"]);h.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);h.push(["hlife","B3/S234ce6k"]);h.push(["hlife2","B3/S2-in34nr"]);h.push(["hlife3","B3/S2-in34iw"]);h.push(["HoneyGoats","B2in38/S123a8"]);h.push(["HouseLife",
"B2i3/S23-r"]);h.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);h.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);h.push(["ilife","B3/S235i"]);h.push(["Immortalife","B3-cqy4j/S2-n34i"]);h.push(["IneticLife","B2-an3-k/S2ac"]);h.push(["IronGoats","B2in36/S123a8"]);h.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);h.push(["Just Friends","B2-a/S12"]);h.push(["Kgdm","B3/S2-c3-en4ceitz"]);h.push(["KineticLife","B2-an3/S2ac"]);h.push(["klife","B34n/S23"]);h.push(["Knyght","B2e3/S23-jq"]);
h.push(["ktlife","B3/S2-i34nq"]);h.push(["LambdaLife","B3-k/S2-i3-k4cen"]);h.push(["Leaplized D&N","B2n3678/S3-q4678"]);h.push(["LifeWithoutGliders","B35n/S23"]);h.push(["Linea","B2-a3-i/S23-a"]);h.push(["LispLife","B2n3/S23-q4e8"]);h.push(["LoafLife","B2n3-q/S23"]);h.push(["longlast","B3/S234ce8"]);h.push(["lotsofdots","B2ikn34e/S023-a4ce"]);h.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);h.push(["maze2","B3/S234-acew"]);h.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);h.push(["MilkyLife",
"B3-c4c5y8/S234qy5y8"]);h.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);h.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);h.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);h.push(["MoveIt","B368/S23cy45-j6n"]);h.push(["movetub","B34e68/S245"]);h.push(["movev","B35y68/S245"]);h.push(["Movostill","B2i3acijk6i/S23-a4"]);h.push(["Movostill 2","B3acijk/S23-a4"]);h.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);h.push(["MuddyLife","B3/S234k"]);h.push(["Nah","B345-a6/S2-a3-a4-a"]);h.push(["nonlife","B3-n/S234iz"]);
h.push(["notlife","B3-q7c/S2-i3-q4q"]);h.push(["notlife (Wright)","B2k3-k/S23-a"]);h.push(["Notlife / Ace","B2-a3/S2ce"]);h.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);h.push(["olife","B2in3/S2-in3"]);h.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);h.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);h.push(["Particles","B2ce3i/S1c2cek"]);h.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);h.push(["Pedestrian Goats","B2in38/S123a"]);h.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);
h.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);h.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);h.push(["Pi replicator life","B3-r4z5y/S238"]);h.push(["Pi-plicator","B3-ckq/S2-c34ci"]);h.push(["PiLife","B37e/S23"]);h.push(["Pilife2","B34c/S234y8"]);h.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);h.push(["plife","B35j/S2-i3"]);h.push(["plife2","B35j6i/S2-i3"]);h.push(["PondLife","B36i/S2-i35i"]);h.push(["PortLife","B34cz5y/S234y8"]);h.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);
h.push(["Prismatika Crystallios","B2ae3r/S1e"]);h.push(["PlasmaLife","B34-air/S234-air"]);h.push(["Puffers","B3-nqr6/S235-nqr"]);h.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);h.push(["qlife","B3-q/S23"]);h.push(["quadraticlife","B34j/S23"]);h.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);h.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);h.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);h.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);h.push(["replife","B34jy6n/S2-i3"]);
h.push(["reptlife","B36-k/S2-i34q"]);h.push(["ResistantLife","B34eknqyz/S23"]);h.push(["Ribbons","B3-nqr/S23"]);h.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);h.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);h.push(["RotoHooks","B34ckyz/S234cz"]);h.push(["rgun","B34t/S2-i35a7e"]);h.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);h.push(["RustyLife","B34-ai/S24-air5-a"]);h.push(["Salad","B2i34c/S2-i3"]);h.push(["Sanctuary","B2ei3ci/S1c23"]);h.push(["sansdomino","B2-a/S014"]);h.push(["Savanna",
"B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);h.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);h.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);h.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);h.push(["SilverLife","B367/S2-i34q"]);h.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);h.push(["Simple Life","B2k34c/S2-c34z8"]);h.push(["SLHassleLife","B3-y5cr/S234w6n"]);h.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);h.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);h.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);
h.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);h.push(["snotlife","B2k3-kn/S23"]);h.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);h.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);h.push(["SparkLife","B36i/S234j"]);h.push(["SparklingLife","B34cqy/S234q"]);h.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);h.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);h.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);h.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);
h.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);h.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);h.push(["t4life","B34jy/S2-i3"]);h.push(["TableLife","B3/S23-ai4anq6n"]);h.push(["TauLife","B3-nr/S2-i34-aij"]);h.push(["tceclife","B36ce7c/S2-i34q"]);h.push(["tDryFlock","B37/S12-i4q"]);h.push(["tDryLife","B37/S2-i34q"]);h.push(["TearfulLife","B34e5c6n/S23-q"]);h.push(["tEightLife","B3/S2-i34q8"]);h.push(["testlife","B36a/S23"]);h.push(["tflock","B3/S12-i4q"]);
h.push(["tHighFlock","B36/S12-i4q"]);h.push(["tHighLife","B36/S2-i34q"]);h.push(["ThisLife","B36i/S23-ce5q"]);h.push(["tlife","B3/S2-i34q"]);h.push(["tosc","B3/S234wz"]);h.push(["tosc2","B36in/S234cw"]);h.push(["tPedestrianFlock","B38/S12-i4q"]);h.push(["tPedestrianLife","B38/S2-i34q"]);h.push(["tq6","B2i34e/S023-a4ce"]);h.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);h.push(["Train","B34t6k8/S2-i35a7e"]);h.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);h.push(["triship","B2a3e/S012-ai3-i45-i678"]);
h.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);h.push(["Turro","B2-a3c/S12-i"]);h.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);h.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);h.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);h.push(["Virus_v2","B3-nqr6/S235"]);h.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);h.push(["WetLife","B34r/S23"]);h.push(["Whichlife","B2in3aeijn/S234e"]);h.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);
h.push(["wlife","B34w/S23"]);h.push(["Worms 0","B01c2n5a/S3a5i"]);h.push(["Writers","B2-a3-inqr4c6/S23"]);h.push(["WSScentral","B3-n45qr6i/S2eik3"]);h.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);h.push(["xtdbee","B3-k/S23"]);h.push(["xvaLifeg","B2e3/S23"]);h.push(["Ylife","B2e3ai4ar/S23-a4a"]);h.push(["ylife (BokaBB)","B34y5y/S234y5y"]);h.push(["zigzag","B3/S2-k34q"]);h.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);q.push("INT M G");h.push(["Isotropic Non-Totalistic Generations Moore",
""]);h.push(["HTech","234e/2e3/3"]);h.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);h.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);h.push(["Simple Brain","234e/e3/3"]);h.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);h.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);q.push("LtL M");h.push(["Larger than Life Moore",""]);h.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);h.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);h.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);h.push(["Bugs R3",
"R3,C2,M1,S14..23,B14..18,NM"]);h.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);h.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);h.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);h.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);h.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);h.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);h.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);h.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);h.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);
h.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);h.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);h.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);h.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);h.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);h.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);h.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);h.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);h.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);h.push(["Quadratic Bugs",
"R6,C2,M1,S47..81,B47..61,NM"]);h.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);h.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);h.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);h.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);h.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);h.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);h.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);q.push("LtL M G");h.push(["Generations Larger than Life Moore",""]);h.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);
h.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);h.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);q.push("HROT vN");h.push(["Higher-Range Outer-Totalistic von Neumann",""]);h.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);h.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);q.push("HROT M");h.push(["Higher-Range Outer-Totalistic Moore",""]);h.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);h.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
h.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);h.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);h.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
h.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);q.push("MAP NINT");h.push(["MAP Non-Isotropic",""]);h.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);h.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
h.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);h.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);h.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);h.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);h.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
h.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);h.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);h.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);h.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);h.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);
q.push("Weighted");h.push(["Weighted",""]);h.push(["Ben's rule","R1,C2,S3,5,8,B4,6,8,NW323202323"]);h.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);h.push(["Bricks","R1,C3,S10,12,14,16,B7,13,NW525202525"]);h.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);h.push(["Career","R1,C2,S2-3,B3,NW121101111"]);h.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);h.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);h.push(["Conway",
"R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);h.push(["Conway--","R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);h.push(["Conway++","R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);h.push(["Conway+-1","R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);h.push(["Conway+-2","R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);h.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);h.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);h.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);h.push(["Dragon",
"R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);h.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);h.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);h.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);h.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);h.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);h.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);h.push(["Frost M","R1,C25,S,B1,NW111101111"]);
h.push(["Frost N","R1,C25,S,B1,NW010101010"]);h.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);h.push(["HexParity","R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);h.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);h.push(["Hex Inverse Fire","R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);h.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);h.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);h.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);h.push(["Lemmings",
"R1,C2,S3-6,B4,NW121202131"]);h.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);h.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);h.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);h.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);h.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);h.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);h.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);h.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);h.push(["Navaho1",
"R1,C12,S8-9,11,B2,5,NW414575414"]);h.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011"]);h.push(["Parity","R1,C2,S1,3,5,B1,3,5,NW010111010"]);h.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);h.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);h.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);h.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);h.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);h.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);
h.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);h.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);h.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);h.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);h.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);h.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);h.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);h.push(["Stream",
"R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);h.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);h.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);h.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);h.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);h.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);h.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);h.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);h.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);
q.push("Weighted G");h.push(["Weighted Generations",""]);h.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);h.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);h.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);h.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);h.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);h.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);h.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);h.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);
h.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);h.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);h.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);q.push("Alt OT M");h.push(["Alternating Outer-Totalistic Moore",""]);h.push(["alternlife","B13/S012345678|B/S15"]);h.push(["comb395","B3/S1237|B2/S"]);h.push(["comb625","B3/S348|B2/S356"]);h.push(["Dotlesslife","B3/S23|B/S12345678"]);h.push(["Fizzler","B13/S3|B/S345678"]);h.push(["Jelly","B3/S135|B2/S5"]);h.push(["Phoenix","B24/S|B35/S"]);
q.push("Alt INT M");h.push(["Alternating Non-Totalistic Moore",""]);h.push(["SparklessLife","B3/S23|B/S1c2345678"]);h.push(["Unidim1","B134578/S02345678|B6i7/S268"]);h.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);h.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.Bc[0][2]=!1;this.Bc[0][3]=!1;for(w=1;w<this.Bc.length;w+=1)for(h=this.Bc[w][1],q=this.Bc[w][0],this.Bc[w][2]=!1,this.Bc[w][3]=!1,g=0;g<w;g+=1)this.Bc[g][0]===q&&(this.Bc[g][3]=!0,this.Bc[w][3]=!0),this.Bc[g][1]===h&&(this.Bc[g][2]=
!0,this.Bc[w][2]=!0)},By:function(w){var g=null,h=0;for(w=w.replace(/&amp;/g,"&");h<this.Bc.length&&null===g;)""!==this.Bc[h][1]&&this.Bc[h][0]===w&&(g=this.Bc[h][1]),h+=1;if(!g)for(w=w.toLowerCase(),h=0;h<this.Bc.length&&null===g;)""!==this.Bc[h][1]&&this.Bc[h][0].toLowerCase()===w&&(g=this.Bc[h][1]),h+=1;return g},ar:function(w){for(var g=null,h=0;h<this.Bc.length&&null===g;)""!==this.Bc[h][1]&&this.Bc[h][1]===w&&(g=this.Bc[h][0]),h+=1;return g}}}(),function(){function w(d,f,n,m,r){this.m=r;this.Ra=
d;this.$a=f;this.Pb=n;this.message="";this.fa=d;this.qa=f;this.Nb=n;this.kk="";this.N=this.B=!1;this.context=m;this.wb=!1;this.Ea=this.aa=0;this.Kg="rgb(32,255,255)";this.GF="white";this.j=0;this.animate=!1;this.Zb=this.nc="black";this.enabled=!1;this.scale=1}function g(d,f,n,m){this.name=d;this.width=f;this.height=n;this.Dp=m}function h(d,f){this.context=f;this.N=d;this.height=this.width=0;this.qa=this.fa=this.B=this.j=null;this.aa=[];this.Ev=!0;this.NA=-1;this.UD=0;this.cf=!1;this.scale=1}function q(d,
f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A,C,D,G){this.id=d;this.B=G;this.A="";this.jm=-1;this.h=this.tu=!1;this.Ib=f;this.caller=n;this.icon=D;this.x=r;this.y=v;this.Im=r;this.j=v;this.position=m;this.width=x;this.height=u;this.ss=x;this.PA=u;this.border=p;this.type=l;e===c.zx?this.orientation=x>=u?c.He:c.vertical:this.orientation=e;this.Ks=this.orientation;this.lower=t;this.upper=B;l===c.eo?this.current=[b,b]:this.current=b;this.nC=y;this.Va=z;this.AA=A;this.fixed=C;this.Gu=!1;this.nz=this.mz=-1;this.textAlign=
c.dD;this.enabled=!0;this.locked=!1;this.ug=[];if(this.type===c.list)for(d=0;d<t.length;d+=1)this.ug[d]=!1;this.Qs=[];this.Zu=0;this.UJ=!1;this.Tc=G.Tc;this.Ce=G.Ce;if(l===c.list)for(this.kn=[],d=0;d<t.length;d+=1)this.kn[d]=this.Tc;this.Uf=G.Uf;this.qg=G.qg;this.hi=G.hi;this.Wk=G.Wk;this.Lm=G.Lm;this.mo=G.mo;this.Qg=G.Qg;this.dk=G.dk;this.Sh=G.Sh;this.Jk=G.Jk;this.border=G.border;this.fontSize=parseInt(G.Nk.substr(0,G.Nk.indexOf("px")),10);this.fontFamily=G.Nk.substr(G.Nk.indexOf("px")+3)}function k(d,
f,n,m,r,v){this.v=d;this.context=r;this.jh=this.Ae=1;this.Nk=v;this.locked=this.h=!1;this.Ag=this.df=-1;this.on=this.Hc=!1;this.fa=this.aa=-1;this.Ea=6;this.Ib=f;this.qe=[];this.Ic=0;this.Tc="";this.Ce=0;this.Uf="";this.qg=0;this.hi="";this.Wk=0;this.Lm="";this.mo=0;this.Qg="";this.dk=0;this.Sh="";this.border=this.Jk=0;this.B=c.zx;this.um=this.Ik=-1;this.Bn=this.zC=null;this.ft=n;this.caller=m;this.U=null;this.Tx=this.Gt=this.N="auto"}function a(d,f,n,m,r,v){var x=this,u=0;this.lf=1;this.Ty=this.BA=
!0;this.Ra=this.$a=40;this.AM=50;this.xj=0;this.aa=this.fa=this.Ea=-1;this.Zn=!1;this.caller=r;this.wj=this.mb=this.dl=this.Nc=!1;this.ye=4;this.LD=v;this.hasFocus=this.Dq=!1;this.yq=!0;this.Ys=!1;this.dn=1;this.Wt=8;this.Tc="black";this.Ce=.7;this.Uf="white";this.qg=1;this.hi="rgb(0,240,32)";this.Wk=.7;this.Lm="blue";this.mo=.7;this.Qg="grey";this.dk=1;this.Sh="rgb(32,255,255)";this.border=this.Jk=1;this.cD=function(t){return function(){t.nc(t)}}(this);this.U=m;this.Uc=d;this.yc=f;this.Hc=!1;this.cl=
this.bl=-1;this.cm=!1;this.qh=-1;this.Cc=null;this.Nk=n;this.Nm=this.nl=!1;this.Hu=performance.now();this.Xn=5;this.Ps=0;this.kz=[];this.qz=[];this.jz=[];for(u=0;5>u;u+=1)this.kz[u]=0,this.qz[u]=0,this.jz[u]=0;this.Kr=null;this.Jh=!1;this.notification=new w(25,100,25,f,this);this.lz=performance.now();this.on=this.lC=!1;this.N=[];this.j=this.B=0;registerEvent(d,"mousedown",function(t){x.wb(x,t)},!1);registerEvent(d,"mousemove",function(t){x.Nb(x,t)},!1);registerEvent(d,"mouseup",function(t){x.Zb(x,
t)},!1);registerEvent(d,"mouseover",function(t){x.Tb(x,t)},!1);registerEvent(d,"mouseout",function(t){x.Pb(x,t)},!1);registerEvent(d,"touchstart",function(t){x.qa(x,t)},!1);registerEvent(d,"touchmove",function(t){x.qa(x,t)},!1);registerEvent(d,"touchend",function(t){x.qa(x,t)},!1);registerEvent(d,"touchcancel",function(t){x.qa(x,t)},!1)}w.prototype.An=function(){var d=!1;if(""!==this.message||""!==this.kk)d=!0;return d};w.prototype.clear=function(d,f){d?""!==this.kk&&(f||this.N?(this.kk="",this.N=
!1):(this.Ea=performance.now()-(this.fa+this.qa),this.N=!0)):""!==this.message&&(f||this.B?(this.B=!1,this.message=""):(this.aa=performance.now()-(this.Ra+this.$a),this.B=!0))};w.prototype.notify=function(d,f,n,m,r){this.enabled&&(r?this.kk!==d&&(this.kk=d,this.fa=16*f,this.qa=16*n,this.Nb=16*m,this.Ea=performance.now(),this.N=!1,this.j=0,this.animate=!1):(this.message=d,this.Ra=16*f,this.$a=16*n,this.Pb=16*m,this.aa=performance.now(),this.B=!1))};w.prototype.Cn=function(d,f,n){var m=this.context.measureText(d).width>>
1;if(this.wb){this.context.fillStyle=this.Zb;var r=this.context.globalAlpha;this.context.globalAlpha=.5*r;this.context.fillRect(-m-20,-n,2*m+40,2*n);this.context.globalAlpha=r}this.context.fillStyle=this.nc;this.context.fillText(d,-m+2,2);f?this.animate?(this.context.fillStyle=128>this.j?"rgb("+2*this.j+","+2*this.j+",255)":"rgb("+2*(256-this.j)+","+2*(256-this.j)+",255)",this.j=this.j+4&255):this.context.fillStyle=this.GF:this.context.fillStyle=this.Kg;this.context.fillText(d,-m,0)};w.prototype.Tb=
function(d,f,n,m,r,v,x){var u=30*this.scale,t=32*this.scale,B=this.m.ye,b=60*this.scale,l=!0;this.m.Nc?(b=0,v=this.context.canvas.height/2,this.wb=!0):this.wb=!1;""!==d&&(l=!1,r=performance.now()-r,this.context.save(),this.m.mb&&(x?(b=0,v=this.context.canvas.height/2):(u/=B,t=t/B|0,v=v/B|0,b=b/B|0)),this.context.font=(u|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,b+v),r<=f?(v=r/f,v*=v,this.context.globalAlpha=v,this.context.scale(v,v)):r>f+n&&r<=f+n+m&&(v=(m-(r-(f+n)))/m,v*=
v,this.context.globalAlpha=v,this.context.scale(v,v)),r>f+n+m?l=!0:(f=d.indexOf("\\n"),-1===f?this.Cn(d,x,t):(this.Cn(d.substr(0,f),x,t),this.context.translate(0,t),this.Cn(d.substr(f+2),x,t))),this.context.restore());return l};w.prototype.update=function(){var d=this.m.Cc.jh;this.Tb(this.message,this.Ra,this.$a,this.Pb,this.aa,81*d,!1)&&(this.message="");this.m.mb&&"Expand"!==this.kk&&"Launch"!==this.kk||!this.Tb(this.kk,this.fa,this.qa,this.Nb,this.Ea,45*d,!0)||(this.kk="")};h.prototype.gM=function(d){this.scale=
d};h.prototype.Cn=function(d,f,n,m){var r;if(0<this.N.width){this.cf||(this.width=this.N.width,this.height=this.N.height,this.j=document.createElement("canvas"),this.j.width=this.width,this.j.height=this.height,this.B=this.j.getContext("2d"),this.fa=new Image,this.qa=new Image);if(this.Ev){this.B.drawImage(this.N,0,0);var v=this.B.getImageData(0,0,this.j.width,this.j.height);var x=new Uint32Array(v.data.buffer);for(r=0;r<x.length;r+=1)4294967295===x[r]&&(x[r]=this.UD);this.B.putImageData(v,0,0);this.qa.src=
this.j.toDataURL("image/png");this.B.drawImage(this.N,0,0);v=this.B.getImageData(0,0,this.j.width,this.j.height);x=new Uint32Array(v.data.buffer);for(r=0;r<x.length;r+=1)4294967295===x[r]&&(x[r]=this.NA);this.B.putImageData(v,0,0);this.cf=this.Ev=!1}this.cf||(this.fa.src=this.j.toDataURL("image/png"),this.cf=!0);1!==this.scale&&(this.context.save(),this.context.translate(f,n),this.context.scale(this.scale,this.scale),this.context.imageSmoothingEnabled=!0,n=f=0);m?this.context.drawImage(this.qa,d.Dp*
d.width,0,d.width,d.height,f,n,d.width,d.height):this.context.drawImage(this.fa,d.Dp*d.width,0,d.width,d.height,f,n,d.width,d.height);1!==this.scale&&(this.context.restore(),this.context.imageSmoothingEnabled=!1)}};h.prototype.length=function(){return this.aa.length};h.prototype.icon=function(d){var f,n=this.aa,m=this.length(),r=null;for(f=0;f<m&&!r;)n[f].name===d?r=n[f]:f+=1;return r};h.prototype.add=function(d,f,n){var m=this.aa.length;d=new g(d,f,n,m);this.aa[m]=d};var c={zx:0,He:1,vertical:2,
eo:0,button:1,toggle:2,Zg:3,list:4,label:5,Pm:0,La:1,left:0,dD:1,right:2,la:0,pc:1,qy:2,ib:3,eq:4,rj:5,DC:6,md:7,Eb:8};q.prototype.pg=function(d){!this.h&&d&&(this.h=!0)};q.prototype.Xa=function(d){this.fontSize=parseInt(d.substr(0,d.indexOf("px")),10);this.fontFamily=d.substr(d.indexOf("px")+3)};q.prototype.zs=function(d,f,n,m,r,v){this.Uf=d;this.Tc=f;this.hi=n;this.Lm=m;this.Qg=r;this.Sh=v;if(this.type===c.list)for(this.kn=[],d=0;d<this.lower.length;d+=1)this.kn[d]=this.Tc};q.prototype.ri=function(d){this.ss=
d};q.prototype.aM=function(d){this.PA=d};q.prototype.oo=function(d){this.Im=d};q.prototype.mM=function(d){this.j=d};q.prototype.setPosition=function(d,f,n){this.position=d;this.Im=f;this.j=n};q.prototype.aI=function(d,f){var n=this.B.Ae,m=this.B.jh,r=this.Im*n,v=this.j*m;n=this.ss*n;m=this.PA*m;this.x=r;this.y=v;this.width=n;this.height=m;switch(this.position){case c.la:this.x=(d-n>>1)+r;break;case c.pc:this.x=d+r;break;case c.qy:this.y=(f-m>>1)+v;this.x=d+r;break;case c.ib:this.x=d+r;this.y=f+v;
break;case c.eq:this.x=(d-n>>1)+r;this.y=f+v;break;case c.rj:this.y=f+v;break;case c.DC:this.y=(f-m>>1)+v;break;case c.Eb:this.x=(d-n>>1)+r,this.y=(f-m>>1)+v}};q.prototype.MC=function(d,f){var n=this.Zu;this.Qs[n]=[d,f];this.Zu=n+1};q.prototype.gt=function(d){var f=[],n;var m=d.length;for(n=0;n<m;n+=1)d[n].MC(this,!0);m=f.length;for(n=0;n<m;n+=1)f[n].MC(this,!1)};q.prototype.wK=function(d,f){var n=!1;this.enabled&&d>=this.x&&d<this.x+this.width&&f>=this.y&&f<this.y+this.height&&(n=!0);return n};k.prototype.GL=
function(d){this.jh=this.Ae=d;this.v.notification.scale=d};k.prototype.zs=function(d,f,n,m,r,v){var x;this.Uf=d;this.Tc=f;this.hi=n;this.Qg=r;this.Sh=v;for(x=0;x<this.qe.length;x+=1)this.qe[x].zs(d,f,n,m,r,v)};k.prototype.qa=function(d,f){var n=!1,m=d.Zu;d.type===c.list&&d.upper===c.La?n=d.current[0]:n=d.current===d.upper;d.UJ&&(n=!n);if(n&&f)for(f=0;f<m;f+=1)n=n&&this.qa(d.Qs[f][0],d.Qs[f][1]);return n};k.prototype.vG=function(d){var f,n=d.Zu;var m=!0;for(f=0;f<n;f+=1)m=m&&this.qa(d.Qs[f][0],d.Qs[f][1]);
d.enabled=m};k.prototype.cf=function(){var d;for(d=0;d<this.Ic;d+=1){var f=this.qe[d];f.enabled=!0;switch(f.type){case c.toggle:f.Ib&&(f.current=f.Ib(f.current===f.upper,!1,this.caller)?f.upper:f.lower);break;case c.eo:f.Ib&&(f.current=f.Ib(f.current,!1,this.caller));break;case c.list:f.Ib&&(f.current=f.Ib(f.current,!1,this.caller))}this.vG(f)}};k.prototype.fb=function(d,f,n,m,r,v,x,u,t){this.qe[this.Ic]=new q(this.Ic,d,this.caller,f,n,m,r,v,x,t,u,c.list,this.B,this.border,!0,"","",-1,[],this);this.Ic+=
1;return this.qe[this.Ic-1]};k.prototype.Oj=function(d,f,n,m,r,v,x,u,t,B,b,l){this.qe[this.Ic]=new q(this.Ic,d,this.caller,f,n,m,r,v,x,u,t,c.eo,this.B,this.border,!0,B,b,l,null,this);this.Ic+=1;return this.qe[this.Ic-1]};k.prototype.Aa=function(d,f,n,m,r,v){this.qe[this.Ic]=new q(this.Ic,null,null,d,f,n,m,r,0,0,0,c.label,this.B,this.border,!0,v,"",-1,null,this);this.Ic+=1;return this.qe[this.Ic-1]};k.prototype.Ka=function(d,f,n,m,r,v){this.qe[this.Ic]=new q(this.Ic,d,this.caller,f,n,m,r,40,0,0,0,
c.button,this.B,this.border,!0,v,"",-1,null,this);this.Ic+=1;return this.qe[this.Ic-1]};k.prototype.FH=function(){this.qe[this.Ic]=new q(this.Ic,null,null,Menu.rj,0,-40,100,40,0,100,0,c.Zg,this.B,this.border,!1,"","",0,null,this);this.Ic+=1;return this.qe[this.Ic-1]};k.prototype.j=function(d,f,n){var m;d+=String();if(""!==d){this.context.save();this.context.translate(f.x+f.width/2,f.y+f.height/2);this.context.font=(f.fontSize*this.Ae|0)+"px "+f.fontFamily;f.Ks===c.vertical&&this.context.rotate(.5*
Math.PI);var r=this.context.measureText(d).width;var v=f.Ks===c.vertical?f.height:f.width;if(r>=v-6){if(m=d.length){do{--m;var x=d.substr(0,m)+"...";r=this.context.measureText(x).width}while(1<m&&r>=v-6)}d=x}switch(f.textAlign){case c.left:var u=f.width/2-2;break;case c.dD:u=r/2;break;case c.right:u=r/2-(f.width-r)/2+4}this.context.fillStyle=f.Tc;n&&this.context.fillRect(2-u,2,r,2);this.context.fillText(d,2-u+.5,2.5);this.context.fillStyle=f.locked||this.locked?f.Qg:f.Uf;this.context.fillText(d,-u+
.5,.5);n&&this.context.fillRect(-u,0,r,2);this.context.restore()}};k.prototype.wb=function(d){this.context.globalAlpha=this.qg;this.j(d.Va,d,!1)};k.prototype.Ra=function(d){this.context.globalAlpha=this.qg;this.j(d.Va,d,!1)};k.prototype.Pb=function(d){var f=(d.current-d.lower)/(d.upper-d.lower);this.context.globalAlpha=d.Ce;this.context.fillStyle=d.Uf;d.orientation===c.He?(f*=d.width-3,this.context.fillRect(d.x+(f+1|0),d.y,1,d.height)):(f*=d.height-3,this.context.fillRect(d.x,d.y+(f+1|0),d.width,
1));f=d.Va;d.nC&&(f=-1!==d.fixed?f+d.current.toFixed(d.fixed):f+d.current,f+=d.AA);""!==f&&(this.context.globalAlpha=d.qg,this.j(f,d,!1))};k.prototype.Tb=function(d,f){var n=(d.current[0]-d.lower)/(d.upper-d.lower);var m=this.Ea;d.orientation===c.He?(n*=d.width-3,n=n+1|0,f&&(this.context.fillStyle=d.hi,this.context.globalAlpha=d.Wk,this.context.fillRect(d.x+n-m,d.y,m,d.height),this.context.fillRect(d.x+n+1,d.y,m,d.height)),d.locked||this.locked?(this.context.fillStyle=d.Qg,this.context.globalAlpha=
d.dk):(this.context.fillStyle=d.Uf,this.context.globalAlpha=d.qg),this.context.fillRect(d.x+n,d.y,1,d.height)):(n*=d.height-3,n=n+1|0,f&&(this.context.fillStyle=d.hi,this.context.globalAlpha=d.Wk,this.context.fillRect(d.x,d.y+n-m,d.width,m),this.context.fillRect(d.x,d.y+n+1,d.width,m)),d.locked||this.locked?(this.context.fillStyle=d.Qg,this.context.globalAlpha=d.dk):(this.context.fillStyle=d.Uf,this.context.globalAlpha=d.qg),this.context.fillRect(d.x,d.y+n,d.width,1));f=d.Va;d.nC&&(f=0<=d.fixed?f+
d.current[1].toFixed(d.fixed):f+d.current[1]);f+=d.AA;""!==f&&(this.context.globalAlpha=this.qg,this.j(f,d,!1))};k.prototype.Zb=function(d){this.context.globalAlpha=this.qg;var f="-"===d.lower&&""===d.upper&&d.current===d.lower;var n=d.Va;d.nC&&!f&&(n+=d.current);n+=d.AA;this.j(n,d,f)};k.prototype.Nb=function(d,f){var n=d.x;var m=d.y;var r=d.width;var v=d.height;var x=d.orientation;var u=d.current;var t=d.lower;var B=t.length;var b=d.orientation===c.He?r/B:v/B;this.context.globalAlpha=d.mo;this.context.fillStyle=
d.Lm;if(d.upper===c.Pm){var l=d.current;0<=l&&l<B&&(d.orientation===c.He?this.context.fillRect(n+l*b+1,m+1,b-2,v-2):this.context.fillRect(n+1,m+1+l*b,r-2,b-2))}else if(d.orientation===c.He)for(l=0;l<B;l+=1)u[l]&&this.context.fillRect(n+l*b+1,m+1,b-2,v-2);else for(l=0;l<B;l+=1)u[l]&&this.context.fillRect(n+1,m+1+l*b,r-2,b-2);d.tu=!1;f?(this.context.globalAlpha=d.Wk,this.context.fillStyle=d.hi,d.orientation===c.He?(l=(this.df-n)/r*B|0,0<=l&&l<B&&(d.ug[l]?d.tu=!0:this.context.fillRect(n+l*b+.5,m+.5,
b-1,v-1))):(l=(this.Ag-m)/v*B|0,0<=l&&l<B&&(d.ug[l]?d.tu=!0:this.context.fillRect(n+.5,m+.5+l*b,r-1,b-1))),d.jm=l):d.jm=-1;this.context.globalAlpha=this.qg;if(d.orientation===c.He)for(l=0;l<B;l+=1)d.icon[l]&&this.U.Cn(d.icon[l],d.x+b*l,d.y,this.locked||d.locked||d.ug[l]);else for(l=0;l<B;l+=1)d.icon[l]&&this.U.Cn(d.icon[l],d.x,d.y+b*l,this.locked||d.locked||d.ug[l]);this.context.globalAlpha=d.qg;this.context.fillStyle=d.Uf;if(x===c.He)for(l=0;l<B;l+=1)n=t[l],""!==n&&(this.context.save(),this.context.translate((.5+
(l-B/2))*b,0),this.j(n,d,!1),this.context.restore());else for(l=0;l<B;l+=1)n=t[l],""!==n&&(this.context.save(),this.context.translate(0,(.5+(l-B/2))*b),this.j(n,d,!1),this.context.restore())};k.prototype.$a=function(d,f,n,m,r){var v=!0;f&&!this.Hc&&r&&(v=!1);v&&(n===m||-1===m&&f)&&(d.type===c.button||d.type===c.toggle)?(this.context.fillStyle=d.hi,this.context.globalAlpha=d.Wk):(this.context.fillStyle=d.Tc,this.context.globalAlpha=d.Ce);switch(d.type){case c.Zg:r=(d.current-d.lower)/(d.upper-d.lower);
this.context.fillStyle=d.Lm;this.context.globalAlpha=d.mo;d.orientation===c.He?(r*=d.width-3,r=r+1|0,this.context.fillRect(d.x,d.y,r,d.height),this.context.fillStyle=d.Tc,this.context.globalAlpha=d.Ce,this.context.fillRect(d.x+r,d.y,d.width-r,d.height)):(r*=d.height-3,r=r+1|0,this.context.fillRect(d.x,d.y,d.width,r),this.context.fillStyle=d.Tc,this.context.fillRect(d.x,d.y+r,d.width,d.height-r));break;case c.eo:r=(d.current[0]-d.lower)/(d.upper-d.lower);if(n===m||-1===m&&f){var x=this.Ea;if(d.orientation===
c.He){r*=d.width-3;r=r+1|0;var u=r-x;0<u&&this.context.fillRect(d.x,d.y,u,d.height);u=1+r+x;u<d.width&&this.context.fillRect(d.x+u,d.y,d.width-u,d.height)}else r*=d.height-3,r=r+1|0,u=r-x,0<u&&this.context.fillRect(d.x,d.y,d.width,u),u=1+r+x,u<d.height&&this.context.fillRect(d.x,d.y+u,d.width,d.height-u)}else this.context.fillRect(d.x,d.y,d.width,d.height);break;case c.list:x=d.lower.length;if(d.orientation===c.He)for(u=d.width/x,r=0;r<x;r+=1)this.context.fillStyle=d.kn[r],this.context.fillRect(d.x+
r*u+1,d.y+1,u-2,d.height-2);else for(u=d.height/x,r=0;r<x;r+=1)this.context.fillStyle=d.kn[r],this.context.fillRect(d.x+1,d.y+1+r*u,d.width-2,u-2);break;default:this.context.fillRect(d.x,d.y,d.width,d.height)}d.type!==c.list&&d.icon&&(this.context.globalAlpha=d.qg,this.U.Cn(d.icon,d.x,d.y,this.locked||d.locked));if(0<d.border)switch(d.locked||this.locked?(this.context.strokeStyle=d.Qg,this.context.globalAlpha=d.dk):(this.context.strokeStyle=d.Sh,this.context.globalAlpha=d.Jk),this.context.lineWidth=
d.border,d.type){case c.label:break;case c.list:x=d.lower.length;if(d.orientation===c.He)for(u=d.width/x,r=0;r<x;r+=1)this.locked||d.locked||d.ug[r]?(this.context.strokeStyle=d.Qg,this.context.globalAlpha=d.dk):(this.context.strokeStyle=d.Sh,this.context.globalAlpha=d.Jk),this.context.strokeRect(d.x+.5+r*u,d.y+.5,u-1,d.height-1);else for(u=d.height/x,r=0;r<x;r+=1)this.locked||d.locked||d.ug[r]?(this.context.strokeStyle=d.Qg,this.context.globalAlpha=d.dk):(this.context.strokeStyle=d.Sh,this.context.globalAlpha=
d.Jk),this.context.strokeRect(d.x+.5,d.y+.5+r*u,d.width-1,u-1);break;default:this.context.strokeRect(d.x+.5,d.y+.5,d.width-1,d.height-1)}switch(d.type){case c.button:this.Ra(d);break;case c.label:this.wb(d);break;case c.eo:this.Tb(d,v&&(n===m||-1===m&&f));break;case c.toggle:this.Zb(d);break;case c.Zg:this.Pb(d);break;case c.list:this.Nb(d,v&&(n===m||-1===m&&f))}if(n===m)switch(d.type){case c.eo:v=this.Ag,d.orientation===c.vertical?(v<d.y?v=d.y:v>=d.y+d.height&&(v=d.y+d.height-1),d.current[0]=(v-
d.y)/(d.height-1)*(d.upper-d.lower)+d.lower):(v=this.df,v<d.x?v=d.x:v>=d.x+d.width&&(v=d.x+d.width-1),d.current[0]=(v-d.x)/(d.width-1)*(d.upper-d.lower)+d.lower),d.Ib&&(d.current=d.Ib(d.current,!0,d.caller))}if(f&&!this.Hc&&d.Gu)switch(d.type){case c.button:d.Ib&&d.Ib(d.caller);break;case c.toggle:d.current=d.current===d.upper?d.lower:d.upper;d.Ib&&d.Ib(d.current===d.upper,!0,d.caller);break;case c.list:x=d.lower.length,u=d.orientation===c.He?(this.df-d.x)/d.width*x|0:(this.Ag-d.y)/d.height*x|0,d.upper===
c.Pm?d.ug[u]||(d.Ib?d.current=d.Ib(u,!0,d.caller):d.current=u):d.ug[u]||(d.current[u]=!d.current[u],d.Ib&&d.Ib(d.current,!0,d.caller))}f&&n===m?(d.Gu=this.Hc,d.mz=this.df,d.nz=this.Ag):(d.Gu=!1,d.mz=-1,d.nz=-1)};k.prototype.Sv=function(d){this.N=d};k.prototype.py=function(){var d,f=!1,n=this.context.canvas.width,m=this.context.canvas.height,r=-1;var v=!1;this.um=-1;if(this.h)this.Hc?-2!==this.Ik?(this.aa=this.df,this.fa=this.Ag,this.mz=this.df,this.nz=this.Ag,this.Ik=-2):this.Bn&&!this.locked&&this.Bn(this.df,
this.Ag,this.Hc,this.caller):(-2===this.Ik&&(this.Bn&&!this.locked&&this.Bn(this.df,this.Ag,this.Hc,this.caller),this.df===this.aa&&this.Ag===this.fa&&this.zC&&(this.v.Dq?this.v.Dq=!1:this.zC(this.df,this.Ag,this.Hc,this.caller))),this.Hc||(this.Ik=-1));else{var x=this.Ik;this.context.textAlign="left";for(d=0;d<this.Ic;d+=1){var u=this.qe[d];if(!u.h){u.aI(n,m);var t=!1;u.wK(this.df,this.Ag)&&(r=d,u.locked||this.locked?f=!0:t=!0);t&&!this.Hc&&(this.um=d);(this.Hc&&-1===x&&t||t&&this.on)&&u.type!==
c.label&&(x=d,this.on&&(u.Gu=!0));d===x&&(u.locked||this.locked)&&(x=-1,t=!1);u.enabled&&this.$a(u,t,d,x,this.v.cm)}}0<=x&&!this.Hc&&(v=!0);this.Hc&&-1===x&&!f&&(x=-2);-2===x&&this.Bn&&!this.locked&&this.Bn(this.df,this.Ag,this.Hc,this.caller);this.Hc||(x=-1);this.Ik=x;this.context.globalAlpha=1}0<=r?this.Gt=this.qe[r].type===c.eo?this.qe[r].orientation===c.zx||this.qe[r].orientation===c.He?"ew-resize":"ns-resize":"auto":this.Gt=this.N;return v};a.prototype.RF=function(){this.N=[];this.j=this.B=0};
a.prototype.JH=function(){var d=0;0<this.j&&(d=this.B/this.j);this.N[this.N.length]=d;this.j=this.B=0};a.prototype.AJ=function(d){var f=-1;0<=d&&d<this.N.length&&(f=this.N[d]);return f};a.prototype.zs=function(d,f,n,m,r,v){this.Uf=d;this.Tc=f;this.hi=n;this.Qg=r;this.Sh=v;this.Cc&&this.Cc.zs(d,f,n,m,r,v)};a.prototype.DI=function(d,f,n){d=new k(this,d,f,n,this.yc,this.Nk);d.Uf=this.Uf;d.qg=this.qg;d.Tc=this.Tc;d.Ce=this.Ce;d.hi=this.hi;d.Wk=this.Wk;d.Lm=this.Lm;d.mo=this.mo;d.Qg=this.Qg;d.dk=this.dk;
d.Sh=this.Sh;d.Jk=this.Jk;d.border=this.border;return d};a.prototype.cJ=function(){var d=this.Cc,f=d.Ae,n=this.yc,m="",r="";var v=1;if(-1!==d.Ik||-1===d.Ik&&-1===d.um)this.aa=d.Ik;if(-1===d.um||-1!==this.aa&&this.aa===d.um){if(-1!==d.um){var x=d.qe[d.um];x.id===this.Ea&&x.jm!==this.fa&&(this.aa=-1)}50>this.xj&&(this.xj+=1)}else{x=d.qe[d.um];x.id!==this.Ea||x.id===this.Ea&&x.jm!==this.fa?(this.Ea=x.id,this.fa=x.jm,50>this.xj&&(this.xj+=1)):0<=this.xj&&--this.xj;-1!==this.fa?m=x.A[this.fa]:Array.isArray(x.A)?
m="":m=x.A;var u=m.indexOf("\n");if(""!==m&&-1===this.xj&&!x.tu){this.aa=-1;var t=x.x;var B=x.y;var b=x.width;var l=x.height;-1!==x.jm&&(x.orientation===c.He?(t+=b/x.lower.length*x.jm,b/=x.lower.length):(B+=l/x.lower.length*x.jm,l/=x.lower.length));d=18*f;n.font=(d|0)+"px Arial";var e=4*f;var p=n.measureText(m).width;f=Math.round(t+b/2);B=Math.round(B+l/2);f-=p/2;f<e+1?f=e+1:f+p+e>n.canvas.width&&(f=n.canvas.width-p-e-1);l>b?(-1!==this.Ra&&b<this.Ra&&(b=this.Ra),f>n.canvas.width/2?f=t-p-b/2:f=t+x.width+
b/2):(-1!==this.$a&&l<this.$a&&(l=this.$a),B>n.canvas.height/2?B-=l:B+=l);if(p>n.canvas.width){r=(p>>1)+d+e;r>n.canvas.width&&(r=n.canvas.width);for(v=1;n.measureText(m.substr(0,v)).width<r;)v+=1;for(p=v-1;p>v-5;)r=m[p]," "===r||","===r||"/"===r||"|"===r?(v=p+2,p=v-5):--p;r=m.substr(v-1);m=m.substr(0,v-1);p=n.measureText(m).width;v=n.measureText(r).width;v>p&&(p=v);v=2}else-1!==u&&(r=m.substr(u+1),v=n.measureText(r).width,m=m.substr(0,u),p=n.measureText(m).width,v>p&&(p=v),v=2);u=d*v+2*e;2===v&&B>
n.canvas.height/2&&(B-=d+e,u+=e);n.globalAlpha=this.Ce;n.fillStyle=this.Tc;n.fillRect((f-e|0)-.5,(B-d/2-e|0)-.5,p+2+2*e,u);n.globalAlpha=this.Jk;n.strokeStyle=this.Sh;n.strokeRect((f-e|0)-.5,(B-d/2-e|0)-.5,p+2+2*e,u);n.globalAlpha=this.Ce;n.strokeStyle=this.Tc;n.beginPath();n.moveTo((f-e|0)+.5,(B-d/2-e|0)+.5+u);n.lineTo((f-e|0)+.5+p+2+2*e,(B-d/2-e|0)+.5+u);n.lineTo((f-e|0)+.5+p+2+2*e,(B-d/2-e|0)+.5);n.stroke();n.globalAlpha=1;n.fillStyle=this.Tc;n.fillText(m,f+2,B+2);""!==r&&n.fillText(r,f+2,B+d+
e+2);n.fillStyle=this.Uf;n.fillText(m,f,B);""!==r&&n.fillText(r,f,B+d+e)}}};a.prototype.nc=function(d){var f,n,m,r=d.yc,v=90,x=1,u=1;d.mb&&(v=0);d.Ys=!1;d.lC=!0;d.Kr&&(d.Cc=d.Kr,d.Kr=null,r.font=d.Nk,d.Cc.cf(),d.Cc.ft&&d.Cc.ft(d.Cc.caller));d.Cc&&(x=d.Cc.Ae,u=d.Cc.jh);var t=r.canvas.width-86*x;v*=u;var B=performance.now();d.Ty&&(d.Hu=B-1E3/60);d.yq||d.notification.An()||d.dn||d.AM!==d.xj&&-1!==d.xj?(d.xs(d),d.dn&&--d.dn,d.Ty=!1):d.Ty=!0;var b=B-d.Hu;d.Hu=B;d.Cc.Ib&&d.Cc.Ib(b,d.Cc.caller);B=performance.now()-
B;var l=performance.now();d.py();d.on=!1;d.cJ();d.notification.update();l=performance.now()-l;d.kz[d.Ps]=l;for(m=f=0;m<d.Xn;m+=1)f+=d.kz[m];f/=d.Xn;d.qz[d.Ps]=B;for(m=n=0;m<d.Xn;m+=1)n+=d.qz[m];n/=d.Xn;d.jz[d.Ps]=b;for(m=b=0;m<d.Xn;m+=1)b+=d.jz[m];b/=d.Xn;d.Ps=(d.Ps+1)%d.Xn;m=1E3/b;60<m&&(m=60);this.B+=1E3/(B+l);this.j+=1;d.nl&&(r.font=(12*x|0)+"px Arial",r.globalAlpha=.7,r.fillStyle="black",d.Nm?r.fillRect(t,v,88*x|0,83*u|0):r.fillRect(t,v,88*x|0,20*u|0),l=(n+f)/16.666666,1<l&&(l=1),r.fillStyle=
.5>l?"rgb("+(510*l|0)+",255,0)":"rgb(255,"+(255*(1-2*(l-.5))|0)+",0)",r.fillRect(t,v,88*l*x|0,20*u|0),f=f.toFixed(1),n=n.toFixed(1),4>m.toFixed(1).length?m=m.toFixed(1):m|=0,r.globalAlpha=1,r.fillStyle="black",B=m+"fps",b=r.measureText(B).width,r.fillText(B,t+36*x-b,v+12*u),B=(100*l|0)+"%",b=r.measureText(B).width,r.fillText(B,t+84*x-b,v+12*u),d.Nm&&(r.fillText("menu",t+6*x,v+28*u),r.fillText("work",t+6*x,v+44*u),r.fillText("update",t+6*x,v+60*u),r.fillText("focus",t+6*x,v+76*u),B=f+"ms",b=r.measureText(B).width,
r.fillText(B,t+84*x-b,v+28*u),B=n+"ms",b=r.measureText(B).width,r.fillText(B,t+84*x-b,v+44*u),B=d.yq?"on":"off",b=r.measureText(B).width,r.fillText(B,t+84*x-b,v+60*u),B=d.hasFocus?"on":"off",b=r.measureText(B).width,r.fillText(B,t+84*x-b,v+76*u)),r.fillStyle="white",B=m+"fps",b=r.measureText(B).width,r.fillText(B,t+34*x-b,v+10*u),B=(100*l|0)+"%",b=r.measureText(B).width,r.fillText(B,t+82*x-b,v+10*u),d.Nm&&(r.fillText("menu",t+4*x,v+26*u),r.fillText("work",t+4*x,v+42*u),r.fillText("update",t+4*x,v+
58*u),r.fillText("focus",t+4*x,v+74*u),B=f+"ms",b=r.measureText(B).width,r.fillText(B,t+82*x-b,v+26*u),B=n+"ms",b=r.measureText(B).width,r.fillText(B,t+82*x-b,v+42*u),B=d.yq?"on":"off",b=r.measureText(B).width,r.fillText(B,t+82*x-b,v+58*u),B=d.hasFocus?"on":"off",b=r.measureText(B).width,r.fillText(B,t+82*x-b,v+74*u)),r.globalAlpha=1);d.Cc.Gt!==d.Cc.Tx&&(d.Cc.Tx=d.Cc.Gt,d.Uc.style.cursor=d.Cc.Tx);d.BA=!0};a.prototype.zH=function(d){d.U=this.U;this.Cc?this.Kr=d:(this.Kr=null,this.Cc=d,this.yc.font=
this.Nk,this.Cc.cf(),this.Cc.ft&&this.Cc.ft(this.Cc.caller),this.xs(this))};a.prototype.py=function(){var d;if(this.Cc){var f=this.Cc;this.yc.font=this.Nk;f.df=this.bl;f.Ag=this.cl;f.Hc=this.Hc;f.on=this.on;if(f.py()||this.Jh){for(d=0;d<f.Ic;d+=1){var n=f.qe[d];f.vG(n)}this.Jh=!1}}};a.prototype.xs=function(d){d.Ys||(requestAnimationFrame?requestAnimationFrame(d.cD):setTimeout(d.cD,16),d.Ys=!0)};a.prototype.Xo=function(d,f){for(var n=null,m=0;null===n&&m<d.length;)d[m].identifier===f?n=d[m]:m+=1;return n};
a.prototype.qa=function(d,f){var n=f.changedTouches;switch(f.type){case "touchstart":-1===d.qh&&(n=n[0],d.qh=n.identifier,d.es(d,n.pageX,n.pageY));break;case "touchend":n=d.Xo(n,d.qh);null!==n&&(d.gs(d,n.pageX,n.pageY),d.qh=-1);break;case "touchmove":n=d.Xo(n,d.qh);null!==n&&d.fs(d,n.pageX,n.pageY);break;case "touchcancel":n=d.Xo(n,d.qh),null!==n&&d.wF(d)}d.cm=!0;f.stopPropagation&&f.stopPropagation();f.cancelable&&f.preventDefault()};a.prototype.es=function(d,f,n){d.pq(d,f,n);d.Hc=!0;d.lC=!1};a.prototype.gs=
function(d,f,n){d.lz=performance.now();d.pq(d,f,n);d.Hc=!1;d.lC||(d.on=!0);d.hasFocus||(d.cm||d.Uc.focus(),d.hasFocus=!0,d.notification.clear(!0,!1),d.LD&&d.LD(d.caller))};a.prototype.fs=function(d,f,n){d.fD(d);d.pq(d,f,n)};a.prototype.NK=function(d){d.fD(d)};a.prototype.wF=function(d){1<performance.now()-d.lz&&(d.hasFocus||d.notification.clear(!0,!1),d.Uc.blur(),d.hasFocus=!1,d.Hc=!1,d.bl=-1,d.cl=-1,d.Dq=!1,d.Ys||(d.xs(d),d.dn<d.Wt&&(d.dn=d.Wt)))};a.prototype.wb=function(d,f){if(!d.Zn){if(f.pageX||
f.pageY){var n=f.pageX;var m=f.pageY}else n=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.es(d,n,m);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.cm=!1}};a.prototype.Zb=function(d,f){d.lz=performance.now();if(!d.Zn){if(f.pageX||f.pageY){var n=f.pageX;var m=f.pageY}else n=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;
d.gs(d,n,m);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.cm=!1}};a.prototype.fD=function(d){d.hasFocus||d.Dq&&""!==d.notification.kk||(d.Nc?d.dl||d.notification.notify("Copy",15,3600,15,!0):d.mb?d.wj?d.notification.notify("Launch",15,3600,15,!0):d.notification.notify("Expand",15,3600,15,!0):d.notification.notify("Click to control",15,3600,15,!0),d.notification.animate=!0,d.Dq=!0)};a.prototype.Nb=function(d,f){if(!d.Zn){if(f.pageX||f.pageY){var n=f.pageX;var m=f.pageY}else n=f.clientX+
document.body.scrollLeft+document.documentElement.scrollLeft,m=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.fs(d,n,m);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.cm=!1}};a.prototype.Tb=function(d,f){d.Zn||(d.NK(d),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),d.cm=!1)};a.prototype.Pb=function(d,f){d.Zn||(d.wF(d),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),d.cm=!1)};a.prototype.pq=function(d,f,n){var m=this.Uc.getBoundingClientRect();
window.scrollX?(f-=m.left+window.scrollX,n-=m.top+window.scrollY):(f-=m.left+window.pageXOffset,n-=m.top+window.pageYOffset);f/=d.lf;n/=d.lf;d.bl=f-1|0;d.cl=n-1|0;d.Ys||(d.xs(d),d.dn<d.Wt&&(d.dn=d.Wt))};a.prototype.Gg=function(d){!d&&!this.notification.An()||this.yq||this.xs(this);this.yq=d};window.IconManager=h;window.Menu=c;window.MenuManager=a}(),function(){function w(a,c,d,f,n,m){this.gq=a;this.hq=c;this.width=d;this.height=f;this.sM=n;this.iJ=m}function g(){this.time=0;this.N=this.Ju=!1;this.rf=
"none";this.KK="2pca4";this.ru="0123456789abcdef";this.nE=86;this.nc=22;this.Rc=6;this.$a=8;this.u="";this.he="0123456789xyz";this.ge="0123";this.Be="0123456789";this.wg=this.vg="0123456";this.bp=1038;this.op=7157;this.ip=5454;this.np=2741;this.vp="0123";this.Zf="0123456omp-";this.xg="01234";this.Rf=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Dl=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,
232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.Ad=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.zd="  omp omp omp  ".split(" ");this.yl=[0,2,6,10,13,10,6,2,0];this.Al=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.El=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.ro=new Uint32Array(256);this.ZA=new Uint8Array(8192);
this.VA=new Uint8Array(8192);this.lj=new Uint8Array(512);this.UA=new Uint8Array(512);this.Zo=new Uint16Array(512);this.$j=this.va=!1;this.Ws="l";this.Vs="le";this.Xs="lv";this.iw="li";this.jw="lo";this.su="h";this.Jy="ht";this.rw="v";this.Ig=!1;this.zy=0;this.Rk=!1;this.nv=this.mv=0;this.Xg=!1;this.Jd=this.Sc=this.pd=this.index=0;this.kf=1;this.Wj=2;this.Oi=3;this.nj=4;this.sj=5;this.ck=6;this.fi=7;this.Li=8;this.Yi=9;this.wn=10;this.Lh=11;this.nh=12;this.Kh=13;this.ai=14;this.qq=15;this.vk=this.wk=
-1;this.an=0;this.Eo=1;this.Fo=2;this.nq=3;this.oq=4;this.gp=0;this.ir=1;this.oc=!1;this.ve="num_states";this.eg="num_neighbors";this.pi="num_nodes";this.dg="n_states";this.fa=[];this.fa[k.Yp]="vonneumann";this.fa[k.Wp]="moore";this.fa[k.kl]="hexagonal";this.fa[k.Xp]="onedimensional";this.wb=[];this.wb[k.Yp]=5;this.wb[k.Wp]=9;this.wb[k.kl]=7;this.wb[k.Xp]=3;this.qa=[];this.qa[k.Yp]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.qa[k.Wp]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");
this.qa[k.kl]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.qa[k.Xp]=["none","reflect","permute"];this.Nb=[];this.Nb[k.Yp]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Nb[k.Wp]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],
[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,
3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Nb[k.Xp]=[[[0,1,2,3],[0,2,1,3]]];this.Nb[k.kl]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,
7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]]}function h(a,c){this.l=null;this.v=c;c=a.lastIndexOf(".");-1!==c&&(a=a.substr(0,c));this.name=a;this.Wm=this.Rj=0;this.sg=this.Ge=this.fc=-1;this.ap=this.br=0;this.mu=this.Fy=!1;this.Ko=this.Nf=this.C=this.Vr="";this.O=this.mp=this.M=this.ic=this.Ja=this.G=this.ha=!1;this.tg=this.v.gp;this.P=!1;this.Od=this.v.an;this.Pd=
-1;this.Id=this.ne=!1;this.ue=-1;this.aj=1;this.zh=this.QC=this.RC=this.SC=this.TC=this.Mf=this.de=this.Se=this.Ud=-1;this.YG=this.oa=!1;this.bg=-1;this.vq=this.uq=this.If=this.De=null;this.c=this.Fb=-1;this.zf="";this.Wh=-1;this.Ng="";this.ih=this.Pe=null;this.height=this.width=0;this.Vg=this.pe=null;this.dj=this.jg=this.vc=this.title="";this.sd=2;this.Sr=0;this.Nn=this.Ig=!1;this.XA=this.WE="";this.ve=-1;this.YA=!1;this.dg=this.mj=this.ll=this.pi=this.eg=-1;this.Md=this.Fg=null;this.Eg=this.jl=
0;this.Ld=this.$d=this.pk=this.qk=null}var q={rules:[],Pu:[],ho:[],IH:function(a,c,d,f,n){var m,r=this.ho.length,v=!1,x=a.C;for(m=0;m<r&&!v;){var u=this.ho[m];u.name===x?(v=!0,u.pattern[u.pattern.length]=a,u.Fs[u.Fs.length]=c,u.Yq[u.Yq.length]=d,u.lt[u.lt.length]=f,u.view[u.view.length]=n):m+=1}v||(this.ho[r]={name:x,pattern:[a],Fs:[c],Yq:[d],lt:[f],view:[n]});return v},kL:function(a){var c,d=this.ho.length,f=!1,n=a.C;for(a=0;a<d&&!f;){var m=this.ho[a];if(m.name===n)for(f=!0,m.name="",c=0;c<m.Fs.length;c+=
1)null!==m.Fs[c]&&(this.kE(m.pattern[c]),m.pattern[c].v.u="",m.pattern[c].v.va=!0,m.pattern[c].v.$j=!1,m.Fs[c](m.pattern[c],m.lt[c],m.view[c]));else a+=1}},Iv:function(a){var c,d=this.ho.length,f=!1,n=a.C;for(a=0;a<d&&!f;){var m=this.ho[a];if(m.name===n)for(f=!0,m.name="",c=0;c<m.Yq.length;c+=1)null!==m.Yq[c]&&(m.pattern[c].oa=m.pattern[c].YG,m.Yq[c](m.pattern[c],m.lt[c],m.view[c]));else a+=1}},add:function(a,c,d,f){var n,m=this.rules.length,r=!1,v=a.C;for(n=0;n<m&&!r;)this.rules[n].name===v?r=!0:
n+=1;r||(this.rules[m]=null===a.Md?{name:a.C,fE:!0,uB:a.ve,yK:a.eg,BK:a.pi,ZH:a.ll,KL:a.pk,LL:a.qk,Sl:a.$d,jr:a.Ld,O:a.YA}:{name:a.C,fE:!1,uB:a.dg,Ap:a.mj,jI:a.Eg,Fp:a.Md,jH:a.Fg,Sl:a.$d,eJ:a.jl,jr:a.Ld},this.Pu[m]={fetch:c|0,decode:d|0,size:f},this.kL(a))},kE:function(a){var c,d=this.rules.length,f=null,n=!1,m=a.C;for(c=0;c<d&&!n;)this.rules[c].name===m?(n=!0,f=this.rules[c]):c+=1;n&&(a.Md=null,f.fE?(a.ve=f.uB,a.eg=f.yK,a.pi=f.BK,a.ll=f.ZH,a.pk=f.KL,a.qk=f.LL,a.O=f.O):(a.dg=f.uB,a.mj=f.Ap,a.Eg=f.jI,
a.Md=f.Fp,a.Fg=f.jH,a.jl=f.eJ,a.O=a.mj===k.kl?!0:!1),a.$d=f.Sl,a.Ld=f.jr,a.Ja=!1);return n}},k={Yp:0,Wp:1,kl:2,Xp:3,WA:-1,ML:0,NL:1,OL:2,QL:3,PL:["circles","diamonds","hexagons","triangles"]};h.prototype.j=function(a){this.Vr=a.Vr;this.C=a.C;this.ha=a.ha;this.G=a.G;this.Ja=a.Ja;this.Nf=a.Nf;this.O=a.O;this.tg=a.tg;this.P=a.P;this.Rj=a.Rj;this.Wm=a.Wm;this.Od=a.Od;this.Pd=a.Pd;this.ne=a.ne;this.Id=a.Id;this.ue=a.ue;this.zh=a.zh;this.aj=a.aj;this.Ud=a.Ud;this.Se=a.Se;this.de=a.de;this.Mf=a.Mf;this.oa=
a.oa;this.bg=a.bg;this.Fb=a.Fb;this.c=a.c;this.sd=a.sd;a.If&&(this.If=new Uint8Array(a.If.length),this.If.set(a.If));a.De&&(this.De=new Uint8Array(a.De.length),this.De.set(a.De))};h.prototype.pI=function(a,c){a.If&&(this.vq=c.K(Uint8,a.If.length,"HROT.altSurvivals"),this.vq.set(a.If));a.De&&(this.uq=c.K(Uint8,a.De.length,"HROT.altBirths"),this.uq.set(a.De));this.TC=a.Ud;this.SC=a.Se;this.RC=a.de;this.QC=a.Mf};h.prototype.FL=function(){this.Nf=this.C=this.Vr="";this.O=this.Ja=this.G=this.ha=!1;this.tg=
this.v.gp;this.P=!1;this.Wm=this.Rj=0;this.Od=this.v.an;this.Pd=-1;this.Id=this.ne=!1;this.zh=this.ue=-1;this.oa=!1;this.c=this.Fb=this.bg=-1;this.sd=2};h.prototype.XJ=function(a){return this.Id!==a.Id||this.oa!==a.oa?"Alternate is different rule family":(-1===this.c?this.sd:this.c)!==(-1===a.c?a.sd:a.c)?"Alternate has different number of states":this.G!==a.G||this.ha!==a.ha||this.O!==a.O||this.tg!==a.tg||this.P!==a.P||this.Od!==a.Od||this.ne!==a.ne||-1===this.Pd&&-1!==a.Pd||-1!==this.Pd&&-1===a.Pd||
this.zh!==a.zh||this.Fb!==a.Fb?"Alternate has different neighborhood":this.ue!==a.ue||this.bg!==a.bg?"Alternate has different range":this.Ja||a.Ja?"Alternate can not use none":""};g.prototype.Di=function(a,c,d){var f,n,m=0,r=0,v=0,x=!1;var u=c.length;for(f=n=0;f<u;){var t=c[f];f+=1;switch(n){case 0:switch(t){case "!":n=1;a.vc+="#C ";var B=!0;break;case "O":case "o":case "*":case ".":n=2;r=m=v=0;var b=--f}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?B||(a.title+=t,a.vc+=t):(B=!1,a.title+=t,a.vc+=t));
"\n"===t&&(n=0,a.vc+=t,a.title+=" ");break;case 2:switch(t){case "O":case "o":case "*":case ".":r+=1;break;case "\n":v+=1;r>m&&(m=r);r=0;break;case " ":case "\t":break;default:f=u,x=!0}}}if(!x){2===n&&"\n"!==t&&(v+=1,r>m&&(m=r));a.height=v;a.width=m;a.dj="Cells";a.pe=Array.da(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");f=b;for(n=m=0;f<u;)switch(t=c[f],f+=1,t){case "\n":m+=1;n=0;break;case "O":case "o":case "*":a.pe[m][n>>4]|=1<<(~n&15);n+=1;break;case ".":n+=1}this.va=!0;this.Ra(a,"",
d)}};g.prototype.yi=function(a,c,d){var f,n;var m=c.length;var r=[];var v=0;var x=!1;var u=n=0;var t=!1;for(f=10;f<m;){var B=c[f];f+=1;switch(B){case "\n":t&&(t=!1,2===b&&x&&(u=-u,x=!1),r[v]=[n,u],v+=1);var b=u=n=0;break;case "-":x=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(x&&(n=-n,x=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?n=10*n+parseInt(B,10):(u=10*u+parseInt(B,10),t=!0)}}t&&(2===b&&x&&(u=-u),r[v]=[n,u],v+=
1);if(v){m=c=r[0][0];b=B=r[0][1];for(f=1;f<v;f+=1)n=r[f][0],u=r[f][1],n<c&&(c=n),n>m&&(m=n),u<B&&(B=u),u>b&&(b=u);a.height=b-B+1;a.width=m-c+1;a.pe=Array.da(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");a.dj="Life 1.06";this.Ra(a,"",d);for(f=0;f<v;f+=1)n=r[f][0]-c,u=r[f][1]-B,a.pe[u][n>>4]|=1<<(~n&15)}};g.prototype.Ue=function(a,c,d,f){var n,m,r=[],v=0,x=c.length;var u="";var t=!1;var B=0,b=0,l=!1,e=!1,p=0,y=0;d=d?10:0;for(this.va=!0;d<x&&!e;){var z=c[d];d+=1;switch(B){case 0:switch(z){case "#":B=
2;break;case "*":case ".":B=3;var A=m=n=0;var C=--d}break;case 2:switch(z){case "C":case "D":B=1;a.vc+="#C ";var D=!0;break;case "N":B=0;break;case "R":B=4;break;case "P":B=5;b=0;l=!1;y=p=0;break;case "\n":B=0;break;default:B=1,D=!0}break;case 1:"\r"!==z&&"\n"!==z&&(" "===z?D||(a.title+=z,a.vc+=z):(D=!1,a.title+=z,a.vc+=z));"\n"===z&&(B=0,a.title+=" ",a.vc+=z);break;case 4:"\n"===z?B=0:(u+=z,t=!0);break;case 5:switch(z){case "\n":B=0;2===b&&l&&(y=-y,l=!1);break;case "-":l=!0;0===b?b=1:1===b&&(b=2);
break;case " ":1===b&&(l&&(p=-p,l=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?p=10*p+parseInt(z,10):y=10*y+parseInt(z,10)}break;case 3:switch(z){case "\n":n>m&&(m=n);n=0;A+=1;break;case "#":r[v]=new w(p,y,m,A,C,d-1);v+=1;B=2;break;case "*":case ".":n+=1;break;case " ":case "\t":break;default:e=!0}}}"\n"!==z&&(A+=1);3===B&&(r[v]=new w(p,y,m,A,C,d-1),v+=1);if(v&&!e){p=r[0].gq;y=r[0].hq;z=p+r[0].width-1;n=y+r[0].height-1;
for(d=1;d<v;d+=1)r[d].gq<p&&(p=r[d].gq),r[d].hq<y&&(y=r[d].hq),r[d].gq+r[d].width-1>z&&(z=r[d].gq+r[d].width-1),r[d].hq+r[d].height-1>n&&(n=r[d].hq+r[d].height-1);a.height=n-y+1;a.width=z-p+1;a.pe=Array.da(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.dj="Life 1.05";a.Vg=Array.da(Uint8,a.height,a.width,0,f,"Pattern.multiStateMap");t?(this.qf(a,u,!1,f),this.va?0<=a.c||a.ic||(a.Vg=null):(a.c=-1,a.ic=!1,a.M=!1)):this.Ra(a,"",f);for(d=0;d<v;d+=1)for(f=r[d].sM,u=r[d].iJ,n=r[d].gq-p,z=r[d].hq-
y,t=n,m=z;f<=u;)switch(z=c[f],f+=1,z){case "\n":m+=1;t=n;break;case "*":a.pe[m][t>>4]|=1<<(~t&15);a.Vg&&(a.Vg[m][t]=1);t+=1;break;default:t+=1}}};g.prototype.aa=function(a,c,d,f){var n=0,m,r,v;d&&(n=4);for(r=0;8192>r;r+=8)for(v=0;4>v;v+=1){d=0;for(m=r+v&f;0<m;)d+=m&1,m>>=1;c===d&&(a[r+v+n]=1)}};g.prototype.Pb=function(a,c,d,f){var n=0,m,r,v;d&&(n=16);for(r=0;512>r;r+=32)for(v=0;16>v;v+=1){d=0;for(m=r+v&f;0<m;)d+=m&1,m>>=1;c===d&&(a[r+v+n]=1)}};g.prototype.Gk=function(a){return(a&7)<<6|(a&448)>>6|
a&56};g.prototype.Pf=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};g.prototype.To=function(a,c,d){var f;for(f=0;4>f;f+=1)a[c]=d,c=this.Pf(c);c=this.Gk(c);for(f=0;4>f;f+=1)a[c]=d,c=this.Pf(c)};g.prototype.wl=function(a,c,d,f,n,m){var r=d?16:0;if(2>c||4<c)this.Pb(a,c,d,m);else if(d="omp".indexOf(f),-1!==d)for(c=this.Dl[c-2][d],d=0;d<c.length;d+=1)f=c[d]+r,a[f]=n,a[f+256]=n,a[f+1]=n,a[f+257]=n};g.prototype.nn=function(a,c,d,f,n){var m=0,r=c-1;0===
c||8===c?this.Pb(a,c,d,511):(3<r&&(r=6-r,m=495),c=this.Rf[r].indexOf(f),-1!==c&&(m^=this.El[r][c],d&&(m|=16),this.To(a,m,n)))};g.prototype.Yf=function(a,c,d,f){var n=c.length,m=0,r="",v;for(v=0;v<n;v+=1){var x=c.charCodeAt(v)-48;m|=1<<x;this.Pb(a,x,d,f)}for(v=0;9>v;v+=1)0!==(m&1<<v)&&(r+=String(v));return r};g.prototype.Sd=function(a){for(var c=0;a;)c+=1,a&=a-1;return c};g.prototype.xh=function(a,c){var d="",f=0;if(c[a]){c=c[a];0!==(c&8192)&&(f=1,c&=-8193);var n=this.Sd(c);var m=2>a||4<a?0:3;2<=n&&
(c=~c&(1<<m)-1)&&(f=1-f);if(!f||c)for(d+=String(a),f&&(d+="-"),a=0;a<m;a+=1)0!==(c&1<<a)&&(d+="omp"[a])}else d+=String(a);return d};g.prototype.yh=function(a,c){var d="",f=0;if(c[a]){c=c[a];0!==(c&8192)&&(f=1,c&=-8193);var n=this.Sd(c);var m=this.yl[a];(f||7!==n||13!==m)&&n+f>m>>1&&(c=~c&(1<<m)-1)&&(f=1-f);if(!f||c)for(d+=String(a),f&&(d+="-"),n=0;n<m;n+=1)f=this.Al[a][n],0!==(c&1<<f)&&(d+=this.Rf[3][f])}else d+=String(a);return d};g.prototype.Tf=function(a,c,d,f){var n=c.length,m=0,r=[],v="",x;c+=
" ";for(x=0;7>x;x+=1)r[x]=0;for(x=0;x<n;x+=1){var u=c.charCodeAt(x)-48;if(0<=u&&8>=u){var t=0!==(m&1<<u);m|=1<<u;var B=c[x+1];var b=this.zd[u].indexOf(B);-1!==b||t||this.Pb(a,u,d,f);var l=1;"-"===B&&(l=0,x+=1,B=c[x+1],b=this.zd[u].indexOf(B));-1!==b||"0"<=B&&"9">=B||" "===B||(this.u=(d?"S":"B")+u+B+" not valid",x=n);t&&(t=0,0===(r[u]&8192)&&(t=1),t!==l&&(this.u=(d?"S":"B")+u+" can not have minus and non-minus",b=-1,x=n));for(;-1!==b;)0!==(r[u]&1<<b)?(this.u="Duplicate "+u+this.zd[u][b],b=-1,x=n):
(this.wl(a,u,d,B,l,f),r[u]|=1<<b,l||(r[u]|=8192),x+=1,B=c[x+1],b=this.zd[u].indexOf(B))}else this.u="Missing digit prefix"}for(x=0;7>x;x+=1)0!==(m&1<<x)&&(v+=this.xh(x,r));return v};g.prototype.Vf=function(a,c,d){var f=c.length,n=0,m=[],r="",v;c+=" ";for(v=0;9>v;v+=1)m[v]=0;for(v=0;v<f;v+=1){var x=c.charCodeAt(v)-48;if(0<=x&&8>=x){var u=0!==(n&1<<x);n|=1<<x;var t=c[v+1];var B=this.Ad[x].indexOf(t);-1!==B||u||this.Pb(a,x,d,511);var b=1;"-"===t&&(b=0,v+=1,t=c[v+1],B=this.Ad[x].indexOf(t));-1!==B||"0"<=
t&&"9">=t||" "===t||(this.u=(d?"S":"B")+x+t+" not valid",v=f);u&&(u=0,0===(m[x]&8192)&&(u=1),u!==b&&(this.u=(d?"S":"B")+x+" can not have minus and non-minus",B=-1,v=f));for(;-1!==B;)0!==(m[x]&1<<B)?(this.u="Duplicate "+x+this.Ad[x][B],B=-1,v=f):(this.nn(a,x,d,t,b),m[x]|=1<<B,b||(m[x]|=8192),v+=1,t=c[v+1],B=this.Ad[x].indexOf(t))}else this.u="Missing digit prefix"}for(v=0;9>v;v+=1)0!==(n&1<<v)&&(r+=this.yh(v,m));return r};g.prototype.Gh=function(a,c){var d;for(d=0;512>d;d+=1)a[d]=0!==(c&1<<(d&7))?
1:0!==(d&16)?1:0};g.prototype.Td=function(a,c,d){var f=12,n=8191,m=a.Rj,r=a.Wm;switch(a.Od){case this.Eo:f=3;n=this.bp;break;case this.Fo:f=9;n=this.op;break;case this.nq:f=6;n=this.ip;break;case this.oq:f=6,n=this.np}c.fill(0);d&&d.fill(0);if(0!==(m&1))if(0!==(r&1<<f)){m=~m;r=~r;for(a=0;a<=f;a+=1)r&1<<f-a&&this.aa(c,a,!1,n);for(a=0;a<=f;a+=1)m&1<<f-a&&this.aa(c,a,!0,n);d.set(c)}else{for(a=0;a<=f;a+=1)~m&1<<a&&this.aa(d,a,!1,n);for(a=0;a<=f;a+=1)~r&1<<a&&this.aa(d,a,!0,n);for(a=0;a<=f;a+=1)r&1<<f-
a&&this.aa(c,a,!1,n);for(a=0;a<=f;a+=1)m&1<<f-a&&this.aa(c,a,!0,n);this.oc=!0}else{for(a=0;a<=f;a+=1)0!==(m&1<<a)&&this.aa(c,a,!1,n);for(a=0;a<=f;a+=1)0!==(r&1<<a)&&this.aa(c,a,!0,n);d&&d.set(c)}};g.prototype.Eh=function(a,c,d,f,n){var m=this.he,r="",v="";switch(n){case this.Eo:m=this.ge;break;case this.Fo:m=this.Be;break;case this.nq:m=this.vg;break;case this.oq:m=this.wg}for(n=a.Rj=0;n<c.length;n+=1){var x=m.indexOf(c[n]);a.Rj|=1<<x}for(n=a.Wm=0;n<d.length;n+=1)x=m.indexOf(d[n]),a.Wm|=1<<x;for(n=
0;n<m.length;n+=1)0!==(a.Rj&1<<n)&&(r+=m[n]);for(n=0;n<m.length;n+=1)0!==(a.Wm&1<<n)&&(v+=m[n]);return-1!==f?v+"/"+r+"/"+f:"B"+r+"/S"+v};g.prototype.Dh=function(a,c,d,f,n){var m=0,r=this.Zo;var v=(1<<this.$a+1)/6|0;var x=new Uint8Array(512),u=a.ha,t=a.G,B=a.O;var b=a.tg;var l=a.P,e=a.Od,p=a.ne,y=a.c;if(a.Ja)d=this.rf;else if(u||t)for(d=u?"M":"2PCA4,",b=0;16>b;b+=1)d+=n[b],15>b&&(d+=",");else if(l)d=this.Eh(a,c,d,y,e);else{a=511;B?a=b===this.ir?114:254:p&&(a=186);x.fill(0);n.fill(0);for(b=0;b<x.length;b+=
1)r[b]=B?b:(b&448)>>6|b&56|(b&7)<<6;if(""!==f){d="MAP";for(b=0;b<v;b+=1)d+=f[b],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[b]),x[m]=c>>5,m+=1,x[m]=c>>4&1,m+=1,x[m]=c>>3&1,m+=1,x[m]=c>>2&1,m+=1,x[m]=c>>1&1,m+=1,x[m]=c&1,m+=1;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[b]);x[m]=c>>5;x[m+1]=c>>4&1;d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c&48];for(b=0;512>b;b+=1){f=0;v=this.$a;for(m=8;0<=m;--m)0!==(a&
1<<m)&&(0!==(b&1<<m)&&(f|=1<<v),--v);n[r[b]]=x[f]}-1!==y&&(d+="/"+y)}else p?(m=this.Yf(n,c,!1,a),n=this.Yf(n,d,!0,a)):B?(m=this.Tf(n,c,!1,a),n=this.Tf(n,d,!0,a)):(m=this.Vf(n,c,!1),n=this.Vf(n,d,!0)),d=-1!==y?n+"/"+m+"/"+y:"B"+m+"/S"+n}return d};g.prototype.wf=function(a){var c=a,d=0;if(-1!==a.indexOf(" "))for(c="";d<a.length;)" "!==a[d]&&(c+=a[d]),d+=1;return c};g.prototype.Ek=function(a,c,d){for(var f=!0,n=0,m,r=1;r<c.length&&f;)m="0123456789".indexOf(c[r]),-1!==m?n=10*n+m:(this.u="Illegal character in Wolfram rule",
f=!1),r+=1;f&&(0>n||254<n?(this.u="Wolfram rule number must be 0-254",f=!1):0!==(n&1)?(this.u="Wolfram rule number must be even",f=!1):(this.Gh(d,n),a.Pd=n,a.C="W"+n));return f};g.prototype.Ah=function(a,c){if(""===c)if(a.O)a.C+="H",a.tg===this.ir&&(a.C+="T");else if(a.ne)a.C+="V";else if(a.P)switch(a.Od){case this.an:a.C+=this.Ws.toUpperCase();break;case this.Eo:a.C+=this.Vs.toUpperCase();break;case this.Fo:a.C+=this.Xs.toUpperCase();break;case this.nq:a.C+=this.iw.toUpperCase();break;case this.oq:a.C+=
this.jw.toUpperCase()}c=AliasManager.ar(a.C);if(null===c&&a.Id&&0===a.aj){c="R"+a.ue+",C"+a.c+",M1,S"+a.Ud+".."+a.Se+",B"+a.de+".."+a.Mf+",N";switch(a.zh){case this.Jd:c+="M";break;case this.kf:c+="N";break;case this.Wj:c+="C";break;case this.Oi:c+="+";break;case this.nj:c+="X";break;case this.sj:c+="*";break;case this.ck:c+="2";break;case this.fi:c+="H";break;case this.Li:c+="B";break;case this.Yi:c+="#";break;case 10:c+="@"+a.zf+a.Ng;break;case this.Lh:c+="3";break;case this.nh:c+="A";break;case this.Kh:c+=
"L";break;case this.ai:c+="G";break;case 15:c+="W"+a.zf+a.Ng}c=AliasManager.ar(c)}a.ic&&(a.C+="History");a.M&&(a.C+="Super");-1!==a.fc&&(a.C+=":"+"ptkcs"[a.fc].toUpperCase(),a.C+=a.Ge,a.br&&(a.C+="+"+a.br),a.Fy&&(a.C+="*"),a.sg!==a.Ge||a.ap||a.mu)&&(a.C+=","+a.sg,a.ap&&(a.C+="+"+a.ap),a.mu&&(a.C+="*"));null!==c&&(""===c&&(c=a.ic||a.M?"Life":"Conway's Life"),a.ic&&(c+="History"),a.M&&(c+="Super"),a.Nf=c)};g.prototype.xp=function(a,c){var d=86,f=a.length;f>=d?this.$a=8:(d=this.nc,f>=d?(this.$a=6,c.O=
!0):(d=this.Rc,f>=d?(this.$a=4,c.ne=!0):d=-1));if(0<=d)for(c=0;c<d;c+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c])&&(d=-1);return d};g.prototype.j=function(a,c,d,f,n,m){var r=0,v=c.length,x=a.substr(this.index,v),u=m.ue;if(x!==c)","===c[0]&&(","===x[0]&&(x=x.substr(1)),c=c.substr(1)),this.u="LtL expected '"+c.toUpperCase()+"' got '"+x.toUpperCase()+"'",this.index=-1;else if(","===c[0]&&(c=c.substr(1)),this.index+=v,this.index<a.length?(v=a[this.index],x=
v.charCodeAt(0)):(v="",x=-1),"n"===c)switch(v){case "m":this.index+=1;r=this.Jd;break;case "n":this.index+=1;r=this.kf;break;case "c":this.index+=1;r=this.Wj;break;case "+":this.index+=1;r=this.Oi;break;case "x":this.index+=1;r=this.nj;break;case "*":this.index+=1;r=this.sj;break;case "2":this.index+=1;r=this.ck;break;case "h":this.index+=1;r=this.fi;break;case "b":this.index+=1;r=this.Li;break;case "#":this.index+=1;r=this.Yi;break;case "@":this.index+=1;r=this.sf(a,u,"LtL",m);-1===r&&(this.index=
-1);break;case "3":this.index+=1;r=this.Lh;break;case "a":this.index+=1;r=this.nh;break;case "l":this.index+=1;r=this.Kh;break;case "g":this.index+=1;r=this.ai;break;case "w":this.index+=1;r=this.vf(a,u,"LtL",m);-1===r&&(this.index=-1);break;default:this.u="LtL 'N' [ABCGHLMNWX23*+#@] got 'N"+v.toUpperCase()+"'",this.index=-1}else if(48>x||57<x)this.u="LtL '"+n+c.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=x&&57>=x;)r=10*r+(x-48),this.index+=1,this.index<a.length?x=a[this.index].charCodeAt(0):
x=-1;-1!==d&&r<d&&(this.u="LtL '"+n+c.toUpperCase()+r+"' < "+d,this.index=-1);-1!==f&&r>f&&(this.u="LtL '"+n+c.toUpperCase()+r+"' > "+f,this.index=-1)}return r};g.prototype.Lr=function(a,c,d){var f=0;switch(c){case this.Jd:f=(2*a+1)*(2*a+1)-1;break;case this.kf:f=2*a*(a+1);break;case this.Wj:d=0;var n=a*a+a;for(c=-a;c<=a;c+=1){for(f=0;(f+1)*(f+1)+c*c<=n;)f+=1;d+=2*f+1}f=d-1;break;case this.Oi:f=4*a;break;case this.nj:f=4*a;break;case this.sj:f=8*a;break;case this.ck:d=0;n=a*a;for(c=-a;c<=a;c+=1){for(f=
0;(f+1)*(f+1)+c*c<=n;)f+=1;d+=2*f+1}f=d-1;break;case this.fi:f=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.Li:f=((2*a+1)*(2*a+1)-1)/2;break;case this.Yi:f=8*a;break;case 10:f=d;break;case this.Lh:f=3*a;break;case this.nh:f=6*a;break;case this.Kh:f=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.ai:f=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:f=d}return f};g.prototype.Dj=function(a,c){var d=!1;this.index=0;var f=this.j(c,"r",1,500,"",a);-1!==this.index&&(a.ue=f,f=this.j(c,",c",0,256,"",a),-1!==this.index&&(2>f&&
(f=2),a.c=f,f=this.j(c,",m",0,1,"",a),-1!==this.index&&(a.aj=f,f=this.j(c,",s",0,-1,"",a),-1!==this.index&&(a.Ud=f,f=this.j(c,"..",a.Ud,-1,"S",a),-1!==this.index&&(a.Se=f,f=this.j(c,",b",0,-1,"",a),-1!==this.index&&(a.de=f,f=this.j(c,"..",a.de,-1,"B",a),-1!==this.index&&(a.Mf=f,f=this.j(c,",n",-1,-1,"",a),-1!==this.index&&(a.zh=f,d=!0))))))));d&&(this.index!==c.length?(d=!1,this.u="LtL invalid characters after rule"):(c=this.Lr(a.ue,a.zh,a.Wh),c+=a.aj,a.de>c&&(d=!1,this.u="LtL 'B"+a.de+"..' > "+c),
a.Mf>c&&(d=!1,this.u="LtL 'B.."+a.Mf+"' > "+c),a.Ud>c&&(d=!1,this.u="LtL 'S"+a.Ud+"..' > "+c),a.Se>c&&(d=!1,this.u="LtL 'S.."+a.Se+"' > "+c)));return d};g.prototype.Fj=function(a,c){var d=!1;this.index=0;a.c=2;a.aj=1;a.zh=this.Jd;var f=this.j(c,"",1,500,"",a);-1!==this.index&&(a.ue=f,f=this.j(c,",",0,-1,"",a),-1!==this.index&&(a.de=f,f=this.j(c,",",a.de,-1,"B",a),-1!==this.index&&(a.Mf=f,f=this.j(c,",",0,-1,"",a),-1!==this.index&&(a.Ud=f,f=this.j(c,",",a.Ud,-1,"S",a),-1!==this.index&&(a.Se=f,d=!0)))));
d&&(this.index!==c.length?(d=!1,this.u="LtL invalid characters after rule"):(c=(2*a.ue+1)*(2*a.ue+1),a.de>c&&(d=!1,this.u="LtL 'B"+a.de+"..' > "+c),a.Mf>c&&(d=!1,this.u="LtL 'B.."+a.Mf+"' > "+c),a.Ud>c&&(d=!1,this.u="LtL 'S"+a.Ud+"..' > "+c),a.Se>c&&(d=!1,this.u="LtL 'S.."+a.Se+"' > "+c)));return d};g.prototype.Ej=function(a,c){var d=!1;this.index=0;-1===a.c&&(a.c=2);a.aj=1;a.zh=this.Jd;var f=this.j(c,"r",1,500,"",a);-1!==this.index&&(a.ue=f,f=this.j(c,"b",0,-1,"",a),-1!==this.index&&(a.de=f,f=this.j(c,
"t",a.de,-1,"B",a),-1!==this.index&&(a.Mf=f,f=this.j(c,"s",0,-1,"",a),-1!==this.index&&(a.Ud=f,f=this.j(c,"t",a.Ud,-1,"S",a),-1!==this.index&&(a.Se=f,d=!0)))));d&&(this.index!==c.length?(d=!1,this.u="LtL invalid characters after rule"):(c=(2*a.ue+1)*(2*a.ue+1),a.de>c&&(d=!1,this.u="LtL 'B"+a.de+"' > "+c),a.Mf>c&&(d=!1,this.u="LtL 'B..T"+a.Mf+"' > "+c),a.Ud>c&&(d=!1,this.u="LtL 'S"+a.Ud+"..' > "+c),a.Se>c&&(d=!1,this.u="LtL 'S..T"+a.Se+"' > "+c)));return d};g.prototype.pf=function(a,c,d,f,n){var m=
!1,r,v="HROT.",x,u=0;if(this.index+d>a.length)this.u="HROT '"+c+"' needs "+d+" hex digits";else{for(r=x=0;x<d&&-1!==r;)r="0123456789abcdef".indexOf(a[this.index]),-1!==r&&(this.index+=1,x+=1);if(-1===r)this.u="HROT '"+c+"' expected hex got '"+a[this.index]+"'";else{"B"===c?v+="births":(v+="survivals",u=1);n=n.K(Uint8,(d<<2)+1+u,v);m=0;n[m]=0;m+=1;--x;"S"===c&&(n[m]=0,m+=1);for(;0<=x;)r="0123456789abcdef".indexOf(a[this.index-d+x]),--x,n[m]=r&1,m+=1,n[m]=r>>1&1,m+=1,n[m]=r>>2&1,m+=1,n[m]=r>>3&1,m+=
1;"B"===c?f.De=n:f.If=n;m=!0}}return m};g.prototype.Ea=function(a,c){var d=-1;this.index+=1;if(this.index<a.length){var f=a[this.index].charCodeAt(0);if(48>f||57<f)this.u="HROT '"+c+"' needs a number";else for(d=f-48,this.index+=1,f=-1,this.index<a.length&&(f=a[this.index].charCodeAt(0));48<=f&&57>=f;)d=10*d+(f-48),this.index+=1,this.index<a.length?f=a[this.index].charCodeAt(0):f=-1}else this.u="HROT '"+c+"' needs a number";return d};g.prototype.Ve=function(a,c,d,f,n){var m=!0;n&&"S"===d&&(f+=1);
var r=this.Ea(a,d);-1===r&&(this.u="");for(;m&&-1!==r;){var v=-1;this.index<a.length&&"-"===a[this.index]&&(v=this.Ea(a,d),-1===v&&(this.u="HROT '"+d+r+"-' needs a number",m=!1));if(m&&(-1===v&&(v=r),r>v&&(this.u="HROT '"+d+r+"-"+v+"' wrong order",m=!1),m)){"S"===d?(this.pd=v,n&&(r+=1,v+=1)):this.Sc=v;r>f&&(r=f);for(v>f&&(v=f);r<=v;r+=1)c[r]=1;r=-1;this.index<a.length&&","===a[this.index]&&(r=this.Ea(a,d),-1===r&&(--this.index,this.u=""))}}return m};g.prototype.vf=function(a,c,d,f){var n=this.index,
m=a.length,r=(2*c+1)*(2*c+1),v=r+r,x=0,u=[],t=[],B=0,b=15;for(f.Ng="";n<m&&-1!=="0123456789abcdef".indexOf(a[n]);)n+=1;c=n-this.index;if(c===r)for(;this.index<n;)r="0123456789abcdef".indexOf(a[this.index]),0!==(r&8)&&(r=-(r&7)),u[u.length]=r,this.index+=1;else if(c===v)for(;this.index<n;)r="0123456789abcdef".indexOf(a[this.index])<<4,this.index+=1,r|="0123456789abcdef".indexOf(a[this.index]),this.index+=1,0!==(r&128)&&(r=-(r&127)),u[u.length]=r;else this.u=d+" 'NW' needs "+String(r)+" or "+String(v)+
" hex digits",b=-1;-1!==b&&this.index<m&&("h"===a[this.index]?(f.Ng="H",this.index+=1):"l"===a[this.index]&&(f.Ng="L",this.index+=1));if(-1!==b)if(","===a[this.index]){for(n=this.index+=1;n<m&&-1!=="0123456789abcdef".indexOf(a[n]);)n+=1;x=n-this.index;if(x!==f.c)this.u=d+" 'NW' needs "+String(f.c)+" state weights",b=-1;else for(n=0;n<f.c;n+=1)r="0123456789abcdef".indexOf(a[this.index]),this.index+=1,t[t.length]=r,r>B&&(B=r)}else B=1;if(-1!==b){for(d=r=0;d<u.length;d+=1)0<u[d]&&(r+=u[d]*B);f.zf=0<
t.length?a.substr(this.index-(c+x+1),c+x+1).toLowerCase():a.substr(this.index-c,c).toLowerCase();f.Wh=r;f.Pe=u;f.ih=t}-1===b&&(f.zf="",f.Wh=-1,f.Pe=null,f.ih=null);return b};g.prototype.sf=function(a,c,d,f){var n=this.index,m=a.length,r=0;c=((2*c+1)*(2*c+1)-1)/4;var v=0,x=10;for(f.Ng="";n<m&&r<c&&-1!==x;){var u="0123456789abcdef".indexOf(a[n]);0<=u?(n+=1,r+=1,v+=this.Sd(u)):x=-1}r!==c&&(x=-1);-1===x?(this.u=d+" 'N@' needs "+String(c)+" hex digits",f.zf="",f.Wh=-1):(f.zf=a.substr(this.index,r).toLowerCase(),
f.Wh=v,this.index+=r,n<m&&("h"===a[n]?(f.Ng="H",this.index+=1):"l"===a[n]&&(f.Ng="L",this.index+=1)));return x};g.prototype.Wo=function(a,c){var d=a.ue,f;a.bg=d;a.Fb=a.zh;d=this.Lr(d,a.zh,a.Wh);d+=a.aj;a.If=c.K(Uint8,d+2,"HROT.survivals");a.De=c.K(Uint8,d+1,"HROT.births");for(f=a.Ud;f<=a.Se;f+=1)a.If[f]=1;for(f=a.de;f<=a.Mf;f+=1)a.De[f]=1;if(this.oc){a.vq=c.K(Uint8,d+2,"HROT.altSurvivals");a.uq=c.K(Uint8,d+1,"HROT.altBirths");for(f=a.TC;f<=a.SC;f+=1)a.vq[f]=1;for(f=a.RC;f<=a.QC;f+=1)a.uq[f]=1}a.oa=
!0};g.prototype.Cj=function(a,c,d){var f=!1,n=0,m=!0,r=c.indexOf(",n");this.pd=this.Sc=this.index=0;if("r"!==c[this.index])this.u="HROT expected 'R' got '"+c[this.index].BM()+"'";else{var v=this.Ea(c,"R");-1!==v&&(1>v?this.u="HROT 'R' < 1":500<v?this.u="HROT 'R' > 500":(a.bg=v,f=!0))}f&&(f=!1,this.index<c.length?","!==c[this.index]?this.u="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"c"!==c[this.index]?this.u="HROT expected 'C' got "+c[this.index].toUpperCase():
(v=this.Ea(c,"C"),-1!==v&&(0>v?this.u="HROT 'C"+v+"' < 0":256<v?this.u="HROT 'C"+v+"' > 256":(2>v&&(v=2),a.c=v,f=!0))):this.u="HROT expected 'C'"):this.u="HROT expected ','");if(f){v=this.index;this.index=r;m=!0;a.Fb=this.Jd;if(-1!==this.index&&this.index<c.length&&","===c[this.index]){f=!1;this.index+=1;if(this.index<c.length)if("n"===c[this.index])if(this.index+=1,this.index<c.length)switch(c[this.index]){case "m":a.Fb=this.Jd;this.index+=1;f=!0;break;case "n":a.Fb=this.kf;this.index+=1;f=!0;break;
case "c":a.Fb=this.Wj;this.index+=1;f=!0;break;case "+":a.Fb=this.Oi;this.index+=1;f=!0;break;case "x":a.Fb=this.nj;this.index+=1;f=!0;break;case "*":a.Fb=this.sj;this.index+=1;f=!0;break;case "2":a.Fb=this.ck;this.index+=1;f=!0;break;case "h":a.Fb=this.fi;this.index+=1;f=!0;break;case "b":a.Fb=this.Li;this.index+=1;f=!0;break;case "#":a.Fb=this.Yi;this.index+=1;f=!0;break;case "@":this.index+=1;a.Fb=this.sf(c,a.bg,"HROT",a);-1!==a.Fb&&(f=!0);break;case "3":a.Fb=this.Lh;this.index+=1;f=!0;break;case "a":a.Fb=
this.nh;this.index+=1;f=!0;break;case "l":a.Fb=this.Kh;this.index+=1;f=!0;break;case "g":a.Fb=this.ai;m=!1;this.index+=1;f=!0;break;case "w":this.index+=1;a.Fb=this.vf(c,a.bg,"HROT",a);-1!==a.Fb&&(m=!1,f=!0);break;default:this.u="HROT 'N' [ABCGHLMNWX23*+#@] got '"+c[this.index].toUpperCase()+"'"}else this.u="HROT 'N' needs a neighborhood";else this.u="HROT expected 'N' got '"+c[this.index].toUpperCase()+"'";else this.u="HROT expected 'N'";r=this.index}n=this.Lr(a.bg,a.Fb,a.Wh);this.index=v}f&&(f=
!1,this.index<c.length?","!==c[this.index]?this.u="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"s"!==c[this.index]?this.u="HROT expected 'S' got "+c[this.index].toUpperCase():(a.If=d.K(Uint8,n+2,"HROT.survivals"),f=this.Ve(c,a.If,"S",n,m)):this.u="HROT expected 'S'"):this.u="HROT expected ','");f&&(f=!1,this.index<c.length?","!==c[this.index]?this.u="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"b"!==c[this.index]?
this.u="HROT expected 'B' got "+c[this.index].toUpperCase():(a.De=d.K(Uint8,n+1,"HROT.births"),f=this.Ve(c,a.De,"B",n,m)):this.u="HROT expected 'B'"):this.u="HROT expected ','");f&&(-1!==r&&(this.index=r),this.index!==c.length&&(f=!1,this.u="HROT invalid characters after rule"),this.pd>n&&(f=!1,this.u="HROT 'S"+this.pd+"' > "+n),f&&this.Sc>n&&(f=!1,this.u="HROT 'B"+this.Sc+"' > "+n));f&&(a.oa=!0);return f};g.prototype.Bj=function(a,c,d){var f=!1,n=0;this.index=0;-1===a.c&&(a.c=2);if("r"!==c[this.index])this.u=
"HROT expected 'R' got '"+c[this.index].BM()+"'";else{var m=-1;this.index+=1;this.index<c.length&&(m=c[this.index].charCodeAt(0));if(48>m||57<m)this.u="HROT 'R' needs a number";else{var r=m-48;this.index+=1;m=-1;for(this.index<c.length&&(m=c[this.index].charCodeAt(0));48<=m&&57>=m;)r=10*r+(m-48),this.index+=1,this.index<c.length?m=c[this.index].charCodeAt(0):m=-1;1>r?this.u="HROT 'R' < 1":500<r?this.u="HROT 'R' > 500":(a.bg=r,f=!0,n=r*(r+1))}}f&&(f=!1,this.index<c.length?"b"!==c[this.index]?this.u=
"HROT expected 'B' got "+c[this.index].toUpperCase()+"'":(this.index+=1,f=this.pf(c,"B",n,a,d)):this.u="HROT expected 'B'");f&&(f=!1,this.index<c.length?"s"!==c[this.index]?this.u="HROT expected 'S' got "+c[this.index].toUpperCase()+"'":(this.index+=1,f=this.pf(c,"S",n,a,d)):this.u="HROT expected 'S'");f&&this.index<c.length&&"z"===c[this.index]&&(a.If[1]=1,this.index+=1);f&&(this.index!==c.length?(f=!1,this.u="HROT invalid characters after rule"):(a.Fb=this.Jd,a.oa=!0));return f};g.prototype.Qe=
function(a,c){for(var d=a.length,f=-1,n="",m=0;m<d;)1===a[m]?-1===f&&(f=m):-1!==f&&(""!==n&&(n+=","),n+=f+c,m-1!==f&&(n+="-"+(m-1+c)),f=-1),m+=1;-1!==f&&(""!==n&&(n+=","),n+=f+c,m-1!==f&&(n+="-"+(m-1+c)));return n};g.prototype.Ra=function(a,c,d){var f="",n=!1;var m=AliasManager.By(c);null!==m&&(f=AliasManager.ar(m),c=m);m=c.indexOf("|");if(-1===m)(n=this.ee(a,c,d,this.lj))&&a.P&&this.Td(a,this.ZA,this.VA);else if(-1===c.substr(m+1).indexOf("|")){if(n=this.ee(a,c.substr(0,m),d,this.UA)){var r=new h(a.name,
this);r.j(a);a.FL();if(n=this.ee(a,c.substr(m+1),d,this.lj))if(this.u=a.XJ(r),""===this.u)if(a.oa&&0!==a.De[0]||!a.P&&(this.lj[0]||this.UA[0])||a.P&&0!==(a.Rj&1)||0!==(r.Rj&1))this.u="Alternate not supported with B0",n=!1;else{a.P&&(this.Td(r,this.VA,null),this.Td(a,this.ZA,null));if(""!==f)a.Nf=f;else if(""!==a.Nf||""!==r.Nf)""===a.Nf&&(a.Nf=a.C),""===r.Nf&&(r.Nf=r.C),a.Nf=r.Nf+"|"+a.Nf;a.C=r.C+"|"+a.C;f=AliasManager.ar(a.C);null!==f&&(a.Nf=f);(a.oa||a.Id)&&a.pI(r,d);this.oc=!0}else n=!1}}else this.u=
"Only one alternate allowed";return n};g.prototype.Hj=function(a,c){var d=!0,f=a.length,n=0;if("2pca4"!==a.substr(0,5))this.u="PCA rule must start with 2PCA4",d=!1;else{var m=5;var r=-1;if(","!==a[m])d=!0;else for(m+=1;d&&16>n&&m<f;)if(m<f){var v=a[m];m+=1;"0"<=v&&"9">=v?(-1===r&&(r=0),r=10*r+v.charCodeAt(0)-48):","===v?15<r?(this.u="Value must be from 0 to 15",d=!1):(c[n]=r,n+=1,r=-1):(this.u="Illegal character found in rule",d=!1)}d&&(-1===r?(this.u=16===n?"Extra characters found after rule":"Need 16 values",
d=!1):15<r?(this.u="Value must be from 0 to 15",d=!1):(c[n]=r,16!==n+1&&(this.u="Need 16 values",d=!1)))}return d};g.prototype.Gj=function(a,c){var d=!0,f=0,n=a.length,m,r=0;if("m"!==a[f])this.u="Margolus rule must start with M",d=!1;else{f+=1;"s,d"===a.substr(f,f+2)&&(f+=3);for(m=-1;d&&16>r&&f<n;)if(f<n){var v=a[f];f+=1;"0"<=v&&"9">=v?(-1===m&&(m=0),m=10*m+v.charCodeAt(0)-48):","===v||";"===v?15<m?(this.u="Value must be from 0 to 15",d=!1):(c[r]=m,r+=1,m=-1):(this.u="Illegal character found in rule",
d=!1)}d&&(-1===m?(this.u=16===r?"Extra characters found after rule":"Need 16 values",d=!1):15<m?(this.u="Value must be from 0 to 15",d=!1):(c[r]=m,16!==r+1&&(this.u="Need 16 values",d=!1)))}return d};g.prototype.ee=function(a,c,d,f){var n=!1,m=null,r=null,v=null,x="012345678ceaiknjqrytwz-";var u=this.Jy.length;var t=this.su.length;var B=this.Ws.length;var b=this.Vs.length,l=this.Xs.length;var e=this.iw.length;var p=this.jw.length,y=this.rw.length,z="";f[0]=0;var A=AliasManager.By(c);null!==A&&(""===
c&&(a.C="Conway's Life"),c=A);if("map"===c.substr(0,3).toLowerCase()){z=c.substr(3);var C=z.indexOf("/");-1===C?"=="===z.substr(-2)&&(z=z.substr(0,z.length-2)):"=="===z.substr(C-2,2)&&(z=z.substr(0,C-2)+z.substr(C));c=this.xp(z,a);if(0<=c)if(n=!0,v=z.substr(c),z=z.substr(0,c),"/"===v[0]){A=1;a.c=0;A<v.length&&("g"===v[A].toLowerCase()||"c"===v[A].toLowerCase())&&(A+=1);for(C=0;A<v.length&&-1!==C;)C="0123456789".indexOf(v[A]),-1!==C?a.c=10*a.c+C:(this.u="Illegal character in generations number",a.c=
-1,n=!1),A+=1;-1!==a.c&&(2>a.c||256<a.c)&&(this.u="Generations number must be 2-256",a.c=-1,n=!1)}else""!==v&&(A=v.length,this.u="MAP length must be "+this.Rc+", "+this.nc+" or 86 not "+(A+c),n=!1);else this.u=86===z.length||z.length===this.nc||z.length===this.Rc?"MAP contains illegal base64 character":"MAP length must be "+this.Rc+", "+this.nc+" or 86 not "+z.length}else if(c=c.toLowerCase(),c=this.wf(c),"2pca4"===c.substr(0,5)){if(n=this.Hj(c,f))a.G=!0,a.c=16}else if("m"===c[0]){if(n=this.Gj(c,
f))a.ha=!0}else{n=!0;if("g"===c[0]){A=1;for(C=a.c=0;A<c.length&&-1!==C;)C="0123456789".indexOf(c[A]),-1!==C&&(a.c=10*a.c+C,A+=1);1<A&&(2>a.c||256<a.c?(this.u="Generations number must be 2-256",a.c=-1,n=!1):(A<c.length&&"/"===c[A]&&(A+=1),c=c.substr(A),n=!0))}if(n&&(C=c.lastIndexOf("g"),-1!==C&&C!==c.length-1&&!(0<C&&"/"===c[C-1]))){A=C+1;for(C=a.c=0;A<c.length&&-1!==C;)C="0123456789".indexOf(c[A]),-1!==C&&(a.c=10*a.c+C,A+=1);A===c.length?2>a.c||256<a.c?(this.u="Generations number must be 2-256",a.c=
-1,n=!1):(c=c.substr(0,c.lastIndexOf("g")),n=!0):a.c=-1}if(n)if(n=!1,"r"===c[0]||"1"<=c[0]&&"9">=c[0]&&-1!==c.indexOf(",")){if(n="r"===c[0]?-1!==c.indexOf(".")?this.Dj(a,c):-1!==c.indexOf("t")&&-1===c.indexOf("n")?this.Ej(a,c):-1!==c.indexOf(",")?this.Cj(a,c,d):this.Bj(a,c,d):this.Fj(a,c))if(a.oa){if(v=15===a.Fb||a.Fb===this.ai?0:-1,a.C="R"+a.bg+",",a.C+="C"+a.c+",",a.C+="S"+this.Qe(a.If,v)+",",a.C+="B"+this.Qe(a.De,0),a.Fb!==this.Jd)switch(a.C+=",N",a.Fb){case this.kf:a.C+="N";break;case this.Wj:a.C+=
"C";break;case this.Oi:a.C+="+";break;case this.nj:a.C+="X";break;case this.sj:a.C+="*";break;case this.ck:a.C+="2";break;case this.fi:a.C+="H";break;case this.Li:a.C+="B";break;case this.Yi:a.C+="#";break;case 10:a.C+="@"+a.zf+a.Ng;break;case this.Lh:a.C+="3";break;case this.nh:a.C+="A";break;case this.Kh:a.C+="L";break;case this.ai:a.C+="G";break;case 15:a.C+="W"+a.zf+a.Ng}}else{a.Id=!0;a.C="R"+a.ue+",C"+a.c+",M"+a.aj+",S"+a.Ud+".."+a.Se+",B"+a.de+".."+a.Mf+",N";switch(a.zh){case this.Jd:a.C+="M";
break;case this.kf:a.C+="N";break;case this.Wj:a.C+="C";break;case this.Oi:a.C+="+";break;case this.nj:a.C+="X";break;case this.sj:a.C+="*";break;case this.ck:a.C+="2";break;case this.fi:a.C+="H";break;case this.Li:a.C+="B";break;case this.Yi:a.C+="#";break;case 10:a.C+="@"+a.zf+a.Ng;break;case this.Lh:a.C+="3";break;case this.nh:a.C+="A";break;case this.Kh:a.C+="L";break;case this.ai:a.C+="G";break;case 15:a.C+="W"+a.zf+a.Ng}0===a.aj&&(a.Ud+=1,a.Se+=1)}}else if("w"===c[0])n=this.Ek(a,c,f);else if(d=
c.lastIndexOf(this.Ws),-1!==d&&d===c.length-B&&(a.P=!0,a.Od=this.an,c=c.substr(0,c.length-B),x=this.he),d=c.lastIndexOf(this.Vs),-1!==d&&d===c.length-b&&(a.P=!0,a.Od=this.Eo,c=c.substr(0,c.length-b),x=this.ge),d=c.lastIndexOf(this.Xs),-1!==d&&d===c.length-l&&(a.P=!0,a.Od=this.Fo,c=c.substr(0,c.length-l),x=this.Be),d=c.lastIndexOf(this.iw),-1!==d&&d===c.length-e&&(a.P=!0,a.Od=this.nq,c=c.substr(0,c.length-e),x=this.vg),d=c.lastIndexOf(this.jw),-1!==d&&d===c.length-p&&(a.P=!0,a.Od=this.oq,c=c.substr(0,
c.length-p),x=this.wg),e=c.lastIndexOf(this.Jy),-1!==e&&e===c.length-u&&(a.O=!0,a.tg=this.ir,c=c.substr(0,c.length-u),x=this.vp),e=c.lastIndexOf(this.su),-1!==e&&e===c.length-t&&(a.O=!0,a.tg=this.gp,c=c.substr(0,c.length-t),x=this.Zf),e=c.lastIndexOf(this.rw),-1!==e&&e===c.length-y&&(a.ne=!0,c=c.substr(0,c.length-y),x=this.xg),u=c.indexOf("/"),-1===u&&(u=c.indexOf("_")),-1!==u&&(e=c.lastIndexOf("/"),-1===e&&(e=c.lastIndexOf("_")),e!==u&&(v=c.substring(e+1),c=c.substr(0,e),d=c.lastIndexOf(this.Ws),
-1!==d&&d===c.length-B&&(a.P=!0,a.Od=this.an,c=c.substr(0,c.length-B),x=this.he),d=c.lastIndexOf(this.Vs),-1!==d&&d===c.length-b&&(a.P=!0,a.Od=this.Eo,c=c.substr(0,c.length-b),x=this.ge),d=c.lastIndexOf(this.Xs),-1!==d&&d===c.length-l&&(a.P=!0,a.Od=this.Fo,c=c.substr(0,c.length-l),x=this.Be),e=c.lastIndexOf(this.su),-1!==e&&e===c.length-t&&(a.O=!0,c=c.substr(0,c.length-t),x=this.Zf),e=c.lastIndexOf(this.rw),-1!==e&&e===c.length-y&&(a.ne=!0,c=c.substr(0,c.length-y),x=this.xg))),c===this.rf)a.Ja=!0,
a.c=256,n=!0;else{t=c.indexOf("b");B=c.indexOf("s");-1===u?0===t||0===B?-1===B?(m=c,r=""):-1===t?(r=c,m=""):t<B&&-1!==B?(m=c.substring(t+1,B),r=c.substring(B+1)):(r=c.substring(B+1,t),m=c.substring(t+1)):this.u="Unsupported rule name":(-1===t&&-1!==B?t=u:-1!==t&&-1===B&&(B=u),t<B?(m=c.substring(0,u),r=c.substring(u+1)):(m=c.substring(u+1),r=c.substring(0,u)));-1!==t&&m&&"b"===m[0]&&(m=m.substring(1));-1!==B&&r&&"s"===r[0]&&(r=r.substring(1));if(null!==v)if(A=0,-1!==a.c)this.u="Generations defined twice",
m=null;else{a.c=0;A<v.length&&("g"===v[A].toLowerCase()||"c"===v[A].toLowerCase())&&(A+=1);for(C=0;A<v.length&&-1!==C;)C="0123456789".indexOf(v[A]),-1!==C?a.c=10*a.c+C:(this.u="Illegal character in generations number",a.c=-1,m=null),A+=1;-1!==a.c&&(2>a.c||256<a.c)&&(this.u="Generations number must be 2-256",a.c=-1,m=null)}if(null!==m&&null!==r){n=!0;for(A=0;A<m.length;)C=x.indexOf(m[A]),-1===C?(this.u="Illegal character in birth specification",n=!1,A=m.length):A+=1;if(n)for(A=0;A<r.length;)C=x.indexOf(r[A]),
-1===C?(this.u="Illegal character in survival specification",n=!1,A=r.length):A+=1}}}n&&-1===a.Pd&&!1===a.Id&&!1===a.oa&&(a.C=this.Dh(a,m,r,z,f),""!==this.u&&(n=!1),2===a.c&&(a.c=-1));n?this.Ah(a,z):(a.gN=!1,a.oa=!1,a.c=-1,a.Ja=!0);return n};g.prototype.Qo=function(a,c,d,f){var n=0,m=c.length-1,r=!1,v=!0,x,u=0,t=0,B=0,b=0,l=this.ro;for(x=c[n];!r;){var e=x;x=c[n+1];var p=-1;switch(e){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":b=10*b+parseInt(e,10);break;
case "b":p=0;break;case "o":p=1;break;case ".":p=0;break;case "z":p=7;a.ic=!0;a.mp=!0;break;case "$":0===b&&(b=1);B+=b;b=0;t>u&&(u=t);t=0;break;case "!":0===b&&(b=1);B+=b;b=0;t>u&&(u=t);r=!0;break;default:v=!1,"A"<=e&&"X">=e?(v=!0,p=e.charCodeAt(0)-64):"p"<=e&&"y">e?"A"<=x&&"X">=x?(v=!0,p=24*(e.charCodeAt(0)-111)+(x.charCodeAt(0)-64),n+=1,x=c[n+1]):"x"===e&&(v=!0,a.ic=!0,a.mp=!0,p=3):"y"===e&&("A"<=x&&"O">=x?(v=!0,p=24*(e.charCodeAt(0)-111)+(x.charCodeAt(0)-64),n+=1,x=c[n+1]):(v=!0,a.ic=!0,a.mp=!0,
p=5))}if(0<=p)if(0===b&&(b=1),d||(0===l[p]&&(a.Sr+=1),l[p]+=b,p>=a.sd&&(a.sd=p+1)),0<p&&d)for(;0<b;){a.Vg[B][t]=-1===a.c?p:2===a.c?1===p?LifeConstants.vb:0:p<a.c?p:1;if(!a.ic&&!a.M&&-1===a.c&&1===p||(a.ic||a.M)&&p&1||-1!==a.c&&1===p)a.pe[B][t>>4]|=1<<(~t&15);t+=1;--b}else t+=b,b=0;v||(" "===e||"\t"===e||"\n"===e?v=!0:(this.u="Illegal character in pattern: "+e,this.N=r=a.Nn=!0));n+=1;n===m&&(r||(0===b&&(b=1),B+=b,b=0,t>u&&(u=t)),r=!0)}d||(0===u&&(B=u=1),a.width=u,a.height=B,16384<u||16384<B?a.Ig=!0:
(a.pe=Array.da(Uint16,B,(u-1>>4)+1,0,f,"Pattern.lifeMap"),a.Vg=Array.da(Uint8,B,u,0,f,"Pattern.multiStateMap")),a.dj="RLE");a.Nn&&(n=-1);return n};g.prototype.Ll=function(a,c){var d=c.indexOf("\n");-1===d&&(d=c.length);a.WE=c.substring(0,d).trim()};g.prototype.yd=function(a,c,d){for(var f=!1;c<d&&!f;)" "===a[c]?c+=1:f=!0;return c};g.prototype.Cl=function(a){var c=a.indexOf("\n"),d=0,f=!1,n=!1,m=0;-1===c&&(c=a.length);for(;m<c&&!f;)"="===a[m]?f=!0:" "!==a[m]?f=!0:m+=1;if(f&&"="===a[m]){m=this.yd(a,
m+1,c);m<c&&"-"===a[m]&&(n=!0,m+=1);for(f=!1;m<c&&!f;){var r="0123456789".indexOf(a[m]);-1!==r?(d=10*d+r,m+=1):f=!0}this.Rk=!0;n&&(d=-d);this.zy=d}};g.prototype.tf=function(a,c){var d=a.indexOf("\n"),f=0,n=0,m=!1,r=!1,v=!1,x=0;-1===d&&(d=a.length);if(c){for(;x<d&&!v;)"="===a[x]?v=!0:" "!==a[x]?v=!0:x+=1;v&&"="===a[x]&&(x+=1)}else v=!0;if(v&&(x=this.yd(a,x,d),x<d)){"-"===a[x]&&(m=!0,x+=1);for(v=!1;x<d&&!v;)c="0123456789".indexOf(a[x]),-1!==c?(f=10*f+c,x+=1):v=!0;this.Xg=!0;this.mv=m?-f:f;x=this.yd(a,
x,d);if(x<d&&","===a[x]&&(x=this.yd(a,x+1,d),x<d)){"-"===a[x]&&(r=!0,x+=1);for(v=!1;x<d&&!v;)c="0123456789".indexOf(a[x]),-1!==c?(n=10*n+c,x+=1):v=!0;this.nv=r?-n:n}}};g.prototype.Bh=function(a){var c=a.indexOf("XRLE");0===c&&(c=a.indexOf("Pos"),-1!==c&&this.tf(a.substr(c+3),!0),c=a.indexOf("Gen"),-1!==c&&this.Cl(a.substr(c+3)))};g.prototype.Gl=function(a,c){var d=c.indexOf("\n");-1===d&&(d=c.length);a.name=c.substring(0,d).trim()};g.prototype.Rd=function(a,c,d,f){var n=d.indexOf("\n");-1===n&&(n=
d.length);" "===d[0]&&(c+=" ");d=""+d.substring(0,n).trim();a.title+=d+" ";f?a.jg+=c+d+"\n":a.vc+=c+d+"\n";return n+1};g.prototype.B=function(a){var c=-1;a+=" ";var d="0123456789".indexOf(a[this.index]);if(-1!==d)for(c=0;-1!==d;)c=10*c+d,this.index+=1,d="0123456789".indexOf(a[this.index]);return c};g.prototype.Kj=function(a,c){c=this.B(c);a.Ge=c;a.sg=c};g.prototype.Mj=function(a,c){var d=this.B(c),f=-1,n=0,m=0;if(-1!==d){var r=c[this.index];if("-"===r||"+"===r)this.index+=1,n=this.B(c),-1===n?d=-1:
"-"===r&&(n=-n);if(","===c[this.index])if(this.index+=1,f=this.B(c),-1===f)d=-1;else{if(r=c[this.index],"-"===r||"+"===r)this.index+=1,m=this.B(c),-1===m?d=-1:"-"===r&&(m=-m)}else f=d}0!==n&&0!==m&&(d=-1);0===d&&0===f&&(d=-1);0===n&&0===m||0!==d&&0!==f||(d=-1);a.Ge=d;a.sg=f;a.br=n;a.ap=m};g.prototype.Hi=function(a,c){var d=this.B(c),f=-1,n=0,m=0,r=!1,v=!1;if(-1!==d){var x=c[this.index];"*"===x&&(r=!0,this.index+=1,x=c[this.index]);if("-"===x||"+"===x)n=this.B(c),-1===n?d=-1:"-"===x&&(n=-n),this.index+=
1,x=c[this.index];if(","===x)if(this.index+=1,f=this.B(c),-1===f)d=-1;else{if(x=c[this.index],"*"===x&&(v=!0,this.index+=1,x=c[this.index]),"-"===x||"+"===x)this.index+=1,m=this.B(c),-1===m?d=-1:"-"===x&&(m=-m)}else f=d}r&&v&&(d=-1);0!==n&&0!==m&&(d=-1);if(r&&0!==m||v&&0!==n)d=-1;if(0===d||0===f)d=-1;r||v||(v=!0);a.Ge=d;a.sg=f;a.br=n;a.ap=m;a.Fy=r;a.mu=v};g.prototype.zj=function(a,c){var d=this.B(c),f=-1;-1!==d&&(","===c[this.index]?(this.index+=1,f=this.B(c),-1===f&&(d=-1)):f=d);a.Ge=d;a.sg=f};g.prototype.Ij=
function(a,c){var d=this.B(c),f=-1;-1!==d&&(","===c[this.index]?(this.index+=1,f=this.B(c),-1===f&&(d=-1)):f=d);0===d&&0===f&&(d=-1);a.Ge=d;a.sg=f};g.prototype.Bi=function(a,c){var d=!1;c=this.wf(c).toLowerCase();if(""!==c){a.fc="ptkcs".indexOf(c[0]);if(-1!==a.fc)if(this.index=1,2!==a.fc&&-1!==c.indexOf("*"))a.Ge=-1;else switch(a.fc){case 0:this.Ij(a,c);break;case 1:this.Mj(a,c);break;case 2:this.Hi(a,c);break;case 3:this.zj(a,c);break;case 4:this.Kj(a,c);break;default:a.Ge=-1}this.index!==c.length&&
(a.Ge=-1);-1!==a.Ge?d=!0:(a.fc=-1,this.u="Invalid bounded grid definition '"+c.toUpperCase()+"'")}return d};g.prototype.Zb=function(a,c,d,f){var n,m,r=null;if(d[c]===a){for(c+=1;c<f&&" "===d[c];)c+=1;for(c<f&&"="===d[c]&&(c+=1);c<f&&" "===d[c];)c+=1;a=0;var v=n=!1;"-"===d[c]&&(c+=1,v=!0);for(m=d[c].charCodeAt(0);c<f&&48<=m&&57>=m;)a=10*a+(m-48),c+=1,n=!0,c<f&&(m=d[c].charCodeAt(0));for(n&&(r=v?-a:a);c<f&&" "===d[c];)c+=1;for(c<f&&","===d[c]&&(c+=1);c<f&&" "===d[c];)c+=1}return[r,c]};g.prototype.Jj=
function(a,c){this.vk=this.wk=-1;var d=this.Zb("x",0,a,c);var f=d[1];d[0]&&(this.wk=d[0]);d=this.Zb("y",f,a,c);f=d[1];d[0]&&(this.vk=d[0]);d=this.Zb("h",f,a,c);f=d[1];d[0]&&(this.mv=d[0],this.Xg=!0);d=this.Zb("v",f,a,c);d[0]&&(this.nv=d[0])};g.prototype.qf=function(a,c,d,f){var n=c.indexOf("\n"),m=c.indexOf("rule"),r="";-1===n&&(n=c.length);this.Jj(c,n);-1===m?d?r="":r=c.substring(1,n).trim():(r=c.substring(m+4,n).trim(),"="===r[0]&&(r=r.substring(1).trim()));a.Vr=r;a.C=r;d=r.indexOf(":");c=r.lastIndexOf(":");
-1!==c&&d===c&&null!==AliasManager.By(a.C)&&(c=-1);-1!==c&&(this.Bi(a,r.substring(c+1))?r=r.substr(0,c).trim():c=-2);m=r.toLowerCase().lastIndexOf("history");-1!==m&&m===r.length-7&&(a.ic=!0,r=r.substr(0,r.length-7).trim());m=r.indexOf("|");-1!==m&&"history"===r.toLowerCase().substr(0,m).trim().substr(-7)&&(a.ic=!0,d=r.substr(0,m).trim(),r=d.substr(0,d.length-7)+r.substr(m));a.ic||(m=r.toLowerCase().lastIndexOf("super"),-1!==m&&m===r.length-5&&(a.M=!0,r=r.substr(0,r.length-5).trim()),m=r.indexOf("|"),
-1!==m&&"super"===r.toLowerCase().substr(0,m).trim().substr(-5)&&(a.M=!0,d=r.substr(0,m).trim(),r=d.substr(0,d.length-5)+r.substr(m)));-2!==c&&this.Ra(a,r,f)?this.va=!0:this.$j=!0;return n+1};g.prototype.$C=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};g.prototype.We=function(a,c,d){var f=0,n=c.length,m=!1,r=!1;var v=this.ro;var x=4;a.ha=!1;a.Ja=!1;a.fc=-1;a.width=
0;a.height=0;a.Ig=!1;a.pe=null;a.Vg=null;a.Nn=!1;a.ic=!1;a.M=!1;a.mp=!1;a.O=!1;a.Pd=-1;a.ne=!1;a.c=-1;a.Id=!1;a.ue=-1;a.aj=1;a.Ud=-1;a.Se=-1;a.de=-1;a.Mf=-1;a.oa=!1;a.De=null;a.If=null;a.bg=-1;a.title="";a.vc="";a.jg="";a.sd=2;a.Sr=0;v.fill(0);for(c+=" ";f<n&&!a.Nn;)switch(v=c[f],v){case "#":f+=1;v=c[f];f+=1;switch(v){case "N":this.Gl(a,c.substring(f));break;case "O":this.Ll(a,c.substring(f));break;case "C":this.Bh(c.substring(f));break;case "P":case "R":this.tf(c.substring(f),!1);break;case "\n":--f}f=
"\n"===v?f+this.Rd(a,"#",c.substring(f),m):f+this.Rd(a,"#"+v,c.substring(f),m);break;case "x":f+=this.qf(a,c.substring(f),!0,d);r=!0;break;case "\n":f+=1;break;default:m?f+=this.Rd(a,"",c.substring(f),!0):(m=!0,v=this.Qo(a,c.substring(f),!1,d),-1!==v&&(f=a.Ig?f+v:f+this.Qo(a,c.substring(f),!0,d)))}r||(this.Ra(a,"",d)?this.va=!0:this.$j=!0);-1!==a.fc&&(a.oa&&(x=6*a.bg),a.Id&&(x=6*a.ue),a.Ge>=16384-x||a.sg>=16384-x)&&(this.u="Bounded grid is too big",this.va=!1,a.fc=-1);!a.Id||""!==this.u||(1<a.fc&&
(this.u="LtL only supports Plane or Torus",this.va=!1,a.fc=-1),a.O&&(this.u="LtL does not support Hex grid",this.va=!1,a.O=!1),0===a.de&&-1===a.fc&&(this.u="LtL does not support B0 unbounded",this.va=!1),0!==a.fc&&1!==a.fc)||0!==a.Ge&&0!==a.sg||(this.u="LtL bounded grid must be finite",this.va=!1,a.fc=-1);a.P&&-1!==a.fc&&(0!==(a.Ge&1)?(this.u="Bounded grid width must be even",this.va=!1,a.fc=-1):0!==(a.sg&1)&&(this.u="Bounded grid height must be even",this.va=!1,a.fc=-1));a.G&&0!==this.lj[0]&&(this.u=
"PCA first value must be 0",this.lj[0]=0,this.va=!1);a.ha&&(15===this.lj[0]&&0!==this.lj[15]?(this.u="Margolus last value must be 0 when first is 15",this.va=!1):0!==this.lj[0]&&15!==this.lj[0]&&(this.u="Margolus first value must be 0 or 15",this.va=!1));!a.oa||""!==this.u||(1<a.fc&&(this.u="HROT only supports Plane or Torus",this.va=!1,a.fc=-1),a.O&&(this.u="HROT does not support Hex grid",this.va=!1,a.O=!1),a.De&&1===a.De[0]&&-1===a.fc&&(this.u="HROT does not support B0 unbounded",this.va=!1),0!==
a.fc&&1!==a.fc)||0!==a.Ge&&0!==a.sg||(this.u="HROT bounded grid must be finite",this.va=!1,a.fc=-1);a.Ja&&a.ic&&""===this.u&&(this.u="[R]History not valid with none rule",this.va=a.ic=!1);a.Ja&&a.M&&""===this.u&&(this.u="[R]Super not valid with none rule",this.va=a.ic=!1);a.P&&a.M&&""===this.u&&(this.u="[R]Super not valid with triangular rule",this.va=a.ic=!1);-1===a.c||!a.ic||a.Id||a.oa||(this.u="[R]History not valid with Generations",this.va=a.ic=!1);-1===a.c||!a.M||a.Id||a.oa||(this.u="[R]Super not valid with Generations",
this.va=a.M=!1);-1===a.c||!this.lj[0]||a.Id||a.oa||(this.u="Generations does not support B0",this.va=!1);a.Id&&a.ic&&(this.u="[R]History not valid with LtL",this.va=a.ic=!1);a.Id&&a.M&&(this.u="[R]Super not valid with LtL",this.va=a.M=!1);a.oa&&a.ic&&(this.u="[R]History not valid with HROT",this.va=a.ic=!1);a.oa&&a.M&&(this.u="[R]Super not valid with HROT",this.va=a.M=!1);a.ha&&a.ic&&(this.u="[R]History not valid with Margolus",this.va=a.ic=!1);a.ha&&a.M&&(this.u="[R]Super not valid with Margolus",
this.va=a.M=!1);a.ha&&-1!==a.fc&&(-1!==a.sg&&0!==(a.sg&1)&&(this.u="Bounded grid height must be even",a.fc=-1,this.va=!1),-1!==a.Ge&&0!==(a.Ge&1)&&(this.u="Bounded grid width must be even",a.fc=-1,this.va=!1));this.va&&(a.mp?8<a.sd&&(this.u="Illegal state in pattern for Niemiec",this.va=!1,this.N=!0):a.ic?7<a.sd&&(this.u="Illegal state in pattern for [R]History",this.va=!1,this.N=!0):a.M?26<a.sd&&(this.u="Illegal state in pattern for [R]Super",this.va=!1,this.N=!0):-1!==a.c&&a.sd>a.c&&(this.u=a.Id?
"Illegal state in pattern for LtL":a.oa?"Illegal state in pattern for HROT":a.G?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.N=!0,this.va=!1));a.Id&&this.Wo(a,d);!a.oa||a.Fb!==this.fi&&a.Fb!==this.Lh&&a.Fb!==this.nh&&(15!==a.Fb&&10!==a.Fb||"H"!==a.Ng)||(a.O=!0);!a.oa||a.Fb!==this.Kh&&(15!==a.Fb&&10!==a.Fb||"L"!==a.Ng)||(a.P=!0);a.M&&(a.c=26)};g.prototype.Gi=function(a,c){var d=!0,f=!1,n=0,m=0,r=0,v=0,x=0,u=!0,t=k.WA,B=null,b=[],l={},e=null;c.bq();var p=c.S();
for(""!==p&&"@"===p[0]&&(p="");d&&""!==p;){for(;d&&!f&&""!==p;){if("/"===p[0])c.bq();else if("xpm"===p.toLowerCase())c.bq();else if('"'===p[0])p=p.substr(1),c.lm(p)&&(n=c.xx(p),c.H()&&(m=c.I(),c.H()&&(r=c.I(),p=c.S(),'"'===p[p.length-1]&&(p=p.substr(0,p.length-1),c.lm(p)&&(v=c.xx(p)))))),0<n&&0<m&&1<=v&&2>=v&&0===m%n?7!==n&&15!==n&&31!==n?f=!1:(f=!0,x=0,B=new Uint16Array(n*m),e=new Uint32Array(r)):d=!1;else switch(p){case "circles":t=k.ML;l={};B=[];e=[];break;case "diamonds":t=k.NL;l={};B=[];e=[];
break;case "hexagons":t=k.OL;l={};B=[];e=[];break;case "triangles":t=k.QL,l={},B=[],e=[]}for(;c.Mr();)c.S();p=c.S();""!==p&&"@"===p[0]&&(p="")}for(;d&&f&&""!==p;){if("/"===p[0])c.bq();else{if('"'===p[0])if(d=!1,x<r){var y=p.substr(1);if(y.length===v&&void 0===l[y]&&(p=c.S(),"c"===p&&(p=c.S(),'"'===p[p.length-1]))){d=p.substr(0,p.length-1);d=parseInt(d,16);l[y]=x;e[x]=d;if(d>>16!==(d>>8&255)||d>>16!==(d&255))u=!1;d=!0}}else{if(d=!1,'"'===p[p.length-1]&&p.length-2===n*v){p=p.substr(1,p.length-2);var z=
0;for(d=!0;d&&z<n;)y=p[z*v],1<v&&(y+=p[z*v+1]),void 0===l[y]?d=!1:B[(x-r)*n+z]=l[y],z+=1}}else x===m+r?(f=!1,b[b.length]={Dx:t,width:n,height:m,RE:r,Sl:e.slice(),RJ:B.slice(),TD:u},l={},B=null,u=!0,t=k.WA):d=!1,c.nG();x+=1}for(;c.Mr();)c.S();p=c.S();""!==p&&"@"===p[0]&&(p="")}}d?x===m+r?(b[b.length]={Dx:t,width:n,height:m,RE:r,Sl:e.slice(),RJ:B.slice(),TD:u},a.Ld=b):a.Ld=null:a.Ld=null};g.prototype.Ei=function(a,c){var d=a.sd;a=a.$d;var f=0,n=0,m=0,r=0,v=!1;c.bq();c.H()&&(f=c.I(),v=!0);for(;v;){v=
!1;c.H()&&(n=c.I(),c.H()&&(m=c.I(),c.H()&&(r=c.I(),v=!0)));if(v)if(c.H()&&c.tJ()){var x=c.I();var u=c.I();0<=f&&255>=f&&0<=n&&255>=n&&0<=m&&255>=m&&0<=r&&255>=r&&0<=x&&255>=x&&0<=u&&255>=u?this.Re(a,f,n,m,r,x,u):v=!1}else 0<=f&&f<d&&0<=n&&255>=n&&0<=m&&255>=m&&0<=r&&255>=r?a[f]=n<<16|m<<8|r:v=!1;v&&(c.bq(),c.H()?f=c.I():v=!1)}};g.prototype.fe=function(a,c,d,f,n,m){var r=!1,v=a.length;var x=f.length;var u=x%32;var t=1<<u,B=(x-u)/32;if(null!==m)for(x=0;!r&&x<m.length;){var b=m[x];if(b.Fp===c)for(u=
0,r=!0;r&&u<a.length;)0!==this.Tb(a[u],b.inputs[u])&&(r=!1),u+=1;x+=1}if(!r){null!==m&&(b={inputs:[],Fp:c},b.inputs=a.slice(),m[m.length]=b);f[f.length]=c;if(B>=d.Eg){for(x=0;x<v;x+=1)for(u=0;u<d.dg;u+=1)n[x][u][n[x][u].length]=0;d.Eg+=1}for(x=0;x<v;x+=1)for(c=a[x],u=0;u<c.length;u+=1)n[x][c[u]][B]|=t}return r};g.prototype.zl=function(a){var c=a.length,d=c-2,f=c-1,n=!1;if(1<c){for(;0<=d&&0<=this.Tb(a[d],a[d+1]);)--d;if(0<d){for(n=!0;f>=d&&0>=this.Tb(a[f],a[d]);)--f;var m=a[d];a[d]=a[f];a[f]=m;var r=
(c-(d+1))/2|0;for(f=0;f<r;f+=1)m=a[c-f-1],a[c-f-1]=a[d+1+f],a[d+1+f]=m}}return n};g.prototype.Tb=function(a,c){var d=0,f=a.length;if(f===c.length){for(;d<f&&a[d]===c[d];)d+=1;return d===f?0:a[d]-c[d]}return f-c.length};g.prototype.Bl=function(a,c,d,f,n){var m,r,v,x=[],u=[],t=[],B=0;for(m=0;m<d;m+=1)for(t[m]=[],r=0;r<n.dg;r+=1)t[m][r]=[];for(m=n.Eg=0;m<f.length;m+=1){var b=f[m].inputs;var l=f[m].Fp;if(0===a)this.fe(b,l,n,u,t,null);else if(a===c-1){x=b.slice(1).sort(this.Tb);for(r=0;r<x.length;r+=1)b[r+
1]=x[r];do this.fe(b,l,n,u,t,null);while(this.zl(b))}else{var e=this.Nb[n.mj][a-1];var p=[];for(r=0;r<e.length;r+=1){for(v=0;v<b.length;v+=1)x[v]=b[e[r][v]];this.fe(x,l,n,u,t,p)&&(B+=1)}}}n.Fg=[];for(m=0;m<d;m+=1)for(n.Fg[m]=[],r=0;r<n.dg;r+=1)n.Fg[m][r]=new Uint32Array(t[m][r].length),n.Fg[m][r].set(t[m][r]);n.Md=new Uint8Array(u.length);n.Md.set(u);n.jl=B};g.prototype.Lj=function(a,c){var d=-1,f=-1,n=-1,m=0,r,v="",x={},u=0,t=0,B=[],b=null,l;var e=0;for(l=!0;l&&3>e;){var p=c.ND();switch(p.toLowerCase()){case this.dg:l=
!1;":"===c.S()?c.H()?(d=c.I(),2<=d&&256>=d?l=!0:this.u=this.dg+" must be from 2 to 256"):this.u=this.dg+" must be numeric":this.u=this.dg+" missing :";break;case "neighborhood":l=!1;if(":"===c.S()){p=c.S();var y=!1;for(r=0;!y&&r<this.fa.length;)p.toLowerCase()===this.fa[r]?(f=r,m=this.wb[r],y=!0,b=new Int32Array(m+1)):r+=1;l=y;y||(this.u="neighborhood invalid")}else this.u="neighborhood missing :";break;case "symmetries":l=!1;if(-1!==f)if(":"===c.S()){p=c.S();y=!1;for(r=0;!y&&r<this.qa[f].length;)p.toLowerCase()===
this.qa[f][r]?(n=r,y=!0):r+=1;l=y;y||(this.u="symmetries invalid")}else this.u="symmetries missing :";else this.u="symmetries must follow neighborhood";break;default:l=!1}e+=1}if(-1===d||-1===f||-1===n)""===this.u&&(this.u=-1===d?"missing "+this.dg:-1===f?"missing neighborhood":"missing symmetries"),l=!1;c.Vv();p=c.S();for(""!==p&&"@"===p[0]&&(p="");l&&""!==p;){if("var"===p.toLowerCase()){l=!1;v=c.S();var z=[];if("="===c.S())for(l=!0;l&&!c.Mr();)if(c.H())r=c.I(),0<=r&&r<=d?z[z.length]=r:(l=!1,this.u=
"out of range value: "+v+"="+r);else{var A=c.S();if(void 0!==x[A])for(e=0;e<x[A].length;e+=1)z[z.length]=x[A][e];else l=!1,this.u="var unknown assignment: "+v+"="+A}else this.u="missing =: "+v;l&&(x[v]=z,u+=1)}else if(10>=d&&0===u&&c.Mr()){if(z=[],l=!1,p.length===m+1){e=0;for(l=!0;l&&e<m;)A=p.charCodeAt(e),48<=A&&A<48+d?(z[z.length]=[A-48],e+=1):(this.u="expected only digits: "+p,l=!1);l&&(A=p.charCodeAt(e),48<=A&&A<48+d?(t=A-48,B[B.length]={inputs:z,Fp:t}):(this.u="expected only digits: "+p,l=!1))}}else{l=
!1;A=[];A[0]=p;b[0]=c.lm(p)?parseInt(p,10):-1;for(e=1;c.vK();)e<m+1?c.H()?(b[e]=c.I(),A[e]=""):(b[e]=-1,A[e]=c.S()):A[e]=c.S(),e+=1;if(A.length===m+1){p=[];for(v in x){for(e=l=0;e<A.length;e+=1)v===A[e]&&(l+=1);1<l&&(p[p.length]=v)}z=[];var C={};for(e=0;e<p.length;e+=1)C[p[e]]=0;for(l=!0;;){for(e=0;e<m;e+=1)if(y=!1,r=b[e],-1!==r)r>=d?(this.u="state out of range: "+r,l=!1):z[e]=[r];else{var D=A[e];if(p.length)for(r=0;!y&&r<p.length;)p[r]===D?y=!0:r+=1;0<p.length&&y?z[e]=[x[D][C[D]]]:void 0!==x[D]?
z[e]=x[D]:(this.u="unknown variable: "+D,l=!1)}y=!1;r=b[e];if(-1!==r)0>r||r>=d?(this.u="output state out of range: "+r,l=!1):t=r;else{D=A[e];if(0<p.length)for(r=0;!y&&r<p.length;)p[r]===D?y=!0:r+=1;0<p.length&&y?t=x[D][C[D]]:void 0!==x[D]?t=x[D]:(this.u="unknown output variable: "+D,l=!1)}B[B.length]={inputs:z.slice(),Fp:t};for(e=0;e<p.length;e+=1)if(C[p[e]]<x[p[e]].length-1){C[p[e]]+=1;break}else C[p[e]]=0;if(e>=p.length)break}}}c.Vv();p=c.S();""!==p&&"@"===p[0]&&(c.nG(),p="")}l&&(null===a.l&&(a.l=
new Allocator),a.dg=d,a.mj=f,a.O=f===k.kl?!0:!1,this.Bl(n,this.qa[f].length,m,B,a),a.sd=a.dg,this.u="",this.va=!0,this.$j=!1,a.Ja=!1,this.Te(a,a.dg));return l};g.prototype.Re=function(a,c,d,f,n,m,r){var v=a.length,x;a[0]=0;for(x=1;x<v;x+=1){var u=2===v?0:(x-1)/(v-2);a[x]=(n*u+c*(1-u)|0)<<16|(m*u+d*(1-u)|0)<<8|r*u+f*(1-u)|0}};g.prototype.Te=function(a,c){a.$d=new Uint32Array(c);this.Re(a.$d,255,0,0,255,255,0)};g.prototype.Fl=function(a){return(new RegExp("neighborhood *: *"+this.fa[k.kl])).test(a.source)};
g.prototype.Nj=function(a,c){var d,f=-1,n=-1,m=-1,r=null,v=0,x=null,u=0,t=null,B=0,b=null,l=0,e=0,p=0;var y=0;for(d=!0;d&&3>y;){d=c.ND();switch(d.toLowerCase()){case this.ve:d=!1;"="===c.S()?c.H()?(f=c.I(),2<=f&&256>=f?d=!0:this.u=this.ve+" must be from 2 to 256"):this.u=this.ve+" must be numeric":this.u=this.ve+" missing =";break;case this.eg:d=!1;"="===c.S()?c.H()?(n=c.I(),4===n||8===n?d=!0:this.u=this.eg+" must be 4 or 8"):this.u=this.eg+" must be numeric":this.u=this.eg+" missing =";break;case this.pi:d=
!1;"="===c.S()?c.H()?(m=c.I(),m>=n&&1E8>=m?d=!0:this.u=this.pi+" out of range"):this.u=this.pi+" must be numeric":this.u=this.pi+" missing =";break;default:d=!1}y+=1}if(-1===f||-1===n||-1===m)""===this.u&&(this.u=-1===f?"missing "+this.ve:-1===n?"missing "+this.eg:"missing "+this.pi),d=!1;d&&(r=new Uint32Array(m*f),x=new Uint8Array(m*f),t=new Uint32Array(m),b=new Uint32Array(m));for(c.Vv();d&&c.H();){B>m?d=!1:(e=c.I(),p=0,t[B]=1===e?u:v,B+=1,b[l]=e,l+=1);for(;d&&c.H();)y=c.I(),1===e?0>y||y>=f?(this.u=
"bad state value in tree data: "+y,d=!1):(x[u]=y,u+=1):0>y||y>t.length?(this.u="bad node value in tree data: "+y,d=!1):b[y]!==e-1?(this.u="bad node pointer in tree data: "+e,d=!1):(r[v]=t[y],v+=1),p+=1;d&&p!==f&&(this.u="bad number of values on tree data line",d=!1);c.Vv()}d&&(v+u!==m*f?(this.u="bad count of values in tree data",d=!1):e!==n+1?(this.u="bad last node (wrong level)",d=!1):a.sd>f&&(d=!1,this.u="illegal state in pattern"));d&&(null===a.l&&(a.l=new Allocator),a.eg=n,a.ve=f,a.pi=m,a.ll=
t[t.length-1],a.pk=r.slice(0,v),a.qk=x.slice(0,u),a.YA=this.Fl(c),a.O=a.YA,a.sd=a.ve,this.u="",this.va=!0,this.$j=!1,a.Ja=!1,this.Te(a,a.ve));return d};g.prototype.AD=function(a,c){var d=!1;c=new Script(c,!0);a.v.u="";if(-1!==c.Zq("@RULE",-1)&&!c.Mr()){a.XA=c.S();var f=c.Zq("@TREE",-1);-1!==f?(d=this.Nj(a,c))?a.C=a.XA:(""===a.v.u&&(a.v.u="not valid"),a.v.u="@TREE "+a.v.u):(f=c.Zq("@TABLE",0),-1!==f?(d=this.Lj(a,c))?a.C=a.XA:(""===a.v.u&&(a.v.u="not valid"),a.v.u="@TABLE "+a.v.u):a.v.u="@TABLE and @TREE not found");
d&&(d=c.Zq("@COLORS",0),-1!==d&&this.Ei(a,c),d=c.Zq("@ICONS",0),-1!==d&&this.Gi(a,c))}};g.prototype.create=function(a,c,d,f,n,m,r){a=new h(a,this);this.va=this.$j=this.Ig=this.N=this.Ju=!1;this.u="";this.index=0;this.Rk=!1;this.zy=0;this.Xg=!1;this.nv=this.mv=0;this.vk=this.wk=-1;this.oc=!1;if("!"===c.substr(0,1)||"O"===c.substr(0,1)||"."===c.substr(0,1)||"*"===c.substr(0,1)||"o"===c.substr(0,1))this.Di(a,c,d),this.va=!0;null===a.pe&&(this.va=!1,"#Life 1.05"===c.substr(0,10)?this.Ue(a,c,!0,d):"#Life 1.06"===
c.substr(0,10)?(this.yi(a,c,d),this.va=!0):"#"===c[0]||"x"===c[0]?(this.We(a,c,d),null!==a.pe||a.Ig||a.Nn||(this.Ue(a,c,!1,d),this.$j=!1,a.Vg=null,a.ic=!1,a.M=!1,a.sd=2,a.Sr=0)):this.We(a,c,d));a.Ig&&(this.u="Pattern too big (maximum 16384x16384)",this.Ig=!0,a.Nn=!1,a.width=1,a.height=1,a.pe=Array.da(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap"));-1!==a.fc?(c=a.C.lastIndexOf(":"),a.Ko=a.C.substr(c),a.C=a.C.substr(0,c)):a.Ko="";null===a.pe&&""===this.u&&(this.u="Invalid pattern",a=null,this.va=
!1);a&&a.Nn&&!a.Ig&&(a=null,this.va=!1);a&&(""!==a.vc&&"\n"!==a.vc[a.vc.length-1]&&(a.vc+="\n"),""!==a.jg&&"\n"!==a.jg[a.jg.length-1]&&(a.jg+="\n"),""!==this.u&&(a.O||a.P)&&null===a.C.match(/[0-9]/)&&(a.O=!1,a.P=!1),""===this.u||this.Ig||this.N||(a.C=a.Vr,-1!==a.fc?(c=a.C.lastIndexOf(":"),a.Ko=a.C.substr(c),a.C=a.C.substr(0,c)):a.Ko="",a.ha=!1,a.G=!1,a.Ja=!1,a.ic=!1,a.M=!1,a.mp=!1,a.O=!1,a.P=!1,a.Pd=-1,a.ne=!1,a.Id=!1,a.YG=a.oa,a.oa=!1,q.kE(a)?(f=null===a.Md?a.ve:a.dg,a.sd>f?(this.u="Illegal state in pattern",
this.N=!0):(a.sd=f,this.u="",this.va=!0,this.$j=!1,a.Ja=!1)):(c=a.jg.indexOf("@RULE"),-1!==c&&(c=a.jg.substr(c),this.AD(a,c)),-1===a.ve&&null===a.Md&&this.xl(a,f,n,m,r))));return a};g.prototype.zJ=function(a){var c=a.indexOf("@RULE");if(-1===c)a="";else{var d=a.indexOf("\x3c!--",c);a=-1===d?0===c?a:a.substr(c):a.substr(c,d-c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};g.prototype.Hk=function(a,c,d){if(4===c.readyState)if(200===c.status){c=a.zJ(c.responseText);var f=performance.now()-
this.time;this.time=performance.now();""===c?(d.v.u="@RULE not found",q.Iv(d)):(a.AD(d,c),a=performance.now()-this.time,-1!==d.ve||null!==d.Md?q.add(d,f,a,c.length):q.Iv(d))}else q.Iv(d)};g.prototype.Fk=function(a){q.Iv(a)};g.prototype.xl=function(a,c,d,f,n){var m=this,r=null,v=a.C,x="/wiki/Rule:"+v;this.time=performance.now();this.Ju=!0;n?a.l=n.a.l:a.l=null;q.IH(a,c,d,f,n)||(r=new XMLHttpRequest,""!==DocConfig.QA&&(x=DocConfig.QA+v+DocConfig.$F),registerEvent(r,"load",function(){m.Hk(m,r,a)},!1),
registerEvent(r,"error",function(){m.Fk(a)},!1),r.open("GET",x,!0),r.send(null))};window.PatternConstants=k;window.PatternManager=g;window.Pattern=h;window.RuleTreeCache=q}(),function(){function w(){this.Sl=[]}w.prototype.add=function(g,h,q){this.Sl[this.Sl.length]=g<<16|h<<8|q};window.ColourManager={Yj:[],us:[],bE:!1,dy:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,
255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,
55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,
50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,
133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,
162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Tt:[],Ee:{aliceblue:["AliceBlue",
240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",
255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,
204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",
34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",
255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",
119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",
0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",
238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",
139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",
255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},bN:function(){return this.Tt},kD:function(g){for(var h=0,q=!1,k=[];h<this.us.length&&!q;)g===this.us[h][0]?q=!0:h+=1;q&&(k=this.Yj[this.us[h][1]].Sl);return k},$b:function(g){this.us[this.us.length]=g},cf:function(){var g,h=0,q;if(!this.bE){this.bE=!0;for(g=q=0;256>
g;g+=1)this.Tt[g]=this.dy[q]<<16|this.dy[q+1]<<8|this.dy[q+2],q+=3;g=new w;g.add(0,0,0);g.add(0,255,0);g.add(0,0,128);g.add(216,255,216);g.add(255,0,0);g.add(255,255,0);g.add(96,96,96);g.add(255,128,128);this.Yj[h]=g;this.$b(["LifeHistory",h]);h+=1;g=new w;g.add(48,48,48);g.add(0,128,255);g.add(255,255,255);g.add(255,128,0);this.Yj[h]=g;this.$b(["WireWorld",h]);h+=1;g=new w;g.add(0,0,0);g.add(255,255,255);g.add(144,128,112);g.add(144,90,45);g.add(192,192,192);g.add(255,0,0);g.add(255,128,0);g.add(255,
255,0);g.add(0,255,0);g.add(0,255,208);g.add(0,192,255);g.add(0,0,255);g.add(192,0,255);g.add(255,64,160);g.add(112,128,144);g.add(0,128,0);g.add(0,96,128);g.add(160,0,80);g.add(40,40,40);g.add(220,220,220);g.add(140,60,0);g.add(0,160,0);g.add(160,160,250);this.Yj[h]=g;this.$b(["WWE",h]);this.$b(["WWE2",h]);this.$b(["WWEJ",h]);this.$b(["WWEJ2",h]);this.$b(["WWEJ3",h]);h+=1;g=new w;g.add(30,30,30);g.add(0,128,128);g.add(0,255,0);g.add(255,0,0);g.add(255,128,0);g.add(255,255,0);g.add(128,0,128);g.add(128,
128,128);g.add(255,255,255);g.add(128,128,255);this.Yj[h]=g;this.$b(["Novoloop",h]);h+=1;g=new w;g.add(0,0,0);g.add(255,128,0);g.add(255,0,0);g.add(0,255,0);g.add(0,0,255);g.add(0,190,0);g.add(0,140,0);g.add(255,255,255);g.add(80,80,80);g.add(95,95,95);g.add(128,128,128);g.add(0,64,0);g.add(255,255,0);g.add(64,0,164);g.add(64,32,64);g.add(80,80,100);g.add(95,95,125);g.add(128,255,128);g.add(64,100,100);this.Yj[h]=g;this.$b(["shapeloop",h]);this.$b(["shapeloop-b",h]);this.$b(["shapeloop2",h]);this.$b(["shapeloop-ltd",
h]);this.$b(["2armshapeloop-a",h]);this.$b(["2armshapeloop2-a",h]);this.$b(["shapeloop2a-bounded",h]);this.$b(["foodshapeloop",h]);this.$b(["foodshapeloop2",h]);h+=1;g=new w;g.add(0,0,0);g.add(255,255,255);g.add(255,0,0);g.add(0,128,255);g.add(170,0,0);g.add(85,0,0);this.Yj[h]=g;this.$b(["b3s23mmg",h]);h+=1;g=new w;g.add(0,0,0);g.add(255,0,0);g.add(0,255,0);g.add(0,0,255);g.add(255,255,0);g.add(0,255,255);g.add(255,0,255);g.add(92,36,110);g.add(0,99,140);g.add(176,196,222);g.add(115,61,26);this.Yj[h]=
g;this.$b(["_235_4_O3",h]);this.$b(["0_245_5_O4",h]);this.$b(["0_245_5_O3",h]);this.$b(["58_27_4_O3",h]);this.$b(["0_24_4H_O3",h]);this.$b(["2_235_4H_O3",h]);this.$b(["24_235_4H_O3",h]);this.$b(["3_25_4_O2",h]);this.$b(["Snake_O5",h]);this.$b(["Mites",h]);this.$b(["Mites2",h]);this.$b(["Mites3",h]);h+=1;g=new w;g.add(48,48,48);g.add(255,128,0);g.add(0,0,255);g.add(32,32,255);g.add(64,64,255);g.add(96,96,255);this.Yj[h]=g;this.$b(["Alpha-1",h]);h+=1;g=new w;g.add(48,48,48);g.add(255,0,0);g.add(255,
125,0);g.add(255,150,25);g.add(255,175,50);g.add(255,200,75);g.add(255,225,100);g.add(255,250,125);g.add(251,255,0);g.add(89,89,255);g.add(106,106,255);g.add(122,122,255);g.add(139,139,255);g.add(27,176,27);g.add(36,200,36);g.add(73,255,73);g.add(106,255,106);g.add(235,36,36);g.add(255,56,56);g.add(255,73,73);g.add(255,89,89);g.add(185,56,255);g.add(191,73,255);g.add(197,89,255);g.add(203,106,255);g.add(0,255,128);g.add(255,128,64);g.add(255,255,128);g.add(33,215,215);g.add(27,176,176);g.add(24,156,
156);g.add(21,137,137);this.$b(["JvN29",h]);this.$b(["Hutton32",h]);this.$b(["Nobili32",h]);this.Yj[h]=g}}}}(),function(){function w(g,h,q,k){this.f=g;this.g=h;this.o=q;this.s=k}w.prototype.set=function(g){this.f=g.f;this.g=g.g;this.o=g.o;this.s=g.s};window.BoundingBox=w}(),function(){function w(h,q){this.index=q;this.ca=h.wo[q];this.Da=h.qn[q];this.B=h.ju[q];this.j=h.vt[q];this.J=new BoundingBox(0,0,0,0);this.Ha=new BoundingBox(0,0,0,0);this.Z=this.$i=this.Of=this.counter=this.cc=this.Jb=this.na=
0;this.v=h}function g(h,q){this.l=h;this.Me=[];this.Th=[];this.wo=[];this.qn=[];this.ju=[];this.vt=[];this.B=[];this.N=0;this.index=-1;this.mK=51;this.j=[];this.YC=q}w.prototype.IL=function(h,q,k){var a=q.length,c=q[0].length,d,f,n=0,m,r=k.Ms;k=k.Ns;var v,x=0,u=this.B,t=0,B=u[t],b=B.length;Array.Ni(this.ca,q);for(d=0;d<a;d+=1){var l=this.ca[d];for(q=v=0;q<c;q+=1)if(m=l[q])for(f=15;0<=f;--f){if(0!==(m&1<<f)){var e=x;var p=v;var y=B[n];n+=1;h[e][p]=y&255;h[e][p+1]=y>>8&255;h[e+1][p]=y>>16&255;h[e+1][p+
1]=y>>24;e+=2;y=B[n];n+=1;h[e][p]=y&255;h[e][p+1]=y>>8&255;h[e+1][p]=y>>16&255;h[e+1][p+1]=y>>24;e+=2;y=B[n];n+=1;h[e][p]=y&255;h[e][p+1]=y>>8&255;h[e+1][p]=y>>16&255;h[e+1][p+1]=y>>24;e+=2;y=B[n];n+=1;h[e][p]=y&255;h[e][p+1]=y>>8&255;h[e+1][p]=y>>16&255;h[e+1][p+1]=y>>24;e+=2;y=B[n];n+=1;h[e][p]=y&255;h[e][p+1]=y>>8&255;h[e+1][p]=y>>16&255;h[e+1][p+1]=y>>24;e+=2;y=B[n];n+=1;h[e][p]=y&255;h[e][p+1]=y>>8&255;h[e+1][p]=y>>16&255;h[e+1][p+1]=y>>24;e+=2;y=B[n];n+=1;h[e][p]=y&255;h[e][p+1]=y>>8&255;h[e+
1][p]=y>>16&255;h[e+1][p+1]=y>>24;e+=2;y=B[n];n+=1;h[e][p]=y&255;h[e][p+1]=y>>8&255;h[e+1][p]=y>>16&255;h[e+1][p+1]=y>>24;n>=b&&(t+=1,B=u[t],n=0)}v+=r}else v+=r<<4;x+=k}};w.prototype.WL=function(h,q,k){var a=q.length,c=q[0].length,d,f=0,n;var m=0;var r=k.Ms,v=k.Ns,x,u=0,t=this.B,B=0,b=t[B],l=b.length,e=t.length;var p=this.v.YC;Array.Ni(q,this.ca);for(d=0;d<a;d+=1){var y=q[d];for(k=0;k<c;k+=1)(n=y[k])&&(m+=p[n])}if(m)for(d=0;d<a;d+=1){y=q[d];for(k=x=0;k<c;k+=1)if(n=y[k])for(m=15;0<=m;--m){if(0!==(n&
1<<m)){var z=u;p=x;b[f]=h[z][p]|h[z][p+1]<<8|h[z+1][p]<<16|h[z+1][p+1]<<24;f+=1;z+=2;b[f]=h[z][p]|h[z][p+1]<<8|h[z+1][p]<<16|h[z+1][p+1]<<24;f+=1;z+=2;b[f]=h[z][p]|h[z][p+1]<<8|h[z+1][p]<<16|h[z+1][p+1]<<24;f+=1;z+=2;b[f]=h[z][p]|h[z][p+1]<<8|h[z+1][p]<<16|h[z+1][p+1]<<24;f+=1;z+=2;b[f]=h[z][p]|h[z][p+1]<<8|h[z+1][p]<<16|h[z+1][p+1]<<24;f+=1;z+=2;b[f]=h[z][p]|h[z][p+1]<<8|h[z+1][p]<<16|h[z+1][p+1]<<24;f+=1;z+=2;b[f]=h[z][p]|h[z][p+1]<<8|h[z+1][p]<<16|h[z+1][p+1]<<24;f+=1;z+=2;b[f]=h[z][p]|h[z][p+
1]<<8|h[z+1][p]<<16|h[z+1][p+1]<<24;f+=1;f>=l&&(B+=1,f=0,B>=e&&(Array.sq(t,"Snapshot.gridBufferRow"),e+=1));b=t[B]}x+=r}else x+=r<<4;u+=v}};w.prototype.HL=function(h,q,k){var a=q.length,c=q[0].length,d,f,n,m=0,r,v=k.Ms<<3,x=k.Ns,u,t=0,B=this.j,b=0,l=B[b],e=l.length;Array.Ni(this.Da,q);for(d=0;d<a;d+=1){var p=q[d];for(k=u=0;k<c;k+=1)if(r=p[k])for(f=15;0<=f;--f){if(0!==(r&1<<f))for(n=u;n<u+v;n+=4){var y=t;var z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];
m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>
24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;
h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;y+=1;z=l[m];m+=1;h[y][n]=z&255;h[y][n+1]=z>>8&255;h[y][n+2]=z>>16&255;h[y][n+3]=z>>24;m>=e&&(b+=1,l=B[b],m=0)}u+=v}else u+=v<<4;t+=x}};w.prototype.TL=function(h,q,k){var a=q.length,c=q[0].length,d,f=0,n;var m=0;var r=k.Ms<<3,v=k.Ns,x,u=0,t=this.j,B=0,b=t[B],l=b.length,e=t.length;var p=this.v.YC;Array.Ni(q,this.Da);
for(d=0;d<a;d+=1){var y=q[d];for(k=0;k<c;k+=1)(n=y[k])&&(m+=p[n])}if(m)for(d=0;d<a;d+=1){y=q[d];for(k=x=0;k<c;k+=1)if(n=y[k])for(m=15;0<=m;--m){if(0!==(n&1<<m))for(p=x;p<x+r;p+=4){var z=u;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=
1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+
3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;z+=1;b[f]=h[z][p]|h[z][p+1]<<8|h[z][p+2]<<16|h[z][p+3]<<24;f+=1;f>=l&&(B+=1,f=0,B>=e&&(Array.sq(t,"Snapshot.colourGridBufferRow"),e+=1),b=t[B])}x+=r}else x+=r<<4;u+=v}};g.prototype.bufferSize=function(){for(var h=0,q=0;q<this.Th.length;)h+=this.wo[q].length*this.wo[q][0].length*2,h+=this.qn[q].length*this.qn[q][0].length*2,h+=this.ju[q].length*this.ju[q][0].length*
4,h+=this.vt[q].length*this.vt[q][0].length*4,this.B[q]&&(h+=this.B[q].length*this.B[q][0].length*4),q+=1;return h};g.prototype.RM=function(){for(var h=0,q=0;q<this.Th.length;)this.Th[q]&&(h+=1),q+=1;return h};g.prototype.reset=function(){var h=0,q;this.Me=[];for(this.index=-1;h<this.Th.length;){var k=!1;for(q=0;q<this.j.length&&!k;)h===this.j[q].index?k=!0:q+=1;k||(this.Th[h]=!1);h+=1}};g.prototype.qM=function(h){var q=null;if(0<this.Me.length)for(q=this.Me[this.index];q&&q.counter>h;)q=null,0<this.index&&
(this.aa(this.Me[this.index].index),this.Me.pop(),--this.index,0<=this.index&&(q=this.Me[this.index]));return q};g.prototype.ws=function(h,q,k,a,c,d,f,n,m,r,v,x,u,t,B,b,l,e){var p=null,y=0,z=this.j.length,A=!1;c=null!==c;if(l){for(;y<z&&!A;)this.j[y].counter===v?A=!0:y+=1;A?p=this.j[y]:alert("reset snapshot at generation "+v+" not found!")}else if(51>this.Me.length)p=this.Sx(t,B,!1,v,c),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.aa(this.Me[0].index);for(y=0;50>y;y+=1)this.Me[y]=
this.Me[y+1];this.Me.pop();this.Sx(t,B,!1,v,c)}p=this.Me[this.index]}p.Z=e;p.WL(h,q,b);p.TL(k,a,b);p.J.f=d.f;p.J.o=d.o;p.J.g=d.g;p.J.s=d.s;p.Ha.f=f.f;p.Ha.o=f.o;p.Ha.g=f.g;p.Ha.s=f.s;p.na=n;p.Jb=m;p.cc=r;p.counter=v;p.Of=x;p.$i=u};g.prototype.aa=function(h){this.Th[h]=!1};g.prototype.qa=function(h,q,k){for(var a=0,c=!1;a<this.N&&!c;)this.Th[a]?a+=1:c=!0;c?(h=a,this.Th[a]=!0):(this.wo[a]=Array.da(Uint16,q,h,0,this.l,"Snapshot.tileGrid"+a),this.qn[a]=Array.da(Uint16,q,h,0,this.l,"Snapshot.colourTileGrid"+
a),this.ju[a]=Array.da(Uint32,1,1024,0,this.l,"Snapshot.gridBuffer"+a),this.vt[a]=Array.da(Uint32,1,8192,0,this.l,"Snapshot.colourGridBuffer"+a),k&&(this.B[a]=Array.da(Uint32,1,8192,0,this.l,"Snapshot.overlayGridBuffer"+a)),this.Th[a]=!0,this.N+=1,h=a);return h};g.prototype.Sx=function(h,q,k,a,c){var d=0,f=this.j.length,n=!1;h=this.qa(h,q,c);if(k){for(;d<f&&!n;)this.j[d].counter===a?n=!0:d+=1;n?k=this.j[d]:(k=new w(this,h,c),this.j[this.j.length]=k)}else k=new w(this,h,c),this.Me[this.Me.length]=
k;return k};g.prototype.fa=function(h,q,k,a){var c=h.ca,d=h.Da,f=h.ca.length,n=f>>1,m=h.ca[0].length>>1,r=0,v=h.index;this.wo[v]=Array.da(Uint16,k,q,0,this.l,"Snapshot.tileGrid"+v);this.qn[v]=Array.da(Uint16,k,q,0,this.l,"Snapshot.colourTileGrid"+v);h.ca=this.wo[v];h.Da=this.qn[v];if(0<a){for(;r<f;)h.ca[r+n].set(c[r],m),h.Da[r+n].set(d[r],m),r+=1;h.J.f+=a;h.J.o+=a;h.J.g+=a;h.J.s+=a;h.Ha.f+=a;h.Ha.o+=a;h.Ha.g+=a;h.Ha.s+=a}};g.prototype.TF=function(h,q,k){for(var a=0,c=this.j.length;a<c;)this.fa(this.j[a],
h,q,k),a+=1;a=0;for(c=this.Me.length;a<c;)this.fa(this.Me[a],h,q,k),a+=1;for(a=0;a<this.Th.length;)this.Th[a]||(this.wo[a]=Array.da(Uint16,q,h,0,this.l,"Snapshot.tileGrid"+a),this.qn[a]=Array.da(Uint16,q,h,0,this.l,"Snapshot.colourTileGrid"+a)),a+=1};window.SnapshotManager=g;window.Snapshot=w}(),function(){function w(g,h,q){this.l=g;this.a=h;this.v=q;this.Ph=this.Nh=1;this.ko=2;this.Jb=g.K(Uint8,0,"HROT.births");this.Zv=g.K(Uint8,0,"HROT.survivals");this.jt=g.K(Uint8,0,"HROT.altBirths");this.kt=g.K(Uint8,
0,"HROT.altSurvivals");this.type=q.Jd;this.Ap=Array.da(Uint8,1,1,0,g,"HROT.neighbourhood");this.Ea=g.K(Int16,0,"HROT.neighbourList");this.Lg=Array.da(Uint32,1,1,0,g,"HROT.counts");this.aa=g.K(Uint32,0,"HROT.widths");this.ut=g.K(Uint8,0,"HROT.colUsed");this.Pe=g.K(Int8,0,"HROT.weightedNeighbourhood");this.ih=null;this.qa=this.B=this.N=this.fa=0;this.oc=!1;this.zf="";this.Wh=-1;this.P=!1}w.prototype.resize=function(g,h){this.Lg=Array.da(Uint32,h,g,0,this.l,"HROT.counts");this.ut=this.l.K(Uint8,g,"HROT.colUsed")};
w.prototype.kM=function(g,h,q,k,a,c,d){var f=2*h+1,n=h*h,m=n+h,r,v,x=q.length>>1,u;this.type=g;this.Ph=h;this.Nh=a&&g!=this.v.wn&&g!=this.v.qq?h+h:h;this.aa=this.l.K(Uint32,f,"HROT.widths");this.zf=q;this.Wh=k;this.P=a;if(c)for(this.Pe=this.l.K(Int8,c.length,"HROT.weightedNeighbourhood"),k=0;k<c.length;k+=1)this.Pe[k]=c[k];else this.Pe=null;if(d)for(this.ih=this.l.K(Uint8,d.length,"HROT.weightedStates"),k=0;k<d.length;k+=1)this.ih[k]=d[k];else this.ih=null;switch(g){case this.v.Jd:for(k=0;k<f;k+=
1)this.aa[k]=h;break;case this.v.kf:for(k=0;k<h;k+=1)this.aa[k]=k,this.aa[f-k-1]=k;this.aa[k]=h;break;case this.v.Kh:g=2*h;for(k=-1;k>=-h;--k)this.aa[k+h]=g,--g;g=2*h;for(k=0;k<=h;k+=1)this.aa[k+h]=g,--g;break;case this.v.Wj:for(k=-h;k<=h;k+=1){for(g=0;(g+1)*(g+1)+k*k<=m;)g+=1;this.aa[k+h]=g}break;case this.v.ck:for(k=-h;k<=h;k+=1){for(g=0;(g+1)*(g+1)+k*k<=n;)g+=1;this.aa[k+h]=g}break;case this.v.wn:this.Ap=Array.da(Uint8,f,f,0,this.l,"HROT.neighbourhood");n=new Uint16Array(f);d=v=a=k=m=c=0;for(u=
this.Ap[m];m<f;)for(g="0123456789abcdef".indexOf(q[c]),c===x&&(u[k]=1,k+=1,a+=1,v+=1),c+=1,r=3;0<=r;--r)0!==(g&1<<r)&&(u[k]=1,a+=1,v+=1),k+=1,k===f&&(n[d]=v,v=0,d+=1,k=0,m+=1,m<f&&(u=this.Ap[m]));q=new Uint32Array(a);for(m=a=0;m<f;m+=1)for(u=this.Ap[m],k=0;k<f;k+=1)0<u[k]&&(q[a]=m<<16|k,a+=1);for(k=f=0;k<n.length;k+=1)0<n[k]&&(f+=n[k]+2);this.Ea=this.l.K(Int16,f,"HROT.neighbourList");for(k=a=c=0;k<n.length;k+=1)if(0<n[k]){d=q[c];this.Ea[a]=h-(d>>16);this.Ea[a+1]=n[k];a+=2;for(m=0;m<n[k];m+=1)this.Ea[a+
m]=h-(q[c]&65535),c+=1;a+=n[k]}}};w.prototype.j=function(g,h){return 0>g||0>g+h||h-g>=this.N?0:0>h&&g+h<this.B?this.Lg[g+h][0]:h>=this.N&&h-g>=this.N-this.B?this.Lg[g+this.N-1-h][this.N-1]:g<this.B?this.Lg[g][h]:g-this.B+1+h<=this.qa?this.Lg[this.B-1][g-this.B+1+h]:h-(g-this.B+1)>=this.qa?this.Lg[this.B-1][h-(g-this.B+1)]:this.Lg[this.B-1][this.qa+(g+h+this.B+this.qa+1)%2]};w.prototype.wb=function(g,h,q,k){var a=this.a.X,c=null,d=this.Nh,f=this.Ph,n;for(n=0;n<f;n+=1){c=a[h+n];var m=a[k+n+1];m.set(c.slice(g,
q+1),g)}for(n=0;n<f;n+=1)c=a[k-n],m=a[h-n-1],m.set(c.slice(g,q+1),g);if(copyWithin)for(n=h;n<=k;n+=1)c=a[n],c.copyWithin(q+1,g,g+d+1),c.copyWithin(g-d-1,q-d,q+1);else for(n=h;n<=k;n+=1)for(m=0;m<d;m+=1)c[q+m+1]=c[g+m],c[g-m-1]=c[q-m];for(n=0;n<f;n+=1)c=a[h+n],m=a[k+n+1],m.set(c.slice(g,g+d+1),q+1),m.set(c.slice(q-d,q+1),g-d-1);for(n=0;n<f;n+=1)c=a[k-n],m=a[h-n-1],m.set(c.slice(g,g+d+1),q+1),m.set(c.slice(q-d,q+1),g-d-1)};w.prototype.Ra=function(g,h,q,k){var a=this.a.X,c=this.Nh,d=this.Ph,f;for(f=
0;f<d;f+=1)a[k+f+1].fill(0,g,q+1);for(f=0;f<d;f+=1)a[h-f-1].fill(0,g,q+1);for(f=h;f<=k;f+=1){var n=a[f];n.fill(0,q+1,q+c+2);n.fill(0,g-c-1,g)}for(f=0;f<d;f+=1)n=a[k+f+1],n.fill(0,q+1,q+c+2),n.fill(0,g-c-1,g);for(f=0;f<d;f+=1)n=a[h-f-1],n.fill(0,q+1,q+c+2),n.fill(0,g-c-1,g)};w.prototype.$a=function(g,h,q,k,a){var c,d,f=this.a.X,n=this.a.xa,m=this.a.width,r=0,v=this.a.height,x=0,u=m,t=r,B=v,b=x,l=this.a.J,e=this.a.Ha,p=this.Nh,y=this.Ph,z=a?this.jt:this.Jb,A=a?this.kt:this.Zv,C=this.Lg;var D=this.ko-
1;var G=LifeConstants.vb,H=LifeConstants.Mk,I=this.a.Lo;var E=this.a.c+this.a.L-1;var F=this.a.L,P=0<this.a.L?1:0;var K=c=a=0;if(1===D)for(D=h-y;D<=k+y;D+=1){var Q=f[D];var J=C[D];var W=n[D>>4];var Z=d=!1;for(h=g-p;h<=q+p;h+=1){var T=Q[h];var M=J[h];E=0;T<G?1===z[M]&&(c+=1,E=128):0===A[M]?K+=1:E=128;T=I[T+E];Q[h]=T;T>H&&(d=!0,W[h>>8]|=1<<(~(h>>4)&15),h<m&&(m=h),h>r&&(r=h),T>=G&&(a+=1,h<u&&(u=h),h>t&&(t=h),Z=!0))}d&&(D<v&&(v=D),D>x&&(x=D));Z&&(D<B&&(B=D),D>b&&(b=D))}else for(D=h-y;D<=k+y;D+=1){Q=f[D];
J=C[D];W=n[D>>4];Z=d=!1;for(h=g-p;h<=q+p;h+=1)T=Q[h],M=J[h],T<=F?1===z[M]?(T=E,c+=1):T>P&&--T:T===E?0===A[M]&&(--T,K+=1):T>P&&--T,Q[h]=T,0<T&&(d=!0,W[h>>8]|=1<<(~(h>>4)&15),h<m&&(m=h),h>r&&(r=h),T===E&&(a+=1,h<u&&(u=h),h>t&&(t=h),Z=!0));d&&(D<v&&(v=D),D>x&&(x=D));Z&&(D<B&&(B=D),D>b&&(b=D))}this.a.na=a;this.a.Jb=c;this.a.cc=K;0<a?(l.f=m,l.o=r,l.g=v,l.s=x,e.f=u,e.o=t,e.g=B,e.s=b):this.a.Z=0};w.prototype.Zb=function(g,h,q,k,a){var c,d=this.a.c+this.a.L,f=this.a.L,n=this.Pe,m=this.a.X,r=this.Lg,v=this.ih,
x=v[0],u=n[0],t=n[1],B=n[2],b=n[3],l=n[4],e=n[5],p=n[6],y=n[7];n=n[8];for(g-=a;g<=h+a;g+=1){var z=r[g];var A=q-a;var C=A-1;for(c=A+1;A<=k+a;){var D=0;var G=m[g-1];var H=G[C];H>f?D+=u*v[d-H]:0<x&&(D+=u*x);H=G[A];H>f?D+=t*v[d-H]:0<x&&(D+=t*x);H=G[c];H>f?D+=B*v[d-H]:0<x&&(D+=B*x);G=m[g];H=G[C];H>f?D+=b*v[d-H]:0<x&&(D+=b*x);H=G[A];H>f?D+=l*v[d-H]:0<x&&(D+=l*x);H=G[c];H>f?D+=e*v[d-H]:0<x&&(D+=e*x);G=m[g+1];H=G[C];H>f?D+=p*v[d-H]:0<x&&(D+=p*x);H=G[A];H>f?D+=y*v[d-H]:0<x&&(D+=y*x);H=G[c];H>f?D+=n*v[d-H]:
0<x&&(D+=n*x);z[A]=D;A+=1;C+=1;c+=1}}};w.prototype.Tb=function(g,h,q,k,a){var c,d=LifeConstants.vb,f=this.Pe,n=this.a.X,m=this.Lg,r=f[0],v=f[1],x=f[2],u=f[3],t=f[4],B=f[5],b=f[6],l=f[7];f=f[8];for(g-=a;g<=h+a;g+=1){var e=m[g];var p=q-a;var y=p-1;for(c=p+1;p<=k+a;){var z=0;var A=n[g-1];A[y]>=d&&(z+=r);A[p]>=d&&(z+=v);A[c]>=d&&(z+=x);A=n[g];A[y]>=d&&(z+=u);A[p]>=d&&(z+=t);A[c]>=d&&(z+=B);A=n[g+1];A[y]>=d&&(z+=b);A[p]>=d&&(z+=l);A[c]>=d&&(z+=f);e[p]=z;p+=1;y+=1;c+=1}}};w.prototype.Nb=function(g){var h,
q=this.a.J.f,k=this.a.J.o,a=this.a.J.g,c=this.a.J.s,d=this.Nh,f=this.Ph;var n=g?this.jt:this.Jb;var m=g?this.kt:this.Zv;var r=d+d,v=f+f;var x=d+1;var u=f+1;var t=this.Lg,B=this.type,b=this.ko-1,l=this.a.width,e=0,p=this.a.height,y=0,z=l,A=e,C=p,D=y,G=this.a.X,H=this.a.xa,I=this.aa;var E=this.a.wa;var F=this.a.ta;var P=0,K=0,Q=0,J=0,W=0,Z=0,T=0,M=LifeConstants.vb,fa=LifeConstants.Mk,X=this.a.Lo,ia=this.ut;var ma=this.Ea;-1!==this.a.ua&&(P=Math.round((this.a.width-E)/2),Q=Math.round((this.a.height-
F)/2),K=P+E-1,J=Q+F-1,1===n[0]&&(q=P+d,k=K-d,c=J-f,a=Q+f),1===this.a.ua&&(q-P<d&&(k=K),K-k<d&&(q=P),J-c<f&&(a=Q),a-Q<f&&(c=J),this.wb(P,Q,K,J)),0===this.a.ua&&1===b&&this.a.ny(G,0),q-P<d&&(q=P+d),K-k<d&&(k=K-d),J-c<f&&(c=J-f),a-Q<f&&(a=Q+f),B===this.v.Jd?(q-=r,a-=v,k+=r,c+=v):B===this.v.kf&&6<d&&(q-=d,a-=f,k+=d,c+=f));if(B===this.v.Jd){q-=r;a-=v;k+=r;c+=v;for(F=a;F<a+v;F+=1)t[F].fill(0,q,k+1);for(F=a+v;F<=c;F+=1)t[F].fill(0,q,q+r+1);var ba=t[a+v-1];for(F=a+v;F<=c;F+=1){var V=t[F];b=G[F];E=0;for(h=
q+r;h+8<=k;)b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1;for(;h<=k;)b[h]>=M&&(E+=1),V[h]=ba[h]+E,h+=1;ba=V}q+=d;a+=f;k-=d;c-=f;-1!==this.a.ua&&(q+=r,a+=v,k-=r,c-=v);I=G[a][q];E=t[a+f][q+d];var da=0;I<M?1===n[E]&&(Z+=1,da=128):0===m[E]?T+=1:da=128;I=X[I+da];G[a][q]=I;I>fa&&(ia[q]|=
1,y=p=a,H[a>>4][q>>8]|=1<<(~(q>>4)&15),I>=M&&(W+=1,ia[q]|=2,D=C=a));v=r=!1;V=t[a+f];ba=t[a+f];b=G[a];ma=H[a>>4];for(h=q+1;h<=k;h+=1)I=b[h],E=V[h+d]-ba[h-x],da=0,I<M?1===n[E]&&(Z+=1,da=128):0===m[E]?T+=1:da=128,I=X[I+da],b[h]=I,I>fa&&(ia[h]|=1,r=!0,ma[h>>8]|=1<<(~(h>>4)&15),I>=M&&(W+=1,ia[h]|=2,v=!0));r&&(y=p=a);v&&(D=C=a);h=b=!1;V=q+d;for(F=a+1;F<=c;F+=1)I=G[F][q],E=t[F+f][V]-t[F-u][V],da=0,I<M?1===n[E]&&(Z+=1,da=128):0===m[E]?T+=1:da=128,I=X[I+da],G[F][q]=I,I>fa&&(F<p&&(p=F),F>y&&(y=F),b=!0,H[F>>
4][q>>8]|=1<<(~(q>>4)&15),I>=M&&(W+=1,F<C&&(C=F),F>D&&(D=F),h=!0));b&&(ia[q]|=1);h&&(ia[q]|=2);for(F=a+1;F<=c;F+=1){b=G[F];ma=H[F>>4];ba=t[F+f];var ca=t[F-u];V=q+1+d;var na=q+1-x;v=r=!1;for(h=q+1;h<=k;h+=1)I=b[h],E=ba[V]+ca[na]-ba[na]-ca[V],da=0,I<M?1===n[E]&&(da=128,Z+=1):0===m[E]?T+=1:da=128,I=X[I+da],b[h]=I,I>fa&&(r=!0,ma[h>>8]|=1<<(~(h>>4)&15),ia[h]|=1,I>=M&&(W+=1,v=!0,ia[h]|=2)),V+=1,na+=1;r&&(F<p&&(p=F),F>y&&(y=F));v&&(F<C&&(C=F),F>D&&(D=F))}for(h=q;h<=k;h+=1)ia[h]&&(h<l&&(l=h),h>e&&(e=h),0!==
(ia[h]&2)&&(h<z&&(z=h),h>A&&(A=h)),ia[h]=0);this.a.na=W;this.a.Jb=Z;this.a.cc=T;0<W?(this.a.J.f=l,this.a.J.o=e,this.a.J.g=p,this.a.J.s=y,this.a.Ha.f=z,this.a.Ha.o=A,this.a.Ha.g=C,this.a.Ha.s=D):this.a.Z=0}else if(B===this.v.kf&&6<d){q-=d;k+=d;a-=f;c+=f;-1===this.a.ua&&(q-=d,k+=d,a-=f,c+=f);this.fa=c-a+1;this.N=k-q+1;this.B=this.fa+(this.N-1)/2|0;this.qa=this.N/2|0;for(x=0;x<this.B;x+=1)for(V=t[x],b=G[x+a],F=x-1,E=F-1,u=0;u<=this.N;u+=1)V[u]=this.j(F,u-1)+this.j(F,u+1)-this.j(E,u),x<this.fa&&b[u+q]>=
M&&(V[u]+=1);for(x=f;x<=this.fa-f;x+=1){F=x-1;ba=x+f;t=ba-1;h=x-f-1;V=h-1;ia=x+a;b=G[ia];ma=H[ia>>4];v=r=!1;for(u=d;u<=this.N-d;u+=1)E=u+d,I=u-d,E=this.j(ba,u)-this.j(F,E+1)-this.j(F,I-1)+this.j(V,u)+this.j(t,u)-this.j(F,E)-this.j(F,I)+this.j(h,u),ca=u+q,I=b[ca],da=0,I<M?1===n[E]&&(da=128,Z+=1):0===m[E]?T+=1:da=128,I=X[I+da],b[ca]=I,I>fa&&(ca<l&&(l=ca),ca>e&&(e=ca),r=!0,ma[ca>>8]|=1<<(~(ca>>4)&15),I>=M&&(W+=1,v=!0,ca<z&&(z=ca),ca>A&&(A=ca)));r&&(ia<p&&(p=ia),ia>y&&(y=ia));v&&(ia<C&&(C=ia),ia>D&&(D=
ia))}this.a.na=W;this.a.Jb=Z;this.a.cc=T;0<W?(this.a.J.f=l,this.a.J.o=e,this.a.J.g=p,this.a.J.s=y,this.a.Ha.f=z,this.a.Ha.o=A,this.a.Ha.g=C,this.a.Ha.s=D):this.a.Z=0}else switch(B){case this.v.nh:for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){E=0;for(u=-f;0>u;u+=1)b=G[F+u],b[h]>=M&&(E+=1),b[h+u]>=M&&(E+=1);b=G[F];for(x=-d;x<=d;x+=1)b[h+x]>=M&&(E+=1);for(u=1;u<=d;u+=1)b=G[F+u],b[h]>=M&&(E+=1),b[h+u]>=M&&(E+=1);V[h]=E;h+=1}break;case this.v.Lh:for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){E=0;for(u=
-f;0>u;u+=1)b=G[F+u],b[h]>=M&&(E+=1);b=G[F];for(x=-d;0>=x;x+=1)b[h+x]>=M&&(E+=1);for(u=1;u<=d;u+=1)G[F+u][h+u]>=M&&(E+=1);V[h]=E;h+=1}break;case this.v.qq:if(null===this.ih)if(1!==d||1!==f||this.P)for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){this.P&&0!==(h+F&1)?(m=-(d+d+1),n=this.Pe.length+m,m+=m):m=n=0;E=0;for(u=-f;u<=f;u+=1){b=G[F+u];for(x=-d;x<=d;x+=1)b[h+x]>=M&&(E+=this.Pe[n]),n+=1;n+=m}V[h]=E;h+=1}else this.Tb(a,c,q,k,d);else for(e=this.ih[0],l=this.ih[1],F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-
d;h<=k+d;){this.P&&0!==(h+F&1)?(m=-(d+d+1),n=this.Pe.length+m,m+=m):m=n=0;E=0;for(u=-f;u<=f;u+=1){b=G[F+u];for(x=-d;x<=d;x+=1)E=b[h+x]>=M?E+this.Pe[n]*l:E+this.Pe[n]*e,n+=1;n+=m}V[h]=E;h+=1}break;case this.v.wn:for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){for(u=E=0;u<ma.length;){x=ma[u];this.P&&0===(h+F&1)&&(x=-x);u+=1;b=G[F+x];n=ma[u];for(m=u+=1;m<u+n;m+=1)b[h+ma[m]]>=M&&(E+=1);u+=n}V[h]=E;h+=1}break;case this.v.Yi:for(F=a-f;F<=c+f;F+=1){V=t[F];h=q-d;m=n=E=0;for(u=-f;u<=f;u+=1)if(b=G[F+u],1===
u)for(x=-d;x<=d;x+=1)b[h+x]>=M&&(n+=1);else if(-1===u)for(x=-d;x<=d;x+=1)b[h+x]>=M&&(m+=1);else b[h-1]>=M&&(E+=1),b[h+1]>=M&&(E+=1);G[F][h]>=M&&(E+=1);V[h]=E+n+m;for(h+=1;h<=k+d;){E=0;for(u=-f;u<=f;u+=1)b=G[F+u],1===u?(b[h-d-1]>=M&&--n,b[h+d]>=M&&(n+=1)):-1===u?(b[h-d-1]>=M&&--m,b[h+d]>=M&&(m+=1)):(b[h-1]>=M&&(E+=1),b[h+1]>=M&&(E+=1));G[F][h]>=M&&(E+=1);V[h]=E+n+m;h+=1}}break;case this.v.Li:for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){E=0;n=1;for(u=-f;u<=f;u+=1){b=G[F+u];for(x=-d+n;x<=d-n;x+=2)b[h+
x]>=M&&(E+=1);n=1-n}G[F][h]>=M&&(E+=1);V[h]=E;h+=1}break;case this.v.fi:for(F=a-f;F<=c+f;F+=1){V=t[F];h=q-d;E=0;for(u=-f;0>u;u+=1)for(b=G[F+u],x=-d;x<=d+u;x+=1)b[h+x]>=M&&(E+=1);for(u=0;u<=f;u+=1)for(b=G[F+u],x=-d+u;x<=d;x+=1)b[h+x]>=M&&(E+=1);V[h]=E;for(h+=1;h<=k+d;){for(u=-f;0>u;u+=1)b=G[F+u],b[h-d-1]>=M&&--E,b[h+d+u]>=M&&(E+=1);for(u=0;u<=f;u+=1)b=G[F+u],b[h-d+u-1]>=M&&--E,b[h+d]>=M&&(E+=1);V[h]=E;h+=1}}break;case this.v.nj:for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){E=0;for(u=1;u<=f;u+=1)b=
G[F+u],b[h-u]>=M&&(E+=1),b[h+u]>=M&&(E+=1),b=G[F-u],b[h-u]>=M&&(E+=1),b[h+u]>=M&&(E+=1);b=G[F];b[h]>=M&&(E+=1);V[h]=E;h+=1}break;case this.v.sj:for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){E=0;for(u=1;u<=f;u+=1)b=G[F+u],b[h-u]>=M&&(E+=1),b[h+u]>=M&&(E+=1),b[h]>=M&&(E+=1),b=G[F-u],b[h-u]>=M&&(E+=1),b[h+u]>=M&&(E+=1),b[h]>=M&&(E+=1);b=G[F];for(x=-d;x<=d;x+=1)b[h+x]>=M&&(E+=1);V[h]=E;h+=1}break;case this.v.Oi:for(F=a-f;F<=c+f;F+=1){V=t[F];h=q-d;n=E=0;for(u=1;u<=f;u+=1)b=G[F+u],b[h]>=M&&(E+=1),b=G[F-
u],b[h]>=M&&(E+=1);b=G[F];for(x=-d;x<=d;x+=1)b[h+x]>=M&&(n+=1);V[h]=E+n;for(h+=1;h<=k+d;){E=0;for(u=1;u<=f;u+=1)G[F+u][h]>=M&&(E+=1),G[F-u][h]>=M&&(E+=1);b=G[F];b[h-d-1]>=M&&--n;b[h+d]>=M&&(n+=1);V[h]=E+n;h+=1}}break;case this.v.Kh:for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){E=0;for(u=-f;u<=f;u+=1)for(n=0===(h+F&1)?I[u+f]:I[f-u],b=G[F+u],x=-n;x<=n;x+=1)b[h+x]>=M&&(E+=1);V[h]=E;h+=1}break;case this.v.ai:for(F=a-f;F<=c+f;F+=1)for(V=t[F],h=q-d;h<=k+d;){E=0;for(u=-f;0>u;u+=1){n=m=u+f+1;b=G[F+u];for(x=
-d;0>=x;x+=1)b[h+x]>=M&&(E+=n),n+=m;n-=m+m;for(x=1;x<=d;x+=1)b[h+x]>=M&&(E+=n),n-=m;n=m=u+f+1;b=G[F-u];for(x=-d;0>=x;x+=1)b[h+x]>=M&&(E+=n),n+=m;n-=m+m;for(x=1;x<=d;x+=1)b[h+x]>=M&&(E+=n),n-=m}n=m=d+1;b=G[F];for(x=-d;0>=x;x+=1)b[h+x]>=M&&(E+=n),n+=m;n-=m+m;for(x=1;x<=d;x+=1)b[h+x]>=M&&(E+=n),n-=m;V[h]=E;h+=1}break;default:for(F=a-f;F<=c+f;F+=1){V=t[F];h=q-d;E=0;for(u=-f;u<=f;u+=1)for(n=I[u+f],b=G[F+u],x=-n;x<=n;x+=1)b[h+x]>=M&&(E+=1);V[h]=E;for(h+=1;h<=k+d;){for(u=-f;u<=f;u+=1)n=I[u+f],b=G[F+u],b[h-
n-1]>=M&&--E,b[h+n]>=M&&(E+=1);V[h]=E;h+=1}}}-1!==this.a.ua&&(q<P+d&&(q=P+d),k>K-d&&(k=K-d),a<Q+f&&(a=Q+f),c>J-f&&(c=J-f));B===this.v.Jd||B===this.v.kf&&6<d||this.$a(q,a,k,c,g);1===this.a.ua&&this.Ra(P,Q,K,J)};w.prototype.Pb=function(g){var h,q,k=this.a.J.f,a=this.a.J.o,c=this.a.J.g,d=this.a.J.s,f=this.Nh,n=this.Ph;var m=g?this.jt:this.Jb;var r=g?this.kt:this.Zv;var v=f+f,x=n+n;var u=f+1;var t=n+1;var B=this.Lg,b=this.type,l=this.a.width,e=0,p=this.a.height,y=0,z=l,A=e,C=p,D=y,G=this.a.X,H=this.a.xa;
var I=this.aa;var E=this.a.wa;var F=this.a.ta;var P=0,K=0,Q=0,J=0,W=0,Z=0,T=0;var M=this.Ea;var fa=this.a.c+this.a.L-1;var X=this.a.L;var ia=0<this.a.L?1:0;-1!==this.a.ua&&(P=Math.round((this.a.width-E)/2),Q=Math.round((this.a.height-F)/2),K=P+E-1,J=Q+F-1,1===m[0]&&(k=P+f,a=K-f,d=J-n,c=Q+n),1===this.a.ua&&(k-P<f&&(a=K),K-a<f&&(k=P),J-d<n&&(c=Q),c-Q<n&&(d=J),this.wb(P,Q,K,J)),k-P<f&&(k=P+f),K-a<f&&(a=K-f),J-d<n&&(d=J-n),c-Q<n&&(c=Q+n),b===this.v.Jd?(k-=v,c-=x,a+=v,d+=x):b===this.v.kf&&6<f&&(k-=f,c-=
n,a+=f,d+=n));if(b===this.v.Jd){k-=v;c-=x;a+=v;d+=x;for(q=c;q<c+x;q+=1)B[q].fill(0,k,a+1);for(q=c+x;q<=d;q+=1)B[q].fill(0,k,k+v);for(q=c+x;q<=d;q+=1){var ma=B[q-1];var ba=B[q];E=G[q];F=0;for(h=k+v;h<=a;h+=1)E[h]===fa&&(F+=1),ba[h]=ma[h]+F}k+=f;c+=n;a-=f;d-=n;-1!==this.a.ua&&(k+=v,c+=x,a-=v,d-=x);M=G[c][k];F=B[c+n][k+f];M<=X?1===m[F]?(M=fa,Z+=1):M>ia&&--M:M===fa?0===r[F]&&(--M,T+=1):M>ia&&--M;G[c][k]=M;0<M&&(e=l=k,y=p=c,H[c>>4][k>>8]|=1<<(~(k>>4)&15),M===fa&&(W+=1,A=z=k,D=C=c));x=v=!1;ba=B[c+n];ma=
B[c+n];E=G[c];I=H[c>>4];for(h=k+1;h<=a;h+=1)M=E[h],F=ba[h+f]-ma[h-u],M<=X?1===m[F]?(M=fa,Z+=1):M>ia&&--M:M===fa?0===r[F]&&(--M,T+=1):M>ia&&--M,E[h]=M,0<M&&(h<l&&(l=h),h>e&&(e=h),v=!0,I[h>>8]|=1<<(~(h>>4)&15),M===fa&&(W+=1,h<z&&(z=h),h>A&&(A=h),x=!0));v&&(y=p=c);x&&(D=C=c);h=E=!1;ba=k+f;for(q=c+1;q<=d;q+=1)M=G[q][k],F=B[q+n][ba]-B[q-t][ba],M<=X?1===m[F]?(M=fa,Z+=1):M>ia&&--M:M===fa?0===r[F]&&(--M,T+=1):M>ia&&--M,G[q][k]=M,0<M&&(q<p&&(p=q),q>y&&(y=q),E=!0,H[q>>4][k>>8]|=1<<(~(k>>4)&15),M===fa&&(W+=
1,q<C&&(C=q),q>D&&(D=q),h=!0));E&&(k<l&&(l=k),k>e&&(e=k));h&&(k<z&&(z=k),k>A&&(A=k));for(q=c+1;q<=d;q+=1){E=G[q];I=H[q>>4];ma=B[q+n];var V=B[q-t];x=v=!1;ba=k+1+f;var da=k+1-u;for(h=k+1;h<=a;h+=1)M=E[h],F=ma[ba]+V[da]-ma[da]-V[ba],M<=X?1===m[F]?(M=fa,Z+=1):M>ia&&--M:M===fa?0===r[F]&&(--M,T+=1):M>ia&&--M,E[h]=M,0<M&&(I[h>>8]|=1<<(~(h>>4)&15),h<l&&(l=h),h>e&&(e=h),v=!0,M===fa&&(W+=1,x=!0,h<z&&(z=h),h>A&&(A=h))),ba+=1,da+=1;v&&(q<p&&(p=q),q>y&&(y=q));x&&(q<C&&(C=q),q>D&&(D=q))}this.a.na=W;this.a.Jb=Z;
this.a.cc=T;0<W?(this.a.J.f=l,this.a.J.o=e,this.a.J.g=p,this.a.J.s=y,this.a.Ha.f=z,this.a.Ha.o=A,this.a.Ha.g=C,this.a.Ha.s=D):this.a.Z=0}else if(b===this.v.kf&&6<f){k-=f;a+=f;c-=n;d+=n;-1===this.a.ua&&(k-=f,a+=f,c-=n,d+=n);this.fa=d-c+1;this.N=a-k+1;this.B=this.fa+(this.N-1)/2|0;this.qa=this.N/2|0;for(u=0;u<this.B;u+=1)for(ba=B[u],E=G[u+c],q=u-1,F=q-1,t=0;t<=this.N;t+=1)ba[t]=this.j(q,t-1)+this.j(q,t+1)-this.j(F,t),u<this.fa&&E[t+k]===fa&&(ba[t]+=1);for(u=n;u<=this.fa-n;u+=1){q=u-1;V=u+n;B=V-1;h=
u-n-1;ba=h-1;ma=u+c;E=G[ma];I=H[ma>>4];x=v=!1;for(t=f;t<=this.N-f;t+=1)F=t+f,M=t-f,F=this.j(V,t)-this.j(q,F+1)-this.j(q,M-1)+this.j(ba,t)+this.j(B,t)-this.j(q,F)-this.j(q,M)+this.j(h,t),da=t+k,M=E[da],M<=X?1===m[F]?(M=fa,Z+=1):M>ia&&--M:M===fa?0===r[F]&&(--M,T+=1):M>ia&&--M,E[da]=M,0<M&&(I[da>>8]|=1<<(~(da>>4)&15),da<l&&(l=da),da>e&&(e=da),v=!0,M===fa&&(W+=1,x=!0,da<z&&(z=da),da>A&&(A=da)));v&&(ma<p&&(p=ma),ma>y&&(y=ma));x&&(ma<C&&(C=ma),ma>D&&(D=ma))}this.a.na=W;this.a.Jb=Z;this.a.cc=T;0<W?(this.a.J.f=
l,this.a.J.o=e,this.a.J.g=p,this.a.J.s=y,this.a.Ha.f=z,this.a.Ha.o=A,this.a.Ha.g=C,this.a.Ha.s=D):this.a.Z=0}else switch(b){case this.v.nh:for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){F=0;for(t=-n;0>t;t+=1)E=G[q+t],E[h]===fa&&(F+=1),E[h+t]===fa&&(F+=1);E=G[q];for(u=-f;u<=f;u+=1)E[h+u]===fa&&(F+=1);for(t=1;t<=n;t+=1)E=G[q+t],E[h]===fa&&(F+=1),E[h+t]===fa&&(F+=1);ba[h]=F;h+=1}break;case this.v.Lh:for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){F=0;for(t=-n;0>t;t+=1)E=G[q+t],E[h]===fa&&(F+=1);E=
G[q];for(u=-f;0>=u;u+=1)E[h+u]===fa&&(F+=1);for(t=1;t<=n;t+=1)G[q+t][h+t]===fa&&(F+=1);ba[h]=F;h+=1}break;case this.v.qq:if(null===this.ih)for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){this.P&&0!==(h+q&1)?(r=-(f+f+1),m=this.Pe.length+r,r+=r):r=m=0;F=0;for(t=-n;t<=n;t+=1){E=G[q+t];for(u=-f;u<=f;u+=1)E[h+u]===fa&&(F+=this.Pe[m]),m+=1;m+=r}ba[h]=F;h+=1}else if(1!==f||1!==n||this.P)for(l=this.ih[0],q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){this.P&&0!==(h+q&1)?(r=-(f+f+1),m=this.Pe.length+r,r+=r):
r=m=0;F=0;for(t=-n;t<=n;t+=1){E=G[q+t];for(u=-f;u<=f;u+=1)M=E[h+u],M>X?F+=this.Pe[m]*this.ih[fa+1-M]:0<l&&(F+=l*this.Pe[m]),m+=1;m+=r}ba[h]=F;h+=1}else this.Zb(c,d,k,a,f);break;case this.v.wn:for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){for(t=F=0;t<M.length;){u=M[t];this.P&&0===(h+q&1)&&(u=-u);t+=1;E=G[q+u];m=M[t];for(r=t+=1;r<t+m;r+=1)E[h+M[r]]===fa&&(F+=1);t+=m}ba[h]=F;h+=1}break;case this.v.Yi:for(q=c-n;q<=d+n;q+=1){ba=B[q];h=k-f;X=F=0;for(t=-n;t<=n;t+=1)if(E=G[q+t],1===t||-1===t)for(u=-f;u<=
f;u+=1)E[h+u]===fa&&(X+=1);else E[h-1]===fa&&(F+=1),E[h+1]===fa&&(F+=1);G[q][h]===fa&&(F+=1);ba[h]=F+X;for(h+=1;h<=a+f;){F=0;for(t=-n;t<=n;t+=1)E=G[q+t],1===t||-1===t?(E[h-f-1]===fa&&--X,E[h+f]===fa&&(X+=1)):(E[h-1]===fa&&(F+=1),E[h+1]===fa&&(F+=1));G[q][h]===fa&&(F+=1);ba[h]=F+X;h+=1}}break;case this.v.Li:for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){F=0;X=1;for(t=-n;t<=n;t+=1){E=G[q+t];for(u=-f+X;u<=f-X;u+=2)E[h+u]===fa&&(F+=1);X=1-X}G[q][h]===fa&&(F+=1);ba[h]=F;h+=1}break;case this.v.fi:for(q=
c-n;q<=d+n;q+=1){ba=B[q];h=k-f;F=0;for(t=-n;0>t;t+=1)for(E=G[q+t],u=-f;u<=f+t;u+=1)E[h+u]===fa&&(F+=1);for(t=0;t<=n;t+=1)for(E=G[q+t],u=-f+t;u<=f;u+=1)E[h+u]===fa&&(F+=1);ba[h]=F;for(h+=1;h<=a+f;){for(t=-n;0>t;t+=1)E=G[q+t],E[h-f-1]===fa&&--F,E[h+f+t]===fa&&(F+=1);for(t=0;t<=n;t+=1)E=G[q+t],E[h-f+t-1]===fa&&--F,E[h+f]===fa&&(F+=1);ba[h]=F;h+=1}}break;case this.v.nj:for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){F=0;for(t=1;t<=n;t+=1)E=G[q+t],E[h-t]===fa&&(F+=1),E[h+t]===fa&&(F+=1),E=G[q-t],E[h-
t]===fa&&(F+=1),E[h+t]===fa&&(F+=1);E=G[q];E[h]===fa&&(F+=1);ba[h]=F;h+=1}break;case this.v.sj:for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){F=0;for(t=1;t<=n;t+=1)E=G[q+t],E[h-t]===fa&&(F+=1),E[h+t]===fa&&(F+=1),E[h]===fa&&(F+=1),E=G[q-t],E[h-t]===fa&&(F+=1),E[h+t]===fa&&(F+=1),E[h]===fa&&(F+=1);E=G[q];for(u=-f;u<=f;u+=1)E[h+u]===fa&&(F+=1);ba[h]=F;h+=1}break;case this.v.Oi:for(q=c-n;q<=d+n;q+=1){ba=B[q];h=k-f;X=F=0;for(t=1;t<=n;t+=1)E=G[q+t],E[h]===fa&&(F+=1),E=G[q-t],E[h]===fa&&(F+=1);E=G[q];
for(u=-f;u<=f;u+=1)E[h+u]===fa&&(X+=1);ba[h]=F+X;for(h+=1;h<=a+f;){F=0;for(t=1;t<=n;t+=1)G[q+t][h]===fa&&(F+=1),G[q-t][h]===fa&&(F+=1);E=G[q];E[h-f-1]===fa&&--X;E[h+f]===fa&&(X+=1);ba[h]=F+X;h+=1}}break;case this.v.Kh:for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){F=0;for(t=-n;t<=n;t+=1)for(X=0===(h+q&1)?I[t+n]:I[n-t],E=G[q+t],u=-X;u<=X;u+=1)E[h+u]===fa&&(F+=1);ba[h]=F;h+=1}break;case this.v.ai:for(q=c-n;q<=d+n;q+=1)for(ba=B[q],h=k-f;h<=a+f;){F=0;for(t=-n;0>t;t+=1){X=m=t+n+1;E=G[q+t];for(u=-f;0>=
u;u+=1)E[h+u]===fa&&(F+=X),X+=m;X-=m+m;for(u=1;u<=f;u+=1)E[h+u]===fa&&(F+=X),X-=m;X=m=t+n+1;E=G[q-t];for(u=-f;0>=u;u+=1)E[h+u]===fa&&(F+=X),X+=m;X-=m+m;for(u=1;u<=f;u+=1)E[h+u]===fa&&(F+=X),X-=m}X=m=f+1;E=G[q];for(u=-f;0>=u;u+=1)E[h+u]===fa&&(F+=X),X+=m;X-=m+m;for(u=1;u<=f;u+=1)E[h+u]===fa&&(F+=X),X-=m;ba[h]=F;h+=1}break;default:for(q=c-n;q<=d+n;q+=1){ba=B[q];h=k-f;F=0;for(t=-n;t<=n;t+=1)for(X=I[t+n],E=G[q+t],u=-X;u<=X;u+=1)E[h+u]===fa&&(F+=1);ba[h]=F;for(h+=1;h<=a+f;){for(t=-n;t<=n;t+=1)X=I[t+n],
E=G[q+t],E[h-X-1]===fa&&--F,E[h+X]===fa&&(F+=1);ba[h]=F;h+=1}}}-1!==this.a.ua&&(k<P+f&&(k=P+f),a>K-f&&(a=K-f),c<Q+n&&(c=Q+n),d>J-n&&(d=J-n));b===this.v.Jd||b===this.v.kf&&6<f||this.$a(k,c,a,d,g);1===this.a.ua&&this.Ra(P,Q,K,J)};w.prototype.zK=function(g){var h=!1;this.oc&&1===(g&1)&&(h=!0);2===this.ko?this.Nb(h):this.Pb(h)};window.HROT=w}(),function(){function w(a,c,d,f,n,m,r,v){this.name=a;this.Tk=!1;this.Jn=10;this.vh=this.uh=0;this.ab=f;this.qb=d;this.gb=c;this.kg=n;this.Ub=m;this.Dc=r;this.Ci=
v;this.am=!1;-1===this.Ub.W.red&&(this.am=!0);128<=(this.ab.red+this.ab.green+this.ab.blue)/3?(this.uh=ViewConstants.WD,this.vh=ViewConstants.VD):(this.uh=ViewConstants.lu,this.vh=ViewConstants.ku)}function g(a,c,d){this.red=a;this.green=c;this.blue=d}function h(a,c){this.V=a;this.W=c}function q(a,c,d,f,n,m){this.v=m;this.l=new Allocator;this.Kd=!1;this.Jj=!0;this.Yg=!1;this.dt=this.wl=this.Ll=this.Gl=this.Nj=this.Hi=this.Gi=this.Sc=null;this.Ob=new Random;this.Ob.cf(Date.now().toString());this.ba=
!1;this.eg=8;this.ve=2;this.pi=0;this.ll=-1;this.$d=this.qk=this.pk=null;this.Fg=[];this.Md=null;this.jl=this.mj=this.Eg=0;this.wf=this.Nb=this.Ij=this.Dj=this.zj=this.bi=this.pf=this.Ld=null;this.Ea=this.Yf=0;this.Bl=this.Kk=null;this.yi=!0;this.Di=new BoundingBox(0,0,0,0);this.Lj=this.vf=-1;this.To=this.Hx=0;this.Ix=!1;this.Hl=!0;this.Mi=this.Ih=this.oc=this.Yc=this.Xc=!1;this.Qr=0;this.yl=[];this.xl=[];this.Al=[];this.zl=[];this.xg=[];this.jg=this.vc="";this.wb=255;this.kc=null;this.ng=this.l.K(Uint8,
65536,"Life.bitCounts16");this.bz();this.Uu=this.l.K(Uint8,65536,"Life.firstBit16");this.vz();this.yh=this.wg=this.Tb=null;this.Sb=this.Vb=this.Rc=this.Eh=0;this.sc=1;this.Z=0;this.ta=this.wa=this.ua=-1;this.mn=this.ln=0;this.Cx=this.st=!1;this.ts=ViewConstants.BD;this.Qe=[];this.Re=[];this.Qe[0]=this.l.K(Int32,k.Fv,"Life.boundaryX0");this.Re[0]=this.l.K(Int32,k.Fv,"Life.boundaryY0");this.Ej=0;this.Ml=4294967295;this.Nl=4286611584;this.fB="rgb(0,255,0)";this.Qz="rgb(255,0,0)";this.ht="rgb(255,255,0)";
this.G=this.ha=this.Ja=!1;this.Pd=-1;this.P=!1;this.Od=this.v.an;this.O=!1;this.tg=this.v.gp;this.be=!0;this.ne=this.bv=!1;this.c=-1;this.Qf=this.M=this.Ia=!1;this.L=0;this.$h=this.oa=!1;this.Hg=new SnapshotManager(this.l,this.ng);this.Tn=k.Ds;this.ld=this.ac=this.pl=!1;this.Gd=this.Cf=this.Ha=this.J=null;this.title="LifeViewer";this.width=f;this.height=n;this.Ms=2;this.Ns=16;this.pa=this.width>>4;this.ra=this.height>>4;this.II=this.Hg.Sx((this.pa-1>>4)+1,this.ra,!0,0,!1);this.F=c;this.D=d;this.cc=
this.Jb=this.na=0;this.vb=k.vb;this.ie=k.ie;this.Xd=k.Xd;this.Mk=k.Mk;this.Hu=this.ab=0;this.R=1;this.yf=-1;this.pn=1;this.Rl=30;this.angle=this.counter=this.$i=this.Of=0;this.zoom=6;this.sa=this.za=0;this.oe=.1;this.kb=0;this.ia=1;this.ke=this.je=0;this.j=.1;this.Zd=littleEndian;this.jb=[];this.Zf=this.Te=this.Td=this.Pf=this.he=this.yd=this.Pb=this.Gh=this.rf=this.Ue=this.vg=this.We=this.Be=this.Zb=null;this.Je=-1;this.nc=this.Wd=this.Gk=null;this.context=a;this.Cb=this.Ab=0;this.ca=Array.da(Uint16,
this.ra,(this.pa-1>>4)+1,0,this.l,"Life.tileGrid");this.ka=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.nextTileGrid");this.cd=Array.da(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Bg=Array.da(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.Za=Array.Fc(Uint16,this.cd,"Life.grid16");this.Mb=Array.Fc(Uint16,this.Bg,"Life.nextGrid16");this.Ek=this.l.K(Uint32,this.F,"Life.blankPixelRow");this.Ye=this.l.K(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.zq=
this.l.K(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.kd=this.l.K(Uint16,this.pa>>4,"Life.blankTileRow");this.Jc=this.l.K(Uint8,this.width,"Life.blankColourRow");this.X=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.colourGrid");this.Fa=null;this.zc=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.smallColourGrid");this.Xj=Array.Fc(Uint16,this.X,"Life.colourGrid16");this.Vd=Array.Fc(Uint32,this.X,"Life.colourGrid32");this.el=this.Yn=this.xe=this.Yb=null;this.Da=Array.da(Uint16,
this.ra,(this.pa-1>>4)+1,0,this.l,"Life.colourTileGrid");this.xa=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.Hf=this.tj=this.wi=this.Ne=null;this.Pa=this.l.K(Uint8,256,"Life.redChannel");this.Oa=this.l.K(Uint8,256,"Life.greenChannel");this.Na=this.l.K(Uint8,256,"Life.blueChannel");this.te=this.l.K(Uint32,256,"Life.pixelColours");this.ge=null;this.sw=0;this.fe=this.Ec=this.tf=this.ee=this.Ei=this.Bh=this.Vf=this.Ah=null;this.Lo=this.l.K(Uint16,2*(this.ie+1)<<
8,"Life.colourLookup");this.Wo=this.l.K(Uint8,2048,"Life.colourReset");this.Fd=ViewConstants.lu;this.Tf=-1;this.Xf=ViewConstants.ku;this.Rf=-1;this.Bf=10;this.Uk=!0;this.MI=10;this.aa=this.l.K(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Ra=this.l.K(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ga=8192;this.IJ=[0,0,48];this.HJ=[255,255,255];this.GJ=[255,255,255];this.JJ=[0,255,0];this.KJ=[255,0,0];this.Vi=[0,0,48];this.Ui=[255,255,255];this.Ti=[255,255,255];this.Wi=[0,255,0];
this.Xi=[255,0,0];this.Qa=new HROT(this.l,this,m);this.coords=this.l.K(Float32,1,"Life.coords");this.qa=this.l.K(Uint32,1,"Life.cellColours");this.$a=0}var k={Az:0,Cz:1,Bz:2,uK:3,dm:5E4,Pl:0,xf:1,Ze:2,rK:0,xz:0,wz:1,LE:2,ME:3,NE:4,yz:5,zz:6,sK:6,lK:20,tK:"RotCCW RotCW FlipX FlipY FlipXY RotCWFlipX RotCWFlipY".split(" "),Zk:1048576,bD:"Buffer Full",wt:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],
[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],OE:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 1;off trail 1;on trail;off trail 2;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
No:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64],[0,0,0],[255,0,0],[0,255,0],[128,128,0]],DJ:[[1,1,1],[1,0,0],[0,1,0]],CJ:[[1,1,1],[0,0,1],[0,1,0]],FJ:[[0,1,0],[1,0,0],[1,1,1]],EJ:[[0,1,0],[0,0,1],[1,1,1]],wc:4096,Vh:16,Fv:4096,NJ:512,ou:262144,fm:65536,Kn:65536,YD:8192,XD:131072,Ds:64,zE:262144,jk:12,vb:64,ie:127,Xd:63,Mk:1,Db:1,cb:2,ob:4,Bb:8,Qb:16,nb:32,Kb:64,
Lb:128};w.prototype.set=function(a){this.Tk=a.Tk;this.Jn=a.Jn;this.uh=a.uh;this.vh=a.vh;this.ab=a.ab;this.qb=a.qb;this.gb=a.gb;this.kg=a.kg;this.Ub=a.cN;this.Dc=a.Dc;this.Ci=a.Ci;this.Ub=a.Ub;this.am=a.am};w.prototype.no=function(a,c,d){this.Tk=!0;this.Jn=a;this.uh=c.red<<16|c.green<<8|c.blue;this.vh=d.red<<16|d.green<<8|d.blue};w.prototype.$L=function(a,c){this.uh=-1!==a?a:128<=(this.ab.red+this.ab.green+this.ab.blue)/3?ViewConstants.WD:ViewConstants.lu;this.vh=-1!==c?c:128<=(this.ab.red+this.ab.green+
this.ab.blue)/3?ViewConstants.VD:ViewConstants.ku};w.prototype.MJ=function(a){var c=!0;a||this.qb.V.Yy(this.qb.W)&&this.gb.V.Yy(this.gb.W)&&this.gb.V.Yy(this.ab)&&(c=!1);return c};g.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};g.prototype.Yy=function(a){var c=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(c=!0);return c};h.prototype.set=function(a){this.V.set(a.V);this.W.set(a.W)};q.prototype.Vy=function(){var a=ViewConstants.Ua,c=this.F+a+a<<1;a=
this.D+a+a<<1;this.Yg?(null===this.Sc&&(window.j?this.Sc=new OffscreenCanvas(c,a):this.Sc=document.createElement("canvas")),this.Sc.width=c,this.Sc.height=a,this.Gi=this.Sc.getContext("2d",{alpha:!1}),this.Hi=this.Gi.getImageData(0,0,this.Sc.width,this.Sc.height),this.Nj=new Uint32Array(this.Hi.data.buffer)):this.Nj=this.Hi=this.Gi=null};q.prototype.aE=function(){var a,c,d,f=this.F,n=20*this.D,m=-n,r=this.Ob;this.Gl=new Uint16Array(k.dm);this.Ll=new Float32Array(k.dm);this.wl=new Float32Array(k.dm);
this.dt=new Uint32Array(k.dm);var v=this.Gl;var x=this.Ll;var u=this.wl;for(a=0;a<k.dm;a+=1){v[a]=r.random()*f|0;for(c=d=0;10>c;c+=1)d+=r.random()*n;x[a]=-d/10;x[a]>m&&(m=x[a]);u[a]=r.random()/5+.8;if(a<k.dm-4&&.2>r.random()){c=v[a];d=x[a];var t=u[a];a+=1;v[a]=c;x[a]=d-2;u[a]=t;a+=1;v[a]=c;x[a]=d+2;u[a]=t;1<c&&(a+=1,v[a]=c-2,x[a]=d,u[a]=t);c<f-2&&(a+=1,v[a]=c+2,x[a]=d,u[a]=t)}}for(a=0;a<k.dm;a+=1)x[a]-=m};q.prototype.Rd=function(){var a,c=0,d=this.F,f=this.D,n=this.te[0],m=this.Wd,r=this.Ob,v=this.Gl,
x=this.Ll,u=this.wl,t=this.dt;for(a=0;a<k.dm;a+=1){var B=v[a];var b=x[a];var l=u[a];var e=B;var p=b;if(0<=b&&b<f-1)if((b|0)===(b+l|0))p=b+l,m[(p|0)*d+e]=-1;else{if(m[(b+l|0)*d+B]===n)p=b+l;else{var y=r.random();if(.05>y){var z=1;.025>y&&(z=-1);0<=B+z&&B+z<d&&m[(b+l|0)*d+B+z]===n&&m[(b|0)*d+B+z]===n&&(e=B+z,p=b+l)}}m[(p|0)*d+e]=-1}else 0>b&&(p=b+l);p>=f-1&&(t[c]=a,c+=1);v[a]=e;x[a]=p}if(5<c)for(a=0;a<c;a+=1).25>r.random()&&(y=t[a],p=-(r.random()*f),e=r.random()*d|0,v[y]=e,x[y]=p,l=u[y],a<c-4&&.2>r.random()&&
(a+=1,y=t[a],v[y]=e,x[y]=p-2,u[y]=l,a+=1,y=t[a],v[y]=e,x[y]=p+2,u[y]=l,1<e&&(a+=1,y=t[a],v[y]=e-2,x[y]=p,u[y]=l),e<d-2&&(a+=1,y=t[a],v[y]=e+2,x[y]=p,u[y]=l)))};q.prototype.aL=function(a){this.Ld=a};q.prototype.Au=function(a){this.Ea=0;a?null===this.pf&&(this.pf=this.l.K(Int32,k.Zk,"Life.hashList"),this.bi=this.l.K(Uint32,k.Zk,"Life.genList"),this.zj=this.l.K(Uint32,k.Zk,"Life.popList"),this.Dj=this.l.K(Uint32,k.Zk,"Life.bornList"),this.Ij=this.l.K(Uint32,k.Zk,"Life.diedList"),this.Nb=this.l.K(Uint32,
2*k.Zk,"Life.boxList"),this.wf=this.l.K(Int32,k.Zk,"Life.nextList"),this.Kk=Array.da(Uint8,this.height,this.width,k.Pl,this.l,"Life.countList"),2<this.c&&(this.Bl=Array.da(Uint8,this.height,this.width,0,this.l,"Life.initList")),this.yi=!0,this.Di.f=this.width,this.Di.g=this.height,this.Di.o=0,this.Di.s=0,this.Yf=this.Lj=this.vf=-1,this.wf.fill(-1)):(this.Bl=this.Kk=this.wf=this.Nb=this.Ij=this.Dj=this.zj=this.bi=this.pf=null,this.Yf=this.Lj=this.vf=-1)};q.prototype.YJ=function(a,c,d){c="Spaceship ("+
(c+","+d)+")c";1<a&&(c+="/"+a);return c};q.prototype.yy=function(a,c){var d=31415962,f=a.f,n=a.g,m=a.o-f+1;a=a.s-n+1;var r=m-1,v=a-1,x=a,u=2>=this.c&&!this.ba,t,B,b=0,l=0,e=0,p=0,y=this.X,z=k.vb;(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(y=this.Fa);if(c===k.xz||c===k.wz||c===k.yz||c===k.zz){var A=m;m=x;x=A}for(B=0;B<x;B+=1)for(t=0;t<m;t+=1){switch(c){case k.xz:b=e;l=v-p;break;case k.NE:b=r-t;l=v-B;break;case k.wz:b=r-e;l=p;break;case k.LE:b=r-t;l=B;break;case k.ME:b=t;l=v-B;break;case k.yz:b=
e;l=p;break;case k.zz:b=r-e,l=v-p}if(u)y[l+n][b+f]>=z&&(d=1000003*d^B,d=1000003*d^t);else if(A=y[l+n][b+f],A>this.L){A-=this.L;if(this.G)switch(c){case k.xz:A=A<<1&15|(A&8)>>3;break;case k.NE:A=A&12|A&3;break;case k.wz:A=A>>1&15|(A&1)<<3;break;case k.LE:A=A&5|(A&2)<<2|(A&8)>>2;break;case k.ME:A=A&10|(A&1)<<2|(A&4)>>2;break;case k.yz:A=(A&8)>>3|(A&4)>>1|(A&2)<<1|(A&1)<<3;break;case k.zz:A=(A&4)<<1|(A&8)>>1|(A&1)<<1|(A&2)>>1}d=1000003*d^B;d=1000003*d^t;d=1000003*d^A}p+=1;p===a&&(p=0,e+=1)}return d|
0};q.prototype.nn=function(a,c){for(var d,f=k.rK,n=-1,m;f<=k.sK&&-1===n;){m=this.yy(a,f);if(c)for(d=this.Yf;-1!==d&&-1===n;)m===this.pf[d]&&this.bi[d]!==this.counter?(n=d,c&&(this.Lj=f)):d=this.wf[d];else m===this.To&&(n=1);f+=1}return n};q.prototype.ry=function(a,c){var d=31415962,f=a.f,n=a.g,m=a.o,r=a.s,v,x=2>=this.c&&!this.ba,u=this.X,t=this.Kk,B=this.Bl,b=k.vb,l=this.Di;(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(u=this.Fa);f<l.f&&(l.f=f);n<l.g&&(l.g=n);m>l.o&&(l.o=m);r>l.s&&(l.s=r);for(v=
n;v<=r;v+=1){var e=v-n;var p=u[v];if(x)for(a=f;a<=m;a+=1)p[a]>=b&&(d=1000003*d^e,d=1000003*d^a-f);else for(a=f;a<=m;a+=1){var y=p[a];y>this.L&&(y-=this.L,d=1000003*d^e,d=1000003*d^a-f,d=1000003*d^y)}}if(!c){for(v=l.g;v<=l.s;v+=1)if(p=u[v],c=t[v],x)if(this.yi)for(a=l.f;a<=l.o;a+=1)p[a]>=b&&(c[a]=k.xf);else for(a=l.f;a<=l.o;a+=1)p[a]>=b?c[a]===k.Pl&&(c[a]=k.Ze):c[a]===k.xf&&(c[a]=k.Ze);else if(this.G)if(this.yi)for(a=l.f;a<=l.o;a+=1)y=p[a],y>this.L?y-=this.L:y=0,f=0,0!==(y&1)&&(f=k.xf),n=0,0!==(y&2)&&
(n=k.xf),m=0,0!==(y&4)&&(m=k.xf),r=0,0!==(y&8)&&(r=k.xf),c[a]=f|n<<2|m<<4|r<<6;else for(a=l.f;a<=l.o;a+=1)r=c[a],y=p[a],y>this.L?y-=this.L:y=0,f=r&3,0!==(y&1)?f===k.Pl&&(f=k.Ze):f===k.xf&&(f=k.Ze),n=r>>2&3,0!==(y&2)?n===k.Pl&&(n=k.Ze):n===k.xf&&(n=k.Ze),m=r>>4&3,0!==(y&4)?m===k.Pl&&(m=k.Ze):m===k.xf&&(m=k.Ze),r=r>>6&3,0!==(y&8)?r===k.Pl&&(r=k.Ze):r===k.xf&&(r=k.Ze),c[a]=f|n<<2|m<<4|r<<6;else for(y=B[v],a=l.f;a<=l.o;a+=1)this.yi?(y[a]=p[a],p[a]>this.L&&(c[a]=k.xf)):p[a]>this.L?c[a]===k.Pl?c[a]=k.Ze:
p[a]!==y[a]&&(c[a]=k.Ze):c[a]===k.xf&&(c[a]=k.Ze);this.yi=!1}return d|0};q.prototype.Bi=function(a,c){for(var d;0!==c;)d=c,c=a%c,a=d;return a};q.prototype.cy=function(a,c){var d="Oblique";if(a>c){var f=a;a=c;c=f}f=this.Bi(a,c);switch(a/f*10+c/f){case 12:d+=" Knightwise";break;case 13:d+=" Camelwise";break;case 14:d+=" Giraffewise";break;case 15:d+=" Ibiswise";break;case 16:d+=" Flamingowise";break;case 23:d+=" Zebrawise";break;case 34:d+=" Antelopewise"}return d};q.prototype.Zy=function(a,c,d,f,n,
m,r,v){var x="",u=String(this.counter-d),t="",B="",b=this.na,l=b,e=16384,p=0,y=16384,z=0,A=this.Ea,C=a,D=16384,G=0,H=0,I,E=I="",F=this.Kk,P=0,K=0,Q="",J=this.vf,W="",Z="";0<d&&(u+=" and "+this.counter);f=Math.abs(f);n=Math.abs(n);if(0<f||0<n){var T="Spaceship";0===f||0===n?B="0":(f>n?(B=f,t=n):(B=n,t=f),x=this.Bi(B,t),B=String(B/x),1!==t/x&&(B+="/"+String(t/x)));if(f===n||0===f||0===n)if(t=f===n&&0!==f?"Diagonal":"Orthogonal",0===f&&(f=n),1<f)if(1===d)x=f+"c";else{x=this.Bi(f,d);var M=f/x;var fa=
d/x;1!==x?(x=1===M?"c":M+"c",1<fa&&(x+="/"+fa),x+=" | "+f+"c/"+d):x=f+"c/"+d}else x="c",1<d&&(x+="/"+d);else x=this.Bi(f,this.Bi(n,d)),M=f/x,t=n/x,fa=d/x,1!==x?(x=M>t?"("+M+","+t+")c":"("+t+","+M+")c",1<fa&&(x+="/"+fa),x=f>n?x+(" | ("+f+","+n+")c"):x+(" | ("+n+","+f+")c")):x=f>n?"("+f+","+n+")c":"("+n+","+f+")c",1<d&&(x+="/"+d),t=this.cy(f,n)}else T=1===d||this.oc&&2===d?"Still Life":"Oscillator";for(n=0;a<A;)f=this.zj[a],n+=f,f<b&&(b=f),f>l&&(l=f),a+=1;b=b===l?String(b):String(b)+" | "+String(l)+
" | "+String((n/(A-C)).toFixed(1));a=C;if("Spaceship"===T)for(;a<A;)f=this.Nb[a<<1],l=f>>16,n=f&65535,l>m&&(m=l),n>r&&(r=n),a+=1;else{for(;a<A;)f=this.Nb[a<<1],l=f>>16,n=f&65535,f=this.Nb[(a<<1)+1],m=f>>16,r=f&65535,m<e&&(e=m),r<y&&(y=r),m+l-1>p&&(p=m+l-1),r+n-1>z&&(z=r+n-1),a+=1;m=p-e+1;r=z-y+1}m=String(m+" x "+r+" = "+m*r);if(0<d){I=0;for(a=C;a<A;)H=this.Dj[a]+this.Ij[a],H<D&&(D=H),H>G&&(G=H),I+=H,a+=1;D===G?(H=D,I=String(H.toFixed(1))):(H=I/(A-C),I=String(D.toFixed(1)+" | "+G.toFixed(1)+" | "+
H.toFixed(1)))}if("Oscillator"===T&&!v){for(C=y;C<=z;C+=1)if(a=F[C],this.G)for(A=e;A<=p;A+=1)y=a[A],(y&3)===k.Ze?P+=1:(y&3)===k.xf&&(K+=1),y>>=2,(y&3)===k.Ze?P+=1:(y&3)===k.xf&&(K+=1),y>>=2,(y&3)===k.Ze?P+=1:(y&3)===k.xf&&(K+=1),y>>=2,(y&3)===k.Ze?P+=1:(y&3)===k.xf&&(K+=1);else for(A=e;A<=p;A+=1)a[A]===k.Ze?P+=1:a[A]===k.xf&&(K+=1);E=String((P/(P+K)).toFixed(2))}"Oscillator"!==T||v||(Z=String((H/(P+K)).toFixed(2)+" | "+(H/P).toFixed(2)));v||(Q=String(P+" | "+K+" | "+(P+K)));v||this.O||this.P||(W=
0>=J?String(d):0===d%J?String(J)+" ("+k.tK[this.Lj]+")":String(d));return[c,T,t,x,m,u,b,B,d,I,E,W,Q,Z]};q.prototype.GK=function(a){var c=this.oa?this.Ha:this.J,d=c.f,f=c.g,n=c.o-d+1,m=c.s-f+1,r=n<<16|m,v=d<<16|f,x=!1,u,t=0,B=0;var b=[];if((this.ha||this.oc)&&0!==(this.counter&1))return b;if(this.Ea<k.Zk)if(0===this.na)b=["Empty Pattern","Empty"];else{var l=this.ry(c,a);var e=!1;var p=this.Yf;for(u=-1;-1!==p&&!e;){var y=this.pf[p];l>y?(u=p,p=this.wf[p]):l<this.pf[p]?e=!0:l===this.pf[p]&&(y=p<<1,this.na===
this.zj[p]&&r===this.Nb[y]?(b=this.counter-this.bi[p],this.Nb[y+1]===v?1===b||(this.oc||this.ha)&&2===b?(y="Still Life",b=1):y="Oscillator period "+b:(t=d-(this.Nb[y+1]>>16),B=f-(this.Nb[y+1]&65535),y=this.YJ(b,t,B)),x=e=!0,b=this.Zy(p,y,b,t,B,n,m,a)):(u=p,p=this.wf[p]))}x||(this.pf[this.Ea]=l,this.bi[this.Ea]=this.counter,this.zj[this.Ea]=this.na,this.Dj[this.Ea]=this.Jb,this.Ij[this.Ea]=this.cc,this.Nb[this.Ea<<1]=r,this.Nb[(this.Ea<<1)+1]=d<<16|f,this.wf[this.Ea]=-1,-1===this.Yf?this.Yf=0:-1===
u?this.Yf=this.Ea:this.wf[u]=this.Ea,-1!==this.vf||a||this.O||this.P?-1===this.vf||this.Ix||this.counter!==this.Hx||(a=this.nn(c,!1),-1!==a?this.Ix=!0:this.vf=-2):(a=this.nn(c,!0),-1!==a&&(this.vf=this.counter-this.bi[a],this.Hx=this.counter+this.vf,this.To=l)),this.Ea+=1,this.Ea===k.Zk&&(this.Ea=0,b=[k.bD]))}return b};q.prototype.nx=function(a,c,d,f,n,m,r){var v=this.F/2,x=this.D/2,u=0,t=this.width/2-.25,B=this.height/2,b=this.coords,l=this.qa,e=this.height/2-this.sa-this.Sb+.5,p=this.width/2-this.za-
this.Vb+.5,y=this.zoom*this.sc;if(a>d){var z=d;d=a;a=z}c>f&&(z=f,f=c,c=z);a+=n;d+=n;c+=m;f+=m;l.length!==k.wc&&(this.coords=this.l.K(Float32,12*k.wc,"Life.coords"),this.qa=this.l.K(Uint32,k.wc,"Life.cellColours"),b=this.coords,l=this.qa);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(m=n=0;c<=f;c+=1)if(z=(c-B+e)*y+x,z>=-y&&z<this.D+y){var A=c-B;var C=p-t;for(z=a;z<=d;z+=1){if(0<r[u]){var D=(z+C)*y+v;if(D>=-y&&D<this.F+2*y){l[n]=(0<<k.Vh)+m;D=z-t;var G=z+c&
1;b[m]=D-1;b[m+1]=A+G;b[m+2]=D+1;b[m+3]=A+G;b[m+4]=D;b[m+5]=A+1-G;m+=6;n+=1;n===k.wc&&(this.$a=n,this.Sd(!0,!1,!0),m=n=0)}}u+=1}}else u+=d-a+1;this.$a=n;0<n&&this.Sd(!0,!1,!0)};q.prototype.xp=function(a,c,d,f,n,m){var r=this.F/2,v=this.D/2,x=this.width/2-.25,u=this.height/2,t=this.coords,B=this.qa,b=this.height/2-this.sa-this.Sb+.5,l=this.width/2-this.za-this.Vb+.5,e=this.zoom*this.sc;if(a>d){var p=d;d=a;a=p}c>f&&(p=f,f=c,c=p);a+=n;d+=n;c+=m;f+=m;B.length!==k.wc&&(this.coords=this.l.K(Float32,12*
k.wc,"Life.coords"),this.qa=this.l.K(Uint32,k.wc,"Life.cellColours"),t=this.coords,B=this.qa);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(m=n=0;c<=f;c+=1)if(p=(c-u+b)*e+v,p>=-e&&p<this.D+e){var y=c-u;var z=l-x;for(p=a;p<=d;p+=1){var A=(p+z)*e+r;if(A>=-e&&A<this.F+2*e){B[n]=(0<<k.Vh)+m;A=p-x;var C=p+c&1;t[m]=A-1;t[m+1]=y+C;t[m+2]=A+1;t[m+3]=y+C;t[m+4]=A;t[m+5]=y+1-C;m+=6;n+=1;n===k.wc&&(this.$a=n,this.Sd(!0,!1,!0),m=n=0)}}}this.$a=n;0<n&&this.Sd(!0,!1,!0)};
q.prototype.dJ=function(){var a=this.X,c=this.Yb,d=null,f=this.Gd,n=this.F/2,m=this.D/2,r,v,x=this.width/2-.25,u=this.height/2,t=ViewConstants.Sa[3]+128,B=ViewConstants.Sa[4]+128,b=ViewConstants.Sa[5]+128,l=ViewConstants.Sa[6]+128,e=this.vb,p=this.coords,y=this.qa,z=f.f,A=f.o;var C=f.g;var D=f.s,G=this.height/2-this.sa-this.Sb+.5,H=this.width/2-this.za-this.Vb+.5,I=this.zoom*this.sc,E=!this.ac&&!this.ld;(this.M||this.ba)&&0!==(this.counter&1)&&(a=this.Fa);y.length!==k.wc&&(this.coords=this.l.K(Float32,
12*k.wc,"Life.coords"),this.qa=this.l.K(Uint32,k.wc,"Life.cellColours"),p=this.coords,y=this.qa);-1!==this.ua&&(0!==this.wa?(z=Math.round((this.width-this.wa)/2)-1,A=z+this.wa-1+2):(z=0,A=this.width-1),0!==this.ta?(C=Math.round((this.height-this.ta)/2)-1,D=C+this.ta-1+2):(C=0,D=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(v=f=0;C<=D;C+=1){var F=(C-u+G)*I+m;if(F>=-I&&F<this.D+I){F=a[C];c&&(d=c[C]);var P=C-u;var K=H-x;for(r=z;r<=A;r+=1){var Q=
(r+K)*I+n;if(Q>=-I&&Q<this.F+2*I){Q=F[r];if(d){var J=d[r];if(J===B||J===l)Q=Q>e?t:J;else if(J===t||J===b)Q=Q<e?B:J}0<Q&&(y[f]=(Q<<k.Vh)+v,Q=r-x,J=r+C&1,p[v]=Q-1,p[v+1]=P+J,p[v+2]=Q+1,p[v+3]=P+J,p[v+4]=Q,p[v+5]=P+1-J,v+=6,f+=1);f===k.wc&&(this.$a=f,this.Sd(!0,E,!1),this.ld&&!this.ac&&(this.context.strokeStyle="rgb("+this.Pa[0]+","+this.Na[0]+","+this.Oa[0]+")",this.Sd(!1,!1,!1)),v=f=0)}}}}this.$a=f;0<f&&(this.Sd(!0,E,!1),this.ld&&!this.ac&&(this.context.strokeStyle="rgb("+this.Pa[0]+","+this.Na[0]+
","+this.Oa[0]+")",this.Sd(!1,!1,!1)),v=0);if(this.ac){this.context.strokeStyle="rgb("+(this.Fd>>16)+","+(this.Fd>>8&255)+","+(this.Fd&255)+")";this.context.lineWidth=1;D=m/I-G+u|0;f=0;for(C=-m/I-G+u|0;C<=D;C+=1)if(F=(C-u+G)*I+m,F>=-I&&F<this.D+I)for(P=C-u,K=H-x,z=-n/I-K-I|0,A=n/I-K+I|0,r=z;r<=A;r+=1)Q=(r+K)*I+n,Q>=-I&&Q<this.F+I&&(Q=r-x,J=r+C&1,p[v]=Q-1,p[v+1]=P+J,p[v+2]=Q+1,p[v+3]=P+J,p[v+4]=Q,p[v+5]=P+1-J,v+=6,f+=1),f===k.wc&&(this.$a=f,this.Sd(!1,!1,!1),v=f=0);this.$a=f;0<f&&this.Sd(!1,!1,!1)}};
q.prototype.Sd=function(a,c,d){var f,n=this.context,m=this.width/2-this.za-this.Vb,r=this.height/2-this.sa-this.Sb,v=this.zoom*this.sc,x=this.zoom*this.sc*ViewConstants.hf,u=this.F/2,t=this.D/2,B=0,b=0,l=-1,e=this.coords,p=this.$a,y=this.qa,z=(1<<k.Vh)-1;if(a&&!d&&y.sort){b=(k.wc<<k.Vh)+256;for(f=p;f<k.wc;f+=1)y[f]=b;y.sort()}n.beginPath();a||(l=b=B=0);for(f=0;f<p;f+=1){a&&(b=y[f],B=b&z,b>>=k.Vh);var A=e[B];var C=e[B+1];B+=2;var D=(C+r)*x+t;var G=(A+m)*v+u;var H=(e[B+1]-C)*x;var I=(e[B]-A)*v;B+=2;
b!==l&&(l=b,0<f&&(a?(c&&n.stroke(),n.fill()):n.stroke(),n.beginPath()),a&&!d&&(n.fillStyle=this.xg[b],c&&(n.strokeStyle=this.xg[b])));n.moveTo(G|0,D|0);n.lineTo(I+G|0,H+D|0);n.lineTo(I+G|0,D|0);H=(e[B+1]-C)*x;I=(e[B]-A)*v;n.lineTo(I+G|0,H+D|0);B+=2}a?(c&&n.stroke(),n.fill()):n.stroke()};q.prototype.Aw=function(a,c,d,f,n,m,r){var v=0,x=this.width/2-.25,u=this.height/2,t=Math.PI/3,B=.5/Math.cos(t/2)*1.16,b=ViewConstants.hf/4/Math.cos(t/2)*1.16,l=[],e=[],p=this.coords,y=this.qa,z=this.F/2,A=this.D/2,
C=this.width/2-this.za-this.Vb,D=this.height/2-this.sa-this.Sb,G=this.ia;C=C+D/2+-(this.height>>2)+.5;D+=.5;if(a>d){var H=d;d=a;a=H}c>f&&(H=f,f=c,c=H);a+=n;d+=n;c+=m;f+=m;y.length!==k.wc&&(this.coords=this.l.K(Float32,12*k.wc,"Life.coords"),this.qa=this.l.K(Uint32,k.wc,"Life.cellColours"),p=this.coords,y=this.qa);m=t/2;for(n=0;5>=n;n+=1)l[n]=Math.cos(m)*b,e[n]=Math.sin(m)*B,l[n]+=e[n]/2,m+=t;t=l[0];B=e[0];b=l[1];H=e[1];var I=l[2];var E=e[2];var F=l[3];var P=e[3];var K=l[4];var Q=e[4];l=l[5];e=e[5];
this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(m=n=0;c<=f;c+=1){var J=c-u;var W=(J+D)*G+A;if(W>=-G&&W<this.D+G)for(W=a;W<=d;W+=1){if(0<r[v]){var Z=W-x;var T=(Z+C-(J+D)/2)*G+z;T>=-G&&T<this.F+G&&(y[n]=(0<<k.Vh)+m,p[m]=t+Z,p[m+1]=B+J,p[m+2]=b+Z,p[m+3]=H+J,p[m+4]=I+Z,p[m+5]=E+J,p[m+6]=F+Z,p[m+7]=P+J,p[m+8]=K+Z,p[m+9]=Q+J,p[m+10]=l+Z,p[m+11]=e+J,m+=12,n+=1,n===k.wc&&(this.$a=n,this.Ad(!0,!1,!1,!0),m=n=0))}v+=1}else v+=d-a+1}this.$a=n;0<n&&this.Ad(!0,!1,!1,!0)};
q.prototype.vp=function(a,c,d,f,n,m){var r=this.width/2-.25,v=this.height/2,x=Math.PI/3,u=.5/Math.cos(x/2)*1.16,t=ViewConstants.hf/4/Math.cos(x/2)*1.16,B=[],b=[],l=this.coords,e=this.qa,p=this.F/2,y=this.D/2,z=this.width/2-this.za-this.Vb,A=this.height/2-this.sa-this.Sb,C=this.ia;z=z+A/2+-(this.height>>2)+.5;A+=.5;if(a>d){var D=d;d=a;a=D}c>f&&(D=f,f=c,c=D);a+=n;d+=n;c+=m;f+=m;e.length!==k.wc&&(this.coords=this.l.K(Float32,12*k.wc,"Life.coords"),this.qa=this.l.K(Uint32,k.wc,"Life.cellColours"),l=this.coords,
e=this.qa);m=x/2;for(n=0;5>=n;n+=1)B[n]=Math.cos(m)*t,b[n]=Math.sin(m)*u,B[n]+=b[n]/2,m+=x;x=B[0];u=b[0];t=B[1];D=b[1];var G=B[2];var H=b[2];var I=B[3];var E=b[3];var F=B[4];var P=b[4];B=B[5];b=b[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(m=n=0;c<=f;c+=1){var K=c-v;var Q=(K+A)*C+y;if(Q>=-C&&Q<this.D+C)for(Q=a;Q<=d;Q+=1){var J=Q-r;var W=(J+z-(K+A)/2)*C+p;W>=-C&&W<this.F+C&&(e[n]=(0<<k.Vh)+m,l[m]=x+J,l[m+1]=u+K,l[m+2]=t+J,l[m+3]=D+K,l[m+4]=G+J,l[m+5]=
H+K,l[m+6]=I+J,l[m+7]=E+K,l[m+8]=F+J,l[m+9]=P+K,l[m+10]=B+J,l[m+11]=b+K,m+=12,n+=1,n===k.wc&&(this.$a=n,this.Ad(!0,!1,!1,!0),m=n=0))}}this.$a=n;0<n&&this.Ad(!0,!1,!1,!0)};q.prototype.$I=function(){var a=this.X,c=this.Yb,d=null,f=this.Gd,n=this.F/2,m=this.D/2,r,v=this.width/2-.25,x=this.height/2,u=Math.PI/3,t=.5/Math.cos(u/2)*1.16,B=ViewConstants.hf/4/Math.cos(u/2)*1.16,b=[],l=[],e=ViewConstants.Sa[3]+128,p=ViewConstants.Sa[4]+128,y=ViewConstants.Sa[5]+128,z=ViewConstants.Sa[6]+128,A=this.vb,C=this.coords,
D=this.qa,G=f.f,H=f.o;var I=f.g;var E=f.s,F=this.height/2-this.sa-this.Sb+.5,P=this.width/2-this.za-this.Vb+.5-(this.height>>2)+F/2,K=this.zoom*this.sc,Q=!this.ac&&!this.ld;(this.M||this.ba)&&0!==(this.counter&1)&&(a=this.Fa);D.length!==k.wc&&(this.coords=this.l.K(Float32,12*k.wc,"Life.coords"),this.qa=this.l.K(Uint32,k.wc,"Life.cellColours"),C=this.coords,D=this.qa);-1!==this.ua&&(0!==this.wa?(G=Math.round((this.width-this.wa)/2)-1,H=G+this.wa-1+2):(G=0,H=this.width-1),0!==this.ta?(I=Math.round((this.height-
this.ta)/2)-1,E=I+this.ta-1+2):(I=0,E=this.height-1));var J=u/2;for(f=0;5>=f;f+=1)b[f]=Math.cos(J)*B,l[f]=Math.sin(J)*t,b[f]+=l[f]/2,J+=u;u=b[0];t=l[0];B=b[1];var W=l[1];var Z=b[2];var T=l[2];var M=b[3];var fa=l[3];var X=b[4];var ia=l[4];b=b[5];l=l[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(J=f=0;I<=E;I+=1){var ma=(I+F-x)*K+m;if(ma>=-K&&ma<this.D+K){ma=a[I];c&&(d=c[I]);var ba=I-x;var V=P-v-(ba+F)/2;for(r=G;r<=H;r+=1){var da=(r+V)*K+n;if(da>=-K&&da<this.F+
K){da=ma[r];if(d){var ca=d[r];if(ca===p||ca===z)da=da>A?e:ca;else if(ca===e||ca===y)da=da<A?p:ca}0<da&&(D[f]=(da<<k.Vh)+J,da=r-v,C[J]=u+da,C[J+1]=t+ba,C[J+2]=B+da,C[J+3]=W+ba,C[J+4]=Z+da,C[J+5]=T+ba,C[J+6]=M+da,C[J+7]=fa+ba,C[J+8]=X+da,C[J+9]=ia+ba,C[J+10]=b+da,C[J+11]=l+ba,J+=12,f+=1);f===k.wc&&(this.$a=f,this.Ad(!0,Q,!1,!1),this.ld&&!this.ac&&(this.context.strokeStyle="rgb("+this.Pa[0]+","+this.Na[0]+","+this.Oa[0]+")",this.Ad(!1,!1,!1,!1)),J=f=0)}}}}this.$a=f;0<f&&(this.Ad(!0,Q,!1,!1),this.ld&&
!this.ac&&(this.context.strokeStyle="rgb("+this.Pa[0]+","+this.Na[0]+","+this.Oa[0]+")",this.Ad(!1,!1,!1,!1)),J=0);if(this.ac){this.context.strokeStyle="rgb("+(this.Fd>>16)+","+(this.Fd>>8&255)+","+(this.Fd&255)+")";this.context.lineWidth=1;f=0;E=m/K-F+x|0;for(I=-m/K-F+x|0;I<=E;I+=1)if(ma=(I+F-x)*K+m,ma>=-K&&ma<this.D+K)for(ba=I-x,V=P-v-(ba+F)/2,G=-n/K-V-K|0,H=n/K-V+K|0,r=G;r<=H;r+=1)da=(r+V)*K+n,da>=-K&&da<this.F+K&&(da=r-v,C[J]=u+da,C[J+1]=t+ba,C[J+2]=B+da,C[J+3]=W+ba,C[J+4]=Z+da,C[J+5]=T+ba,C[J+
6]=M+da,C[J+7]=fa+ba,J+=8,f+=1),f===k.wc&&(this.$a=f,this.Ad(!1,!1,!0,!1),J=f=0);this.$a=f;0<f&&this.Ad(!1,!1,!0,!1)}};q.prototype.Ad=function(a,c,d,f){var n=this.context,m=this.width/2-this.za-this.Vb,r=this.height/2-this.sa-this.Sb,v=this.zoom*this.sc,x=this.F/2,u=this.D/2,t=0,B=0,b=12,l=0,e=-1,p=this.coords,y=this.$a,z=this.qa,A=(1<<k.Vh)-1;m=m+r/2+-(this.height>>2)+.5;r+=.5;a&&!f&&z.sort&&(l=(k.wc<<k.Vh)+256,z.fill(l,y),z.sort());n.beginPath();a||(B=b=d?8:12,e=l=t=0);for(d=0;d<y;d+=1){a&&(l=z[d],
t=l&A,B=t+b,l>>=k.Vh);var C=p[t];var D=p[t+1];var G=D+r;var H=C+m-G/2;t+=2;G=G*v+u;H=H*v+x;var I=(p[t+1]-D)*v;var E=(p[t]-C)*v-I/2;t+=2;l!==e&&(e=l,0<d&&(a?(c&&n.stroke(),n.fill()):n.stroke(),n.beginPath()),a&&!f&&(n.fillStyle=this.xg[l],c&&(n.strokeStyle=this.xg[l])));n.moveTo(H,G);for(n.lineTo(E+H,I+G);t<B;)I=(p[t+1]-D)*v,E=(p[t]-C)*v-I/2,t+=2,n.lineTo(E+H,I+G);B+=b}a?(c&&n.stroke(),n.fill()):n.stroke()};q.prototype.yx=function(a,c,d){var f="",n=c.Ia?c.Gd:c.J,m=n.f,r=n.o,v=n.s,x=n.g,u=r-m+1,t=v-
x+1;n=0;var B=[];var b=0;var l=!1,e=this.X,p=null;var y=(c.width>>1)-(a.hb>>1);var z=(c.height>>1)-(a.lb>>1),A=a.zb;a.sb&&(m=A.f+y,x=A.g+z,r=A.o+y,v=A.s+z,m>r&&(y=m,m=r,r=y),x>v&&(y=x,x=v,v=y),u=r-m+1,t=v-x+1);c.P&&(0<m&&0!==(m&1)&&(--m,u+=1),0<x&&0!==(x&1)&&(--x,t+=1));c.ha&&(0<m&&0===(m&1)&&(--m,u+=1),0<x&&0===(x&1)&&(--x,t+=1));if(2>=c.c&&!c.Qf||c.M&&!c.Qf)l=!0,B[0]="b",B[1]="o";else for(c.Qf?b=c.M?26:7:b=c.c,B[0]=".",y=0;y<b-1;y+=1)B[y+1]=24<=y?String.fromCharCode(112+(y/24|0)-1)+String.fromCharCode(65+
y%24):String.fromCharCode(65+y);d&&(f+=c.vc);0===this.na&&(t=u=0,v=x-1);f+="x = "+u+", y = "+t+", rule = ";f="LifeHistory"===a.hd||"LifeSuper"===a.hd?c.Qf?f+a.hd:f+"Life":!c.Ia&&!c.fN||c.Qf?f+a.ub:c.Ia?f+a.ub.substr(0,a.ub.length-7):f+a.ub.substr(0,a.ub.length-5);f+=a.Cm;f+="\n";for(a=f.length;x<=v;){y=m;l&&!this.ba?(p=e[x],t=p[y],b=!this.M&&(t<=this.Xd||t===this.wb)||this.M&&0===(t&1)?0:1):b=c.getState(y,x,!1);u=1;for(y+=1;y<=r+1;)y>r?t=-1:l&&!this.ba?(t=p[y],t=!this.M&&(t<=this.Xd||t===this.wb)||
this.M&&0===(t&1)?0:1):t=c.getState(y,x,!1),t!==b?((-1!==t||0!==b)&&0<n&&(1<n&&(f+=n),f+="$",69<=f.length-a&&(f+="\n",a=f.length),n=0),0<b?(1<u&&(f+=u),f+=B[b]):y<=r&&(1<u&&(f+=u),f+=B[b]),69<=f.length-a&&(f+="\n",a=f.length),u=1,b=t):u+=1,y+=1;n+=1;x+=1}f+="!\n";d&&(f+=c.jg);return f};q.prototype.gJ=function(a,c,d,f){var n=this.Za,m=this.ca,r=this.X,v=this.Da,x=this.xa,u=this.J,t=this.Gd;var B=!0;var b=this.P?1:0,l=this.P?14:15;if(a!==(a&this.Ab)||c!==(c&this.Cb)){for(B=!1;this.width<this.ga&&(a!==
(a&this.Ab)||c!==(c&this.Cb));)this.er(),a+=this.width>>2,c+=this.height>>2;a===(a&this.Ab)&&c===(c&this.Cb)&&(B=!0,n=this.Za,m=this.ca,r=this.X,v=this.Da,x=this.xa)}if(B){0!==(this.counter&1)&&(n=this.Mb,m=this.ka);B=1<<(~a&15);var e=1<<(~(a>>4)&15);1===(d&1)?(this.Z=1,0===(n[c][a>>4]&B)&&(this.na+=1),r[c][a]=this.Kd?(a+c&127)+64:this.vb,v[c>>4][a>>8]|=e,x[c>>4][a>>8]|=e,n[c][a>>4]|=B,m[c>>4][a>>8]|=e,f=a&15,0<a&&f<=b?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,
m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),0<c&&0===(c&15)?(--c,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=b?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=b?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),--c)):(0!==(n[c][a>>4]&B)&&--this.na,r[c][a]=f?this.ab:this.Xd,v[c>>4][a>>8]|=e,
x[c>>4][a>>8]|=e,n[c][a>>4]&=~B);0<d&&(a<u.f&&(u.f=a),a>u.o&&(u.o=a),c<u.g&&(u.g=c),c>u.s&&(u.s=c),a<t.f&&(t.f=a),a>t.o&&(t.o=a),c<t.g&&(t.g=c),c>t.s&&(t.s=c),a===u.f||a===u.o||c===u.s||c===u.g)&&(this.Ih=!0)}return 0};q.prototype.mJ=function(a,c,d,f){var n=this.Za,m=this.ca,r=this.X,v=this.Da,x=this.xa,u=this.Yb,t=this.J,B=this.Gd;var b=!0;var l=0,e=this.P?1:0,p=this.P?14:15;if(a!==(a&this.Ab)||c!==(c&this.Cb)){for(b=!1;this.width<this.ga&&(a!==(a&this.Ab)||c!==(c&this.Cb));)this.er(),a+=this.width>>
2,c+=this.height>>2;a===(a&this.Ab)&&c===(c&this.Cb)&&(b=!0,n=this.Za,m=this.ca,r=this.X,v=this.Da,x=this.xa,u=this.Yb)}if(b){0!==(this.counter&1)&&(n=this.Mb,m=this.ka);b=1<<(~a&15);var y=1<<(~(a>>4)&15);1===(d&1)?(this.Z=1,0===(n[c][a>>4]&b)&&(this.na+=1),r[c][a]=this.vb,v[c>>4][a>>8]|=y,x[c>>4][a>>8]|=y,n[c][a>>4]|=b,m[c>>4][a>>8]|=y,f=a&15,0<a&&f<=e?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=p&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),0<c&&0===(c&15)?(--c,m[c>>4][a>>
8]|=1<<(~(a>>4)&15),0<a&&f<=e?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=p&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=e?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=p&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),--c)):(0!==(n[c][a>>4]&b)&&--this.na,r[c][a]=f?this.ab:this.Xd,v[c>>4][a>>8]|=y,x[c>>4][a>>8]|=y,n[c][a>>4]&=~b);if(u){m=u[c][a];0<m&&(m=ViewConstants.Sa.indexOf(m-
128));if(6===d&&6!==m||6!==d&&6===m)l=1;2===d?r[c][a]=k.Mk:u[c][a]=0===d?0:ViewConstants.Sa[d]+128}0<d&&(a<t.f&&(t.f=a),a>t.o&&(t.o=a),c<t.g&&(t.g=c),c>t.s&&(t.s=c),a<B.f&&(B.f=a),a>B.o&&(B.o=a),c<B.g&&(B.g=c),c>B.s&&(B.s=c),a===t.f||a===t.o||c===t.s||c===t.g)&&(this.Ih=!0)}return l};q.prototype.xw=function(a,c,d,f){var n=this.Za,m=this.ca,r=this.X,v=this.Da,x=this.xa,u=this.Yb,t=this.J,B=this.Ha,b=this.Gd,l=0,e=this.ha?-1:0;var p=Math.round((this.width-this.wa)/2)+e;var y=Math.round((this.height-
this.ta)/2)+e,z=p+this.wa-1,A=y+this.ta-1,C=!0;e=0;var D=this.P?1:0,G=this.P?14:15;(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(r=this.Fa);-1!==this.ua&&(0===this.wa&&(p=0,z=this.width-1),0===this.ta&&(y=0,A=this.height-1));if(a!==(a&this.Ab)||c!==(c&this.Cb)){for(C=!1;this.width<this.ga&&(a!==(a&this.Ab)||c!==(c&this.Cb));)this.er(),a+=this.width>>2,c+=this.height>>2;a===(a&this.Ab)&&c===(c&this.Cb)&&(C=!0,n=this.Za,m=this.ca,r=this.X,v=this.Da,x=this.xa,u=this.Yb)}if(C&&(-1===this.ua||a>=p&&
a<=z&&c>=y&&c<=A)){if(this.G||this.ba)n=r[c][a],r[c][a]=f&&0===d?0:this.L+d,x[c>>4][a>>8]=65535,this.ba&&(0!==(this.counter&1)&&(m=this.ka),l=1<<(~(a>>4)&15)),0===d?n>this.L&&(this.G?this.na-=this.ng[n-this.L]:--this.na):(this.Z=1,this.G?(n<=this.L||(this.na-=this.ng[n-this.L]),this.na+=this.ng[d]):(m[c>>4][a>>8]|=l,0===n&&(this.na+=1),v=a&15,0<a&&v<=D?(a-=v+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=v+1):a<this.width-1&&v>=G&&(a+=16-v,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-v),0<c&&0===(c&15)?(--c,m[c>>4][a>>
8]|=1<<(~(a>>4)&15),0<a&&v<=D?(a-=v+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=v+1):a<this.width-1&&v>=G&&(a+=16-v,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-v),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&v<=D?(a-=v+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=v+1):a<this.width-1&&v>=G&&(a+=16-v,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-v),--c)));else if(0!==(this.counter&1)&&(n=this.Mb,m=this.ka),p=1<<(~a&15),l=1<<(~(a>>4)&15),this.oa)n=r[c][a],2===this.c?(m=this.vb,1===d&&(d=this.vb,this.Z=
1)):(m=this.c-1+this.L,0<d&&(d=this.L+d,this.Z=1)),r[c][a]=d,v[c>>4][a>>8]|=l,x[c>>4][a>>8]|=l,n!==m&&d===m?this.na+=1:n===m&&d!==m&&--this.na;else{(y=2>=this.c||this.M?1===(d&1):d===this.c-1)?(this.Z=1,0===(n[c][a>>4]&p)&&(this.na+=1),r[c][a]=this.vb,v[c>>4][a>>8]|=l,x[c>>4][a>>8]|=l,n[c][a>>4]|=p,m[c>>4][a>>8]|=l,v=a&15,0<a&&v<=D?(a-=v+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=v+1):a<this.width-1&&v>=G&&(a+=16-v,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-v),0<c&&0===(c&15)?(--c,m[c>>4][a>>8]|=1<<(~(a>>4)&15),
0<a&&v<=D?(a-=v+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=v+1):a<this.width-1&&v>=G&&(a+=16-v,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-v),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&v<=D?(a-=v+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=v+1):a<this.width-1&&v>=G&&(a+=16-v,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-v),--c)):(0!==(n[c][a>>4]&p)&&--this.na,r[c][a]=f?this.ab:this.Xd,v[c>>4][a>>8]|=l,x[c>>4][a>>8]|=l,n[c][a>>4]&=~p);if(this.Ia&&u){n=u[c][a];0<n&&(n=ViewConstants.Sa.indexOf(n-
128));if(6===d&&6!==n||6!==d&&6===n)e=1;2===d?r[c][a]=k.Mk:u[c][a]=0===d?0:ViewConstants.Sa[d]+128}2<this.c&&(0<d&&(d=this.L+d),r[c][a]=d)}if(0<d)a<t.f&&(t.f=a),a>t.o&&(t.o=a),c<t.g&&(t.g=c),c>t.s&&(t.s=c),a<b.f&&(b.f=a),a>b.o&&(b.o=a),c<b.g&&(b.g=c),c>b.s&&(b.s=c),this.oa&&d===this.c-1+this.L&&(a<B.f&&(B.f=a),a>B.o&&(B.o=a),c<B.g&&(B.g=c),c>B.s&&(B.s=c));else if(a===t.f||a===t.o||c===t.s||c===t.g)this.Ih=!0}return e};q.prototype.getState=function(a,c,d){switch(this.et){case k.Az:return this.$u(a,
c,d);case k.Cz:return this.$u(a,c,!0);case k.Bz:return this.Hy(a,c,d);default:return this.Py(a,c,d)}};q.prototype.pj=function(a,c,d,f){switch(this.et){case k.Az:return this.gJ(a,c,d,f);case k.Cz:return this.xw(a,c,d,f);case k.Bz:return this.mJ(a,c,d,f);default:return this.xw(a,c,d,f)}};q.prototype.oM=function(){this.et=-1!==this.c||-1!==this.ua||this.Ja?this.ba&&2===this.c?k.Cz:k.uK:this.Ia?k.Bz:k.Az};q.prototype.KH=function(a){var c=1<<k.jk;a?(this.Tb=Array.da(Uint32,1,c,0,this.l,"Life.popGraphData"),
this.wg=Array.da(Uint32,1,c,0,this.l,"Life.birthGraphData"),this.yh=Array.da(Uint32,1,c,0,this.l,"Life.deathGraphData"),this.Eh=c):(this.Tb=Array.da(Uint32,0,0,0,this.l,"Life.popGraphData"),this.wg=Array.da(Uint32,0,0,0,this.l,"Life.birthGraphData"),this.yh=Array.da(Uint32,0,0,0,this.l,"Life.deathGraphData"),this.Eh=0)};q.prototype.$u=function(a,c,d){var f=0;a===(a&this.Ab)&&c===(c&this.Cb)&&(a=this.X[c][a],d?f=a:f=a<=this.Xd?0:1);return f};q.prototype.Hy=function(a,c,d){var f=0,n=ViewConstants.Sa[3]+
128,m=ViewConstants.Sa[4]+128,r=ViewConstants.Sa[5]+128,v=ViewConstants.Sa[6]+128;a===(a&this.Ab)&&c===(c&this.Cb)&&(f=this.X[c][a],d||(this.Yb?(a=this.Yb[c][a],a===m||a===v?(f>=this.vb&&(a=n),f=ViewConstants.Sa.indexOf(a-128)):a===n||a===r?(f<this.vb&&(a=m),f=ViewConstants.Sa.indexOf(a-128)):f=f===this.ab?0:f<=this.Xd?2:1):f=f<=this.Xd?0:1));return f};q.prototype.Py=function(a,c,d){var f=0,n=ViewConstants.Sa[3]+128,m=ViewConstants.Sa[4]+128,r=ViewConstants.Sa[5]+128,v=ViewConstants.Sa[6]+128,x=this.ha?
-1:0,u=Math.round((this.width-this.wa)/2)+x;x=Math.round((this.height-this.ta)/2)+x;var t=u+this.wa-1,B=x+this.ta-1,b=this.X;(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(b=this.Fa);a===(a&this.Ab)&&c===(c&this.Cb)&&(f=b[c][a],d||2<this.c?2<this.c&&0<f&&!this.Ja&&(f<=this.L?f=0:(-1!==this.ua&&(0===this.wa&&(u=0,t=this.width-1),0===this.ta&&(x=0,B=this.height-1)),f=-1===this.ua||f!==this.wb||a>=u&&a<=t&&c>=x&&c<=B?this.G||this.ba||this.M?f-this.L:this.c+this.L-f:0)):this.Yb?-1===this.ua||f!==this.wb||
a>=u&&a<=t&&c>=x&&c<=B?(a=this.Yb[c][a],a===m||a===v?(f>=this.vb&&(a=n),f=ViewConstants.Sa.indexOf(a-128)):a===n||a===r?(f<this.vb&&(a=m),f=ViewConstants.Sa.indexOf(a-128)):f=f===this.ab?0:f<=this.Xd?2:1):f=0:f=f<=this.Xd||f===this.wb?0:1);return f};q.prototype.vo=function(a){var c,d,f,n=a.length,m=a[0].length,r=this.ng,v=0;for(c=0;c<n;c+=1){var x=a[c];for(d=0;d<m;d+=1)(f=x[d])&&(v+=r[f])}return v};q.prototype.Fj=function(a,c){var d=a.Sf,f=d.length,n=!1;if(this.ha||this.G)for(this.Xc=this.Yc=!1,a=
0;!n&&a<f;){var m=d[a];m.th<c?("reverse playback"===m.action&&(this.Xc=!this.Xc),a+=1):m.th>c?n=!0:"reverse playback"===m.action?n=this.Yc=!0:a+=1}};q.prototype.vs=function(a,c,d,f){var n=this.Hg.Me.length,m=null;a<this.counter&&(m=this.Hg.qM(a),n!==this.Hg.Me.length&&(this.Tn-=k.Ds*(n-this.Hg.Me.length)));m&&(this.nw(m),f.cj());for(;this.counter<a-1;)this.Z?(this.Fj(f,this.counter),this.ef(!1,!0,d,f.Xb),0===this.Z&&2<this.c||this.$e(),0===this.Z&&2>=this.c&&(this.Z=1,this.Fj(f,this.counter),this.ef(!1,
!1,d,f.Xb),this.Z=0,--this.counter)):(this.counter+=1,this.$e()),f.cj();this.counter<a?(this.Z?(this.Fj(f,this.counter),this.ef(c,!0,d,f.Xb),0===this.Z&&2<this.c||this.$e(),0===this.Z&&2>=this.c&&(this.Z=1,this.Fj(f,this.counter),this.ef(!1,!1,d,f.Xb),this.Z=0,--this.counter)):(this.counter+=1,this.$e()),f.cj()):-1===this.c&&this.$e();f.bk&&(this.Z=1)};q.prototype.nw=function(a){var c=this.X;this.counter=a.counter;this.Of=a.Of;this.$i=a.$i;if(0!==(this.counter&1)){var d=this.Bg;var f=this.cd;var n=
this.ka;var m=this.ca}else d=this.cd,f=this.Bg,n=this.ca,m=this.ka;d.eb.fill(0);f.eb.fill(0);this.X.eb.fill(0);(this.G||this.ba||this.M)&&this.Fa.eb.fill(0);this.zc.eb.fill(0);Array.Ni(this.xa,this.Da);a.IL(d,n,this);a.HL(c,this.xa,this);(this.G||this.ba||this.M)&&Array.Ni(c,this.Fa);Array.Ni(n,m);Array.Ni(d,f);this.J.f=a.J.f;this.J.g=a.J.g;this.J.o=a.J.o;this.J.s=a.J.s;this.Ha.f=a.Ha.f;this.Ha.g=a.Ha.g;this.Ha.o=a.Ha.o;this.Ha.s=a.Ha.s;this.na=a.na;this.Jb=a.Jb;this.cc=a.cc;this.Z=a.Z};q.prototype.ws=
function(){if(0!==(this.counter&1)){var a=this.Bg;var c=this.ka}else a=this.cd,c=this.ca;this.ww(!1,a,c)};q.prototype.Lv=function(a){this.nw(this.II);this.Hg.reset();this.Tn=k.Ds;a||this.ws()};q.prototype.ww=function(a,c,d){var f=this.X;(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(f=this.Fa);this.Hg.ws(c,d,f,this.xa,this.Yb,this.J,this.Ha,this.na,this.Jb,this.cc,this.counter,this.Of,this.$i,(this.pa-1>>4)+1,this.ra,this,a,this.Z)};q.prototype.VL=function(a){this.Hg.reset();this.ww(!0,this.cd,
this.ca);a||this.ws()};q.prototype.AL=function(a,c){var d=this.Yb,f=this.Ne;this.width=a;this.height=c;this.oa&&this.Qa.resize(this.width,this.height);this.cd=Array.da(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Bg=Array.da(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.Za=Array.Fc(Uint16,this.cd,"Life.grid16");this.Mb=Array.Fc(Uint16,this.Bg,"Life.nextGrid16");f&&(this.Ne=Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Mask"),this.tj=
Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Alive"),this.wi=Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Cells"));this.pa=this.width>>4;this.ra=this.height>>4;f&&(this.Hf=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.state6TileGrid"));this.ca=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.tileGrid");this.ka=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.nextTileGrid");this.Da=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,
"Life.colourTileGrid");this.xa=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.Ye=this.l.K(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.zq=this.l.K(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.kd=this.l.K(Uint16,this.pa>>4,"Life.blankTileRow");this.Jc=this.l.K(Uint8,this.width,"Life.blankColourRow");this.aa=this.l.K(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Ra=this.l.K(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.X=Array.da(Uint8,
this.height,this.width,this.ab,this.l,"Life.colourGrid");this.G||this.ba||this.M?(this.Fa=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.nextColourGrid"),this.Dh=Array.Fc(Uint16,this.Fa,"Life.nextColourGrid16"),this.fa=Array.Fc(Uint32,this.Fa,"Life.nextColourGrid32")):this.fa=this.Dh=this.Fa=null;this.zc=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.smallColourGrid");this.Xj=Array.Fc(Uint16,this.X,"Life.colourGrid16");this.Vd=Array.Fc(Uint32,this.X,"Life.colourGrid32");d&&
(this.Yb=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.overlayGrid"),this.xe=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.smallOverlayGrid"),this.Yn=Array.Fc(Uint16,this.Yb,"Life.overlayGrid16"),this.el=Array.Fc(Uint32,this.Yb,"Life.overlayGrid32"));this.Ab=this.width-1;this.Cb=this.height-1;this.Hg.TF((this.pa-1>>4)+1,this.ra,0)};q.prototype.LH=function(){this.height=this.width=1024;this.cd=Array.da(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Bg=Array.da(Uint8,
this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.Za=Array.Fc(Uint16,this.cd,"Life.grid16");this.Mb=Array.Fc(Uint16,this.Bg,"Life.nextGrid16");this.pa=this.width>>4;this.ra=this.height>>4;this.Hf&&this.wD();this.ca=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.tileGrid");this.ka=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.nextTileGrid");this.Da=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.colourTileGrid");this.xa=Array.da(Uint16,this.ra,(this.pa-1>>4)+
1,0,this.l,"Life.colourTileHistoryGrid");this.Ye=this.l.K(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.zq=this.l.K(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.kd=this.l.K(Uint16,this.pa>>4,"Life.blankTileRow");this.Jc=this.l.K(Uint8,this.width,"Life.blankColourRow");this.aa=this.l.K(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Ra=this.l.K(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.X=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.colourGrid");this.Xj=Array.Fc(Uint16,
this.X,"Life.colourGrid16");this.Vd=Array.Fc(Uint32,this.X,"Life.colourGrid32");this.G||this.ba||this.M?(this.Fa=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.nextColourGrid"),this.Dh=Array.Fc(Uint16,this.Fa,"Life.nextColourGrid16"),this.fa=Array.Fc(Uint32,this.Fa,"Life.nextColourGrid32")):this.fa=this.Dh=this.Fa=null;this.zc=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.smallColourGrid");this.Yb&&this.qD();this.Ab=this.width-1;this.Cb=this.height-1};q.prototype.er=function(){var a=
this.cd,c=this.Bg,d=this.X,f=this.Fa,n=this.zc,m=this.Yb,r=this.xe,v=this.Ne,x=this.tj,u=this.wi,t=this.Kk,B=this.Hf,b=this.ca,l=this.ka,e=this.Da,p=this.xa,y=this.height,z=this.ra,A=this.width>>1,C=this.height>>1,D;if(this.width<this.ga){this.width*=2;this.height*=2;this.oa&&this.Qa.resize(this.width,this.height);this.cd=Array.da(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.grid");this.Bg=Array.da(Uint8,this.height,(this.width-1>>3)+1,0,this.l,"Life.nextGrid");this.Za=Array.Fc(Uint16,this.cd,
"Life.grid16");this.Mb=Array.Fc(Uint16,this.Bg,"Life.nextGrid16");v&&(this.Ne=Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Mask"),this.tj=Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Alive"),this.wi=Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Cells"));this.pa=this.width>>4;this.ra=this.height>>4;v&&(this.Hf=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.state6TileGrid"));this.ca=Array.da(Uint16,this.ra,(this.pa-1>>4)+
1,0,this.l,"Life.tileGrid");this.ka=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.nextTileGrid");this.Da=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.colourTileGrid");this.xa=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.colourTileHistoryGrid");this.Ye=this.l.K(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.zq=this.l.K(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.kd=this.l.K(Uint16,this.pa>>4,"Life.blankTileRow");this.Jc=this.l.K(Uint8,this.width,"Life.blankColourRow");
this.aa=this.l.K(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.Ra=this.l.K(Uint16,(this.width-1>>4)+1,"Life.rowOccupied16");t&&(this.Kk=Array.da(Uint8,this.height,this.width,k.Pl,this.l,"Life.countList"));this.X=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.colourGrid");this.zc=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.smallColourGrid");this.Xj=Array.Fc(Uint16,this.X,"Life.colourGrid16");this.Vd=Array.Fc(Uint32,this.X,"Life.colourGrid32");this.G||this.ba||
this.M?(this.Fa=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.nextColourGrid"),this.Dh=Array.Fc(Uint16,this.Fa,"Life.nextColourGrid16"),this.fa=Array.Fc(Uint32,this.Fa,"Life.nextColourGrid32")):this.fa=this.Dh=this.Fa=null;m&&(this.Yb=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.overlayGrid"),this.xe=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.smallOverlayGrid"),this.Yn=Array.Fc(Uint16,this.Yb,"Life.overlayGrid16"),this.el=Array.Fc(Uint32,this.Yb,"Life.overlayGrid32"));
this.Ab=this.width-1;this.Cb=this.height-1;for(D=0;D<y;D+=1)this.cd[D+C].set(a[D],A>>3),this.Bg[D+C].set(c[D],A>>3),this.X[D+C].set(d[D],A),this.zc[D+C].set(n[D],A),(this.G||this.ba||this.M)&&this.Fa[D+C].set(f[D],A),this.Kk&&this.Kk[D+C].set(t[D],A),m&&r&&(this.Yb[D+C].set(m[D],A),this.xe[D+C].set(r[D],A)),v&&x&&u&&(this.Ne[D+C].set(v[D],A>>4),this.tj[D+C].set(x[D],A>>4),this.wi[D+C].set(u[D],A>>4));C=z>>1;for(D=0;D<z;D+=1)B&&this.Hf[D+C].set(B[D],this.Hf[D].length>>2),this.ca[D+C].set(b[D],this.ca[D].length>>
2),this.ka[D+C].set(l[D],this.ka[D].length>>2),this.Da[D+C].set(e[D],this.Da[D].length>>2),this.xa[D+C].set(p[D],this.xa[D].length>>2);A=this.width>>2;C=this.height>>2;this.Hg.TF((this.pa-1>>4)+1,this.ra,A);this.za+=A;this.sa+=C;this.O&&(this.za-=C/2|0);this.J.f+=A;this.J.o+=A;this.J.s+=C;this.J.g+=C;this.Ha.f+=A;this.Ha.o+=A;this.Ha.s+=C;this.Ha.g+=C;this.Cf.f+=A;this.Cf.o+=A;this.Cf.s+=C;this.Cf.g+=C;this.Gd.f+=A;this.Gd.o+=A;this.Gd.s+=C;this.Gd.g+=C;if(0<this.Ea)for(D=0;D<this.Ea;D+=1)c=this.Nb[(D<<
1)+1],a=(c>>16)+A,c=(c&65535)+C,this.Nb[(D<<1)+1]=a<<16|c}};q.prototype.dI=function(a,c){var d=this.width,f=this.height,n=!1;d<this.ga&&this.Z&&(a.f<=c||a.g<=c||a.o>=d-c||a.s>=f-c)&&(this.er(),n=!0);return n};q.prototype.vz=function(){var a,c=this.Uu;for(a=0;65536>a;a+=1){var d=a;var f=0;65535<d&&(d>>=16,f+=16);255<d&&(d>>=8,f+=8);15<d&&(d>>=4,f+=4);3<d&&(d>>=2,f+=2);f+=d>>1;c[a]=f}};q.prototype.bz=function(){var a,c,d=this.ng;for(a=0;65536>a;a+=1){var f=a;for(c=0;f;c+=1)f&=f-1;d[a]=c}};q.prototype.rz=
function(){var a,c,d=this.Wo,f=this.vb;for(a=0;256>a;a+=1)for(c=0;8>c;c+=1)d[(a<<3)+c]=a&1<<7-c?f:0};q.prototype.CL=function(a,c){var d,f=0,n=this.ng;var m=this.J;var r=m.f,v=m.o,x=m.s;m=m.g;if(this.oa||this.G||this.ba)for(;m<=x;m+=1){var u=c[m];for(d=r;d<=v;d+=1)a=u[d],0<a&&(f=this.G?f+n[a-this.L]:f+1)}else for(r>>=4,v>>=4;m<=x;m+=1)for(u=a[m],d=r;d<=v;d+=1)c=n[u[d]],f+=c;this.na=f;this.cc=this.Jb=0};q.prototype.SF=function(a,c){var d=this.context;var f=this.Zd?4278190080:255;this.F=a;this.D=c;this.Gk=
this.Wd=this.nc=null;this.nc=d.createImageData(d.canvas.width,d.canvas.height);this.nc.data.buffer?this.Wd=new Uint32Array(this.nc.data.buffer):(this.Wd=new Uint32Array(this.nc.data.length>>2),this.Gk=new Uint8Array(this.Wd.buffer));this.Ek=this.l.K(Uint32,a,"Life.blankPixelRow");for(c=0;c<a;c+=1)this.Ek[c]=f;this.Ow(f);this.Vy()};q.prototype.uI=function(a,c,d){var f,n,m=this.X,r=a.width,v=a.height,x=this.Ab,u=this.Cb,t=this.Mk,B=ViewConstants.Sa[2];for(n=0;n<v;n+=1){var b=a.Vg[n];var l=m[n+d&u];
for(f=0;f<r;f+=1)b[f]===B&&(l[f+c&x]=t)}};q.prototype.vJ=function(){this.el=this.Yn=this.xe=this.Yb=null};q.prototype.qD=function(){this.Yb=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.overlayGrid");this.xe=Array.da(Uint8,this.height,this.width,this.ab,this.l,"Life.smallOverlayGrid");Array.sz(this.xe,1,"Life.smallOverlayGrid4");Array.sz(this.xe,3,"Life.smallOverlayGrid8");Array.sz(this.xe,7,"Life.smallOverlayGrid16");this.Yn=Array.Fc(Uint16,this.Yb,"Life.overlayGrid16");this.el=Array.Fc(Uint32,
this.Yb,"Life.overlayGrid32")};q.prototype.wJ=function(){this.Hf=this.wi=this.tj=this.Ne=null};q.prototype.wD=function(){this.Ne=Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Mask");this.tj=Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Alive");this.wi=Array.da(Uint16,this.height,(this.width-1>>4)+1,0,this.l,"Life.state6Cells");this.Hf=Array.da(Uint16,this.ra,(this.pa-1>>4)+1,0,this.l,"Life.state6TileGrid")};q.prototype.co=function(){var a,c,d=this.Ab,
f=this.Cb,n=this.Hf,m=this.M?6:ViewConstants.Sa[6]+128,r=this.M?this.X:this.Yb;this.Ne.eb.fill(0);this.wi.eb.fill(0);this.tj.eb.fill(0);this.Hf.eb.fill(0);for(c=1;c<this.height-1;c+=1){var v=r[c];var x=this.Ne[c-1&f];var u=this.Ne[c&f];var t=this.Ne[c+1&f];var B=this.wi[c&f];var b=n[(c-1&f)>>4];var l=n[(c&f)>>4];var e=n[(c+1&f)>>4];for(a=1;a<=this.width-1;a+=1)if(v[a]===m){var p=a&d;B[p>>4]|=1<<(~p&15);x[p>>4]|=1<<(~p&15);u[p>>4]|=1<<(~p&15);t[p>>4]|=1<<(~p&15);b[p>>8]|=1<<(~(p>>4)&15);l[p>>8]|=1<<
(~(p>>4)&15);e[p>>8]|=1<<(~(p>>4)&15);p=a-1&d;x[p>>4]|=1<<(~p&15);u[p>>4]|=1<<(~p&15);t[p>>4]|=1<<(~p&15);b[p>>8]|=1<<(~(p>>4)&15);l[p>>8]|=1<<(~(p>>4)&15);e[p>>8]|=1<<(~(p>>4)&15);p=a+1&d;x[p>>4]|=1<<(~p&15);u[p>>4]|=1<<(~p&15);t[p>>4]|=1<<(~p&15);b[p>>8]|=1<<(~(p>>4)&15);l[p>>8]|=1<<(~(p>>4)&15);e[p>>8]|=1<<(~(p>>4)&15)}}};q.prototype.XK=function(a,c,d){var f,n,m=a.width,r=a.height,v=this.Ab,x=this.Cb,u=this.Hf;for(n=0;n<r;n+=1){var t=a.Vg[n];var B=this.Ne[n-1+d&x];var b=this.Ne[n+d&x];var l=this.Ne[n+
1+d&x];var e=this.wi[n+d&x];var p=u[(n-1+d&x)>>4];var y=u[(n+d&x)>>4];var z=u[(n+1+d&x)>>4];for(f=0;f<m;f+=1)if(6===t[f]){var A=f+c&v;e[A>>4]|=1<<(~A&15);B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);p[A>>8]|=1<<(~(A>>4)&15);y[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=f-1+c&v;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);p[A>>8]|=1<<(~(A>>4)&15);y[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=f+1+c&v;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);
p[A>>8]|=1<<(~(A>>4)&15);y[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15)}}};q.prototype.Jv=function(a){this.Kd?this.cI(a):this.$H(a)};q.prototype.cI=function(a){var c,d=this.X;var f=this.J;var n=f.f>>4,m=f.o>>4,r=f.s;for(c=f.g;c<=r;c+=1){var v=a[c];var x=d[c];var u=n<<4;for(f=n;f<=m;f+=1){var t=v[f]>>8;x[u]=t&128?(c+u&127)+64:0;u+=1;x[u]=t&64?(c+u&127)+64:0;u+=1;x[u]=t&32?(c+u&127)+64:0;u+=1;x[u]=t&16?(c+u&127)+64:0;u+=1;x[u]=t&8?(c+u&127)+64:0;u+=1;x[u]=t&4?(c+u&127)+64:0;u+=1;x[u]=t&2?(c+u&127)+
64:0;u+=1;x[u]=t&1?(c+u&127)+64:0;u+=1;t=v[f]&255;x[u]=t&128?(c+u&127)+64:0;u+=1;x[u]=t&64?(c+u&127)+64:0;u+=1;x[u]=t&32?(c+u&127)+64:0;u+=1;x[u]=t&16?(c+u&127)+64:0;u+=1;x[u]=t&8?(c+u&127)+64:0;u+=1;x[u]=t&4?(c+u&127)+64:0;u+=1;x[u]=t&2?(c+u&127)+64:0;u+=1;x[u]=t&1?(c+u&127)+64:0;u+=1}}};q.prototype.$H=function(a){var c,d=this.X,f=this.Wo;var n=this.J;var m=n.f>>4,r=n.o>>4,v=n.s;n=n.g;if(!this.G&&!this.ba)for(c=n;c<=v;c+=1){var x=a[c];var u=d[c];var t=m<<4;for(n=m;n<=r;n+=1){var B=x[n]>>8<<3;u[t]=
f[B];t+=1;u[t]=f[B+1];t+=1;u[t]=f[B+2];t+=1;u[t]=f[B+3];t+=1;u[t]=f[B+4];t+=1;u[t]=f[B+5];t+=1;u[t]=f[B+6];t+=1;u[t]=f[B+7];t+=1;B=(x[n]&255)<<3;u[t]=f[B];t+=1;u[t]=f[B+1];t+=1;u[t]=f[B+2];t+=1;u[t]=f[B+3];t+=1;u[t]=f[B+4];t+=1;u[t]=f[B+5];t+=1;u[t]=f[B+6];t+=1;u[t]=f[B+7];t+=1}}};q.prototype.Gj=function(a){var c=[],d,f;for(f=0;7>f;f+=1){var n=[];for(d=0;7>d;d+=1)n[d]=0;c[f]=n}for(f=0;3>f;f+=1)for(d=0;3>d;d+=1)c[f+2][d+2]=a[f][d];return c};q.prototype.Yw=function(){this.yl=this.Gj(k.DJ);this.xl=this.Gj(k.CJ);
this.Al=this.Gj(k.FJ);this.zl=this.Gj(k.EJ)};q.prototype.SJ=function(a,c,d){var f=this.ab,n=this.Ye,m=this.Jc,r=this.Ek,v=this.kd;var x=this.Zd?4278190080:255;this.$h=!1;this.Ab=this.width-1;this.Cb=this.height-1;this.J=new BoundingBox(0,0,this.width-1,this.height-1);this.Ha=new BoundingBox(0,0,this.width-1,this.height-1);this.Cf=new BoundingBox(0,0,this.width-1,this.height-1);this.Gd=new BoundingBox(0,0,this.width-1,this.height-1);new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.rz();
this.SF(c,d);n.fill(0);m.fill(f);v.fill(0);r.fill(x);this.Yw()};q.prototype.AI=function(){var a=0;this.jb[a]=new w("Mono",new h(new g(0,0,0),new g(0,0,0)),new h(new g(255,255,255),new g(255,255,255)),new g(0,0,0),new g(255,255,255),new h(new g(0,0,0),new g(-1,-1,-1)),new h(new g(0,0,0),new g(0,0,0)),new g(0,0,0));a+=1;this.jb[a]=new w("Blues",new h(new g(0,0,47),new g(0,0,255)),new h(new g(0,255,255),new g(255,255,255)),new g(0,0,0),new g(0,255,255),new h(new g(0,0,255),new g(-1,-1,-1)),new h(new g(0,
0,47),new g(0,0,128)),new g(0,0,0));a+=1;this.jb[a]=new w("Fire",new h(new g(32,0,0),new g(160,0,0)),new h(new g(255,144,0),new g(255,255,0)),new g(0,0,0),new g(255,144,0),new h(new g(240,0,0),new g(-1,-1,-1)),new h(new g(32,0,0),new g(160,0,0)),new g(0,0,0));a+=1;this.jb[a]=new w("Poison",new h(new g(0,24,0),new g(0,128,0)),new h(new g(0,255,255),new g(255,255,255)),new g(0,0,0),new g(0,255,255),new h(new g(0,192,0),new g(-1,-1,-1)),new h(new g(0,24,0),new g(0,128,0)),new g(0,0,0));a+=1;this.jb[a]=
new w("Yellow",new h(new g(0,47,0),new g(128,0,128)),new h(new g(255,255,0),new g(255,255,255)),new g(0,32,128),new g(255,255,0),new h(new g(192,64,64),new g(-1,-1,-1)),new h(new g(0,47,0),new g(128,0,128)),new g(0,32,128));a+=1;this.jb[a]=new w("Gray",new h(new g(16,16,16),new g(104,104,104)),new h(new g(176,176,176),new g(240,240,240)),new g(0,0,0),new g(240,240,240),new h(new g(160,160,160),new g(-1,-1,-1)),new h(new g(16,16,16),new g(104,104,104)),new g(0,0,0));a+=1;this.jb[a]=new w("Inverse",
new h(new g(255,255,255),new g(255,255,255)),new h(new g(0,0,0),new g(0,0,0)),new g(255,255,255),new g(0,0,0),new h(new g(255,255,255),new g(-1,-1,-1)),new h(new g(255,255,255),new g(255,255,255)),new g(255,255,255));a+=1;this.jb[a]=new w("Day",new h(new g(240,240,240),new g(0,255,255)),new h(new g(0,0,255),new g(0,0,0)),new g(255,255,255),new g(0,0,255),new h(new g(0,255,255),new g(-1,-1,-1)),new h(new g(240,240,240),new g(0,192,192)),new g(255,255,255));a+=1;this.jb[a]=new w("Occupied",new h(new g(240,
240,240),new g(240,240,240)),new h(new g(240,240,240),new g(240,240,240)),new g(0,0,0),new g(240,240,240),new h(new g(240,240,240),new g(240,240,240)),new h(new g(240,240,240),new g(240,240,240)),new g(0,0,0));a+=1;this.jb[a]=new w("Red",new h(new g(160,0,0),new g(160,0,0)),new h(new g(240,240,240),new g(240,240,240)),new g(0,0,0),new g(255,255,255),new h(new g(160,160,160),new g(160,160,160)),new h(new g(160,0,0),new g(160,0,0)),new g(0,0,0));a+=1;this.jb[a]=new w("LifeHistory",new h(new g(0,0,96),
new g(0,0,160)),new h(new g(0,240,0),new g(16,255,16)),new g(0,0,0),new g(16,255,16),new h(new g(0,128,160),new g(-1,-1,-1)),new h(new g(0,0,96),new g(0,0,160)),new g(0,0,0));a+=1;this.jb[a]=new w("Generations",new h(new g(64,0,0),new g(255,0,0)),new h(new g(255,255,0),new g(255,255,255)),new g(0,0,0),new g(255,255,0),new h(new g(255,0,0),new g(-1,-1,-1)),new h(new g(64,0,0),new g(128,0,0)),new g(0,0,0));a+=1;this.jb[a]=new w("Golly",new h(new g(48,48,48),new g(48,48,48)),new h(new g(255,255,255),
new g(255,255,255)),new g(48,48,48),new g(255,255,0),new h(new g(255,0,0),new g(-1,-1,-1)),new h(new g(48,48,48),new g(48,48,48)),new g(48,48,48));this.jb[a].no(10,new g(80,80,80),new g(112,112,112));a+=1;this.jb[a]=new w("MCell",new h(new g(0,0,0),new g(0,0,0)),new h(new g(255,255,0),new g(255,255,0)),new g(0,0,0),new g(255,255,0),new h(new g(0,255,0),new g(255,255,0)),new h(new g(0,0,0),new g(0,0,0)),new g(0,0,0));this.jb[a].no(5,new g(64,0,0),new g(99,3,1));a+=1;this.jb[a]=new w("Catagolue",new h(new g(160,
221,204),new g(160,221,204)),new h(new g(0,0,0),new g(0,0,0)),new g(192,255,238),new g(0,0,0),new h(new g(96,192,139),new g(2,129,2)),new h(new g(160,221,204),new g(160,221,204)),new g(192,255,238));this.jb[a].no(0,new g(160,221,204),new g(160,221,204));a+=1;this.jb[a]=new w("Caterer",new h(new g(54,57,62),new g(54,57,62)),new h(new g(255,255,255),new g(255,255,255)),new g(54,57,62),new g(255,170,0),new h(new g(255,85,0),new g(-1,-1,-1)),new h(new g(54,57,62),new g(54,57,62)),new g(54,57,62));this.jb[a].no(0,
new g(0,0,0),new g(0,0,0));a+=1;this.jb[a]=new w("Life32",new h(new g(255,255,255),new g(255,255,255)),new h(new g(0,0,128),new g(0,0,128)),new g(255,255,255),new g(0,0,128),new h(new g(0,0,64),new g(-1,-1,-1)),new h(new g(255,255,255),new g(255,255,255)),new g(255,255,255));this.jb[a].no(5,new g(192,192,192),new g(128,128,128));a+=1;this.jb[a]=new w("Margolus",new h(new g(0,0,47),new g(0,0,128)),new h(new g(255,255,0),new g(255,255,255)),new g(0,0,0),new g(255,255,0),new h(new g(64,64,128),new g(-1,
-1,-1)),new h(new g(0,0,47),new g(0,0,128)),new g(0,0,0));this.jb[a].no(2,new g(32,32,255),new g(64,64,128));a+=1;this.jb[a]=new w("PCA",new h(new g(24,24,24),new g(64,64,64)),new h(new g(176,176,176),new g(240,240,240)),new g(0,0,0),new g(240,240,240),new h(new g(160,160,160),new g(-1,-1,-1)),new h(new g(24,24,24),new g(64,64,64)),new g(0,0,0));a+=1;this.jb[a]=new w("Book",new h(new g(255,220,192),new g(192,220,255)),new h(new g(0,0,0),new g(0,0,0)),new g(255,255,255),new g(0,0,0),new h(new g(24,
24,24),new g(128,128,128)),new h(new g(255,220,192),new g(192,220,255)),new g(255,255,255));this.jb[a].no(0,new g(192,192,192),new g(209,209,209));this.jb[a+1]=new w(Keywords.jq,new h(new g(0,0,0),new g(0,0,0)),new h(new g(0,0,0),new g(0,0,0)),new g(0,0,0),new g(0,0,0),new h(new g(0,0,0),new g(0,0,0)),new h(new g(0,0,0),new g(0,0,0)),new g(0,0,0));this.Je=this.jb.length-1;this.Be=new h(new g(0,0,0),new g(0,0,0));this.Zb=new h(new g(0,0,0),new g(0,0,0));this.We=new g(0,0,0);this.vg=new g(0,0,0);this.Ue=
new h(new g(0,0,0),new g(0,0,0));this.rf=new h(new g(0,0,0),new g(0,0,0));this.Gh=new g(0,0,0);this.yd=new h(new g(0,0,0),new g(0,0,0));this.Pb=new h(new g(0,0,0),new g(0,0,0));this.he=new g(0,0,0);this.Pf=new g(0,0,0);this.Td=new h(new g(0,0,0),new g(0,0,0));this.Te=new h(new g(0,0,0),new g(0,0,0));this.Zf=new g(0,0,0)};q.prototype.iM=function(a,c,d){var f=this.jb[a],n=this.pl;this.yf=a;this.Be.set(this.yd);this.Zb.set(this.Pb);this.We.set(this.he);this.vg.set(this.Pf);this.rf.set(this.Te);this.Ue.set(this.Td);
this.Gh.set(this.Zf);this.yd.set(f.qb);this.Pb.set(f.gb);this.he.set(f.ab);this.Pf.set(f.kg);this.Te.set(f.Dc);this.Td.set(f.Ub);this.Zf.set(f.Ci);this.pn=c;this.pl=f.MJ(this.Ia);n&&!this.pl&&!this.oa&&2>=this.c&&this.Nw();this.Fd=f.uh;this.Xf=f.vh;a!==this.Je&&this.ha?this.Bf=2:this.Bf=f.Jn;this.Zd?(this.Tf=-16777216|(this.Fd&255)<<16|(this.Fd>>8&255)<<8|this.Fd>>16,this.Rf=-16777216|(this.Xf&255)<<16|(this.Xf>>8&255)<<8|this.Xf>>16):(this.Tf=this.Fd>>16<<24|(this.Fd>>8&255)<<16|(this.Fd&255)<<8|
255,this.Rf=this.Xf>>16<<24|(this.Xf>>8&255)<<16|(this.Xf&255)<<8|255);d.hD()};q.prototype.Rx=function(){this.Kd?this.$w():this.ax()};q.prototype.$w=function(){var a=this.Lo,c;for(c=0;512>c;c+=1){var d=c&128;var f=c&256;var n=c&127;var m=0;0!==d&&(m=(n+1&127)+64<<8);0!==f&&(m|=(n&127)+64);a[c]=m}};q.prototype.ax=function(){var a=this.Lo,c=this.ie,d=this.vb,f=this.Mk,n=this.Xd,m,r=new Uint8Array(256);r[0]=0;r[c+1]=d;for(m=1;m<c+1;m+=1)r[m]=Math.min(Math.max(m-1,f),n),r[m+c+1]=Math.max(Math.min(m+1,
c),d);if(0===this.L)for(m=this.vb;m<=this.ie;m+=1)r[m]=0;else this.L<this.Xd&&(r[this.Xd-this.L]=0);for(m=0;65536>m;m+=1)a[m]=r[m>>8]<<8|r[m&255]};q.prototype.gL=function(){var a;for(a=0;a<this.jb.length;a+=1){var c=this.jb[a];if(c.am)if(2>=this.c)c.Ub.W.set(c.kg);else{var d=1/(this.c-2);c.Ub.W.red=c.Ub.V.red*d+c.kg.red*(1-d)|0;c.Ub.W.green=c.Ub.V.green*d+c.kg.green*(1-d)|0;c.Ub.W.blue=c.Ub.V.blue*d+c.kg.blue*(1-d)|0}}};q.prototype.oD=function(){var a;var c=(this.pn-1)/this.Rl;if(!this.Ja)if(this.M)for(a=
0;a<k.wt.length;a+=1)this.Pa[a+this.L]=k.wt[a][0],this.Oa[a+this.L]=k.wt[a][1],this.Na[a+this.L]=k.wt[a][2];else if(2<this.c||this.ba){a=0;this.ba?(this.Pa[a]=this.$d[a]>>16,this.Oa[a]=this.$d[a]>>8&255,this.Na[a]=this.$d[a]&255):(this.Pa[a]=this.Gh.red*c+this.Zf.red*(1-c),this.Oa[a]=this.Gh.green*c+this.Zf.green*(1-c),this.Na[a]=this.Gh.blue*c+this.Zf.blue*(1-c));for(a=1;a<this.c-1;a+=1){var d=3>=this.c?0:(a-1)/(this.c-3);if(this.G&&18<=this.yf)this.Pa[a+this.L]=k.No[a][0],this.Oa[a+this.L]=k.No[a][1],
this.Na[a+this.L]=k.No[a][2];else if(this.ba)this.Pa[a]=this.$d[a]>>16,this.Oa[a]=this.$d[a]>>8&255,this.Na[a]=this.$d[a]&255;else{var f=this.Ue.W.red*d+this.Ue.V.red*(1-d);var n=this.Td.W.red*d+this.Td.V.red*(1-d);this.Pa[a+this.L]=f*c+n*(1-c);f=this.Ue.W.green*d+this.Ue.V.green*(1-d);n=this.Td.W.green*d+this.Td.V.green*(1-d);this.Oa[a+this.L]=f*c+n*(1-c);f=this.Ue.W.blue*d+this.Ue.V.blue*(1-d);n=this.Td.W.blue*d+this.Td.V.blue*(1-d);this.Na[a+this.L]=f*c+n*(1-c)}this.kc&&this.kc.length>=a&&(d=this.oa||
this.G||this.ba?this.kc[a]:this.kc[this.c-a],-1!==d&&(this.Pa[a+this.L]=d>>16,this.Oa[a+this.L]=d>>8&255,this.Na[a+this.L]=d&255))}a=this.c-1;this.G&&18<=this.yf?(this.Pa[a+this.L]=k.No[a][0],this.Oa[a+this.L]=k.No[a][1],this.Na[a+this.L]=k.No[a][2]):this.ba?(this.Pa[a]=this.$d[a]>>16,this.Oa[a]=this.$d[a]>>8&255,this.Na[a]=this.$d[a]&255):(this.Pa[a+this.L]=this.vg.red*c+this.Pf.red*(1-c),this.Oa[a+this.L]=this.vg.green*c+this.Pf.green*(1-c),this.Na[a+this.L]=this.vg.blue*c+this.Pf.blue*(1-c));this.kc&&
this.kc.length>=a&&(d=this.oa||this.G||this.ba?this.kc[a]:this.kc[this.c-a],-1!==d&&(this.Pa[a+this.L]=d>>16,this.Oa[a+this.L]=d>>8&255,this.Na[a+this.L]=d&255));for(a=0;a<this.L;a+=1)d=1<this.L?1-a/(this.L-1):1,f=this.rf.V.red*d+this.rf.W.red*(1-d),n=this.Te.V.red*d+this.Te.W.red*(1-d),this.Pa[a+1]=f*c+n*(1-c),f=this.rf.V.green*d+this.rf.W.green*(1-d),n=this.Te.V.green*d+this.Te.W.green*(1-d),this.Oa[a+1]=f*c+n*(1-c),f=this.rf.V.blue*d+this.rf.W.blue*(1-d),n=this.Te.V.blue*d+this.Te.W.blue*(1-d),
this.Na[a+1]=f*c+n*(1-c);this.kc&&0<this.kc.length&&(d=this.kc[0],-1!==d&&(this.Pa[0]=d>>16,this.Oa[0]=d>>8&255,this.Na[0]=d&255))}else{a=0;this.Pa[a]=this.We.red*c+this.he.red*(1-c);this.Oa[a]=this.We.green*c+this.he.green*(1-c);this.Na[a]=this.We.blue*c+this.he.blue*(1-c);if(0===this.L)for(a=1;a<=this.Xd;a+=1)this.Pa[a]=this.We.red*c+this.he.red*(1-c),this.Oa[a]=this.We.green*c+this.he.green*(1-c),this.Na[a]=this.We.blue*c+this.he.blue*(1-c);else{var m=this.Xd-this.L+1;for(a=1;a<m;a+=1)this.Pa[a]=
this.Zb.V.red*c+this.Pb.V.red*(1-c),this.Oa[a]=this.Zb.V.green*c+this.Pb.V.green*(1-c),this.Na[a]=this.Zb.V.blue*c+this.Pb.V.blue*(1-c);for(a=m;a<=this.Xd;a+=1)d=this.Xd===m?1:1-(a-m)/(this.Xd-m),f=this.Zb.V.red*d+this.Zb.W.red*(1-d),n=this.Pb.V.red*d+this.Pb.W.red*(1-d),this.Pa[a]=f*c+n*(1-c),f=this.Zb.V.green*d+this.Zb.W.green*(1-d),n=this.Pb.V.green*d+this.Pb.W.green*(1-d),this.Oa[a]=f*c+n*(1-c),f=this.Zb.V.blue*d+this.Zb.W.blue*(1-d),n=this.Pb.V.blue*d+this.Pb.W.blue*(1-d),this.Na[a]=f*c+n*(1-
c)}for(a=this.vb;a<=this.ie;a+=1)d=1-(a-this.vb)/(this.ie-this.vb),f=this.Be.V.red*d+this.Be.W.red*(1-d),n=this.yd.V.red*d+this.yd.W.red*(1-d),this.Pa[a]=f*c+n*(1-c),f=this.Be.V.green*d+this.Be.W.green*(1-d),n=this.yd.V.green*d+this.yd.W.green*(1-d),this.Oa[a]=f*c+n*(1-c),f=this.Be.V.blue*d+this.Be.W.blue*(1-d),n=this.yd.V.blue*d+this.yd.W.blue*(1-d),this.Na[a]=f*c+n*(1-c)}};q.prototype.pD=function(a,c){var d=this.Pa,f=this.Oa,n=this.Na,m;for(m=0;m<a.length;m+=1){var r=c&&-1!==c[m]?c[m]:a[m];d[m]=
r>>16;f[m]=r>>8&255;n[m]=r&255}this.pn=0};q.prototype.BI=function(a,c){var d=this.Pa,f=this.Oa,n=this.Na,m=ViewConstants.Sa,r;for(r=0;r<a.length;r+=1)c&&-1!==c[r]?(d[128+m[r]]=c[r]>>16,f[128+m[r]]=c[r]>>8&255,n[128+m[r]]=c[r]&255):(d[128+m[r]]=a[r]>>16,f[128+m[r]]=a[r]>>8&255,n[128+m[r]]=a[r]&255)};q.prototype.Ed=function(a){this.Kd?this.dx(a):this.cx(a)};q.prototype.dx=function(a){var c=this.te,d,f=255,n=15,m=15,r=0,v=0,x=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],u=this.Pa,t=this.Oa,B=
this.Na,b=this.xg,l=this.O&&this.be||this.P,e=this.Fd,p=this.Xf;for(d=1;240>=d;d+=1)c[d]=this.Zd?-16777216|m*a<<16|n*a<<8|f*a:f*a<<24|n*a<<16|m*a<<8|255,f+=6*x[v][0],n+=6*x[v][1],m+=6*x[v][2],r+=1,40===r&&(r=0,v+=1);for(d=0;128>d;d+=1)r=240*(d+1)/128|0,c[d]=c[r];for(d=127;0<=d;--d)c[d+64]=c[d],l&&(this.Zd?(f=c[d]&255,n=c[d]>>8&255,m=c[d]>>16&255):(f=c[d]>>24,n=c[d]>>16&255,m=c[d]>>8&255),b[d+64]="#"+(16777216+((f<<16)+(n<<8)+m)).toString(16).substr(1));c[0]=this.Zd?-16777216|B[0]*a<<16|t[0]*a<<8|
u[0]*a:u[0]*a<<24|t[0]*a<<16|B[0]*a<<8|255;this.Zd?(this.Tf=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.Rf=-16777216|(p&255)<<16|(p>>8&255)<<8|p>>16):(this.Tf=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255,this.Rf=p>>16<<24|(p>>8&255)<<16|(p&255)<<8|255);-1!==this.ua&&(d=this.wb,c[d]=this.Zd?-16777216|B[d]*a<<16|t[d]*a<<8|u[d]*a:u[d]*a<<24|t[d]*a<<16|B[d]*a<<8|255)};q.prototype.cx=function(a){var c=this.Pa,d=this.Oa,f=this.Na,n=this.te,m=this.Fd,r=this.Xf,v=this.xg,x=this.O&&this.be||this.P,u;if(2<this.c)if(this.M&&
!this.Qf)if(this.Zd)for(u=0;u<=this.c+this.L;u+=1)n[u]=-16777216|f[u&1]*a<<16|d[u&1]*a<<8|c[u&1]*a;else for(u=0;u<=this.c+this.L;u+=1)n[u]=c[u&1]*a<<24|d[u&1]*a<<16|f[u&1]*a<<8|255;else if(this.Zd)for(u=0;u<=this.c+this.L;u+=1)n[u]=-16777216|f[u]*a<<16|d[u]*a<<8|c[u]*a,x&&(v[u]="#"+(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));else for(u=0;u<=this.c+this.L;u+=1)n[u]=c[u]*a<<24|d[u]*a<<16|f[u]*a<<8|255,x&&(v[u]="#"+(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));else if(this.Zd){for(u=
0;u<this.vb;u+=1)n[u]=-16777216|f[u]<<16|d[u]<<8|c[u],x&&(v[u]="#"+(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));for(u=this.vb;u<=this.ie;u+=1)n[u]=-16777216|f[u]*a<<16|d[u]*a<<8|c[u]*a,x&&(v[u]="#"+(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));for(u=this.ie+1;256>u;u+=1)n[u]=-16777216|f[u]*a<<16|d[u]*a<<8|c[u]*a,x&&(v[u]="#"+(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1))}else{for(u=0;u<this.vb;u+=1)n[u]=c[u]<<24|d[u]<<16|f[u]<<8|255,x&&(v[u]="#"+
(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));for(u=this.vb;u<=this.ie;u+=1)n[u]=c[u]*a<<24|d[u]*a<<16|f[u]*a<<8|255,x&&(v[u]="#"+(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));for(u=this.ie+1;256>u;u+=1)n[u]=c[u]*a<<24|d[u]*a<<16|f[u]*a<<8|255,x&&(v[u]="#"+(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1))}this.Zd?(this.Tf=-16777216|(m&255)<<16|(m>>8&255)<<8|m>>16,this.Rf=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.Tf=m>>16<<24|(m>>8&255)<<16|(m&
255)<<8|255,this.Rf=r>>16<<24|(r>>8&255)<<16|(r&255)<<8|255);-1!==this.ua&&(u=this.wb,n[u]=this.Zd?-16777216|f[u]*a<<16|d[u]*a<<8|c[u]*a:c[u]*a<<24|d[u]*a<<16|f[u]*a<<8|255,x&&(v[u]="#"+(16777216+((c[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1)))};q.prototype.YL=function(){var a=this.Pa,c=this.Oa,d=this.Na;this.wb=-1!==this.ua&&256===this.c+this.L?2:255;-1!==this.ua&&256>this.c+this.L&&(this.Zd?(a[this.wb]=this.Nl&255,c[this.wb]=this.Nl>>8&255,d[this.wb]=this.Nl>>16&255):(a[this.wb]=this.Nl>>24,
c[this.wb]=this.Nl>>16&255,d[this.wb]=this.Nl>>8&255))};q.prototype.Cq=function(a){var c=this.Bg,d=this.X,f=this.Fa,n=this.zc,m=this.Yb,r=this.xe,v=this.ca,x=this.Da,u=this.xa,t=this.ka,B=this.ab;this.cd.eb.fill(0);c.eb.fill(0);a||(d.eb.fill(B),f&&f.eb.fill(B),n.eb.fill(B),m&&(m.eb.fill(B),r.eb.fill(B)));v.eb.fill(0);t.eb.fill(0);a||(x.eb.fill(0),u.eb.fill(0))};q.prototype.Fk=function(a,c){var d=k.YD,f;for(f=0;f<d;f+=1)a[f]=c[f]};q.prototype.Hj=function(a,c){var d=k.ou,f;for(f=0;f<d;f+=1){var n=c[f>>
9&448|f>>6&56|f>>3&7]<<3;n|=c[f>>8&448|f>>5&56|f>>2&7]<<2;n|=c[f>>7&448|f>>4&56|f>>1&7]<<1;n|=c[f>>6&448|f>>3&56|f&7];a[f]=n}};q.prototype.xh=function(a,c,d){if(d){var f=new Uint8Array(16);for(d=0;16>d;d+=1){var n=c[d];f[n]=d}for(d=0;d<k.Kn;d+=1)n=(f[d>>12]&1)<<2,n|=(f[d>>8&15]&2)<<2,n|=(f[d>>4&15]&4)>>2,n|=(f[d&15]&8)>>2,a[d]=n}else for(d=0;d<k.Kn;d+=1)n=(d>>12&1)<<2,n|=(d>>8&2)<<2,n|=(d>>4&4)>>2,n|=(d&8)>>2,a[d]=c[n]};q.prototype.qf=function(a,c){var d,f,n,m;for(d=0;d<k.fm;d+=1){var r=d>>8;var v=
d&255;var x=192;var u=6;for(f=m=n=0;4>f;f+=1){var t=0===u?(v&x)<<2|r&x:(v&x)>>u-2|(r&x)>>u;t=(t&8)>>1|(t&4)<<1|(t&2)>>1|(t&1)<<1;t=c[t];t=(t&8)>>1|(t&4)<<1|(t&2)>>1|(t&1)<<1;n<<=2;m<<=2;n|=t>>2&3;m|=t&3;x>>=2;u-=2}a[d]=m<<8|n}};q.prototype.pd=function(a,c){var d,f=0,n=!0,m=new Uint8Array(16);for(d=0;n&&16>d;){var r=1<<a[d];0!==(f&r)?n=!1:(f|=r,d+=1)}if(n){for(d=0;16>d;d+=1)f=a[d],m[f]=d;c&&a.set(m)}return n};q.prototype.op=function(a,c){var d;for(d=0;16>d;d+=1)c[d]=a[15-d];for(d=0;16>d;d+=1)a[d]=
15-a[d]};q.prototype.ix=function(){var a=this.ve,c,d,f,n,m,r=this.ll,v=this.pk,x=this.qk;for(c=0;1<<c<a;)c+=1;var u=(this.eg+1)*c;if(u<=k.lK){this.ge=this.l.K(Uint8,1<<u,"Life.ruleTreeLookup");u=this.sw=c;var t=u+c;var B=t+c;var b=B+c;if(4===this.eg)for(c=0;c<a;c+=1)for(f=0;f<a;f+=1)for(m=0;m<a;m+=1)for(n=0;n<a;n+=1)for(d=0;d<a;d+=1){var l=c<<u|f<<t|m<<B|n<<b|d;this.ge[l]=x[v[v[v[v[r+c]+n]+f]+d]+m]}else this.ge=null}else this.ge=null};q.prototype.HM=function(a){var c=this.P?this.v.ZA:this.v.lj,d=
this.P?this.v.VA:this.v.UA,f=this.v.oc,n=this.P?k.YD:k.NJ,m=!1,r,v=null,x=c.length;this.oc=f;if(this.ba)this.ge=null,this.ix();else{if(this.oc){if(this.ha||this.G)x=16;var u=0;for(r=!0;u<x&&r;)c[u]!==d[u]?r=!1:u+=1;r&&(this.oc=!1,u=a.ub.indexOf("|"),-1!==u&&(a.ub=a.ub.substr(0,u)),u=a.hd.indexOf("|"),-1!==u&&(a.hd=a.hd.substr(0,u)));if(this.oc&&(this.ha||this.G))for(u=0;u<x;u+=1)a=c[u],c[u]=d[u],d[u]=a}this.fe=this.Ec=this.tf=this.ee=this.Ei=this.Bh=this.Vf=this.Ah=null;if(this.G)this.ee=this.l.K(Uint16,
k.Kn,"Life.PCALookup1"),f?(this.tf=this.l.K(Uint16,k.Kn,"Life.PCALookup2"),this.xh(this.tf,c,!1),this.xh(this.ee,d,!1),this.pd(c,!1)&&this.pd(d,!1)&&(this.Ec=this.l.K(Uint16,k.Kn,"Life.PCAReverseLookup1"),this.fe=this.l.K(Uint16,k.Kn,"Life.PCAReverseLookup2"),this.pd(d,!1),this.xh(this.Ec,d,!0),this.pd(c,!1),this.xh(this.fe,c,!0))):(this.xh(this.ee,c,!1),this.pd(c,!1)&&(this.Ec=this.l.K(Uint16,k.Kn,"Life.PCAsReverseLookup1"),this.xh(this.Ec,c,!0)));else if(this.ha){this.ee=this.l.K(Uint16,k.fm,"Life.margolusLookup1");
if(15===c[0]&&0===c[15]){f=this.oc=!0;v=new Uint8Array(16);for(u=0;16>u;u+=1)v[u]=c[u];this.op(c,d)}f?(this.tf=this.l.K(Uint16,k.fm,"Life.margolusLookup2"),this.qf(this.tf,c),this.qf(this.ee,d),v&&this.pd(v,!0)?(this.Ec=this.l.K(Uint16,k.fm,"Life.margolusReverseLookup1"),this.fe=this.l.K(Uint16,k.fm,"Life.margolusReverseLookup2"),this.op(v,d),this.qf(this.Ec,d),this.qf(this.fe,v)):this.pd(c,!1)&&this.pd(d,!1)&&(this.Ec=this.l.K(Uint16,k.fm,"Life.margolusReverseLookup1"),this.fe=this.l.K(Uint16,k.fm,
"Life.margolusReverseLookup2"),this.pd(c,!0),this.qf(this.Ec,c),this.pd(d,!0),this.qf(this.fe,d))):(this.qf(this.ee,c),this.pd(c,!0)&&(this.Ec=this.l.K(Uint16,k.fm,"Life.margolusReverseLookup1"),this.qf(this.Ec,c)))}else if(this.P)this.Bh=this.l.K(Uint8,k.XD,"Life.indexLookupTri1"),f?(this.Ei=this.l.K(Uint8,k.XD,"Life.indexLookupTri2"),this.Fk(this.Ei,c),this.Fk(this.Bh,d)):this.Fk(this.Bh,c);else{this.Ah=this.l.K(Uint8,k.ou,"Life.indexLookup63");if(-1===this.Pd&&c[0]){if(!c[n-1]){for(u=0;u<n/2;u+=
1)a=c[u],c[u]=c[n-u-1],c[n-u-1]=a;m=!0;this.Vf=this.l.K(Uint8,k.ou,"Life.indexLookup632");this.Hj(this.Vf,c)}for(u=0;u<n/2;u+=1)a=c[u],c[u]=1-c[n-u-1],c[n-u-1]=1-a}this.oc?(this.Vf=this.l.K(Uint8,k.ou,"Life.indexLookup632"),this.Hj(this.Vf,c),this.Hj(this.Ah,d)):(this.Hj(this.Ah,c),m&&(this.oc=!0))}}};q.prototype.B=function(a){var c=0;0!==(a&32768)?c=0:0!==(a&16384)?c=1:0!==(a&8192)?c=2:0!==(a&4096)?c=3:0!==(a&2048)?c=4:0!==(a&1024)?c=5:0!==(a&512)?c=6:0!==(a&256)?c=7:0!==(a&128)?c=8:0!==(a&64)?c=
9:0!==(a&32)?c=10:0!==(a&16)?c=11:0!==(a&8)?c=12:0!==(a&4)?c=13:0!==(a&2)?c=14:0!==(a&1)&&(c=15);return c};q.prototype.N=function(a){var c=0;0!==(a&1)?c=15:0!==(a&2)?c=14:0!==(a&4)?c=13:0!==(a&8)?c=12:0!==(a&16)?c=11:0!==(a&32)?c=10:0!==(a&64)?c=9:0!==(a&128)?c=8:0!==(a&256)?c=7:0!==(a&512)?c=6:0!==(a&1024)?c=5:0!==(a&2048)?c=4:0!==(a&4096)?c=3:0!==(a&8192)?c=2:0!==(a&16384)&&(c=1);return c};q.prototype.bx=function(a){var c=this.Yb,d=this.ca,f=this.width,n=this.height,m,r=this.J.s,v=this.J.g,x=this.J.f,
u=this.J.o,t,B;for(t=0;t<n;t+=1){var b=c[t];var l=d[t>>4];for(B=m=0;B<f;B+=1)0!==b[B]&&(l[B>>8]|=1<<(~(B>>4)&15),m|=b[B],B<x&&(x=B),B>u&&(u=B));m&&(t<v&&(v=t),t>r&&(r=t))}a||(this.J.s=r,this.J.g=v,this.J.f=x,this.J.o=u)};q.prototype.yJ=function(){var a,c,d,f=this.Za,n=this.ka,m=this.ca,r,v=this.ra,x=this.pa>>4,u=this.kd;var t=0;var B=t+16;m.eb.fill(0);for(c=0;c<v;c+=1){var b=0;var l=n[c];var e=m[c];var p=0<c?m[c-1]:u;var y=c<v-1?m[c+1]:u;l[0]&=32767;l[x-1]&=65534;for(d=0;d<x;d+=1)if(r=l[d]){var z=
e[d];var A=p[d];var C=y[d];for(a=15;0<=a;--a){if(0!==(r&1<<a)){var D=!1;var G=0;var H=t;var I=f[H];if(I=I[b])D=!0,0!==(I&32768)&&(G|=k.Db,G|=k.Kb),0!==(I&1)&&(G|=k.cb,G|=k.Lb),G|=k.Bb;for(H+=1;H<B-1;){I=f[H];if(I=I[b])D=!0,0!==(I&32768)&&(G|=k.Db),0!==(I&1)&&(G|=k.cb);H+=1}I=f[H];if(I=I[b])D=!0,0!==(I&32768)&&(G|=k.Db,G|=k.Qb),0!==(I&1)&&(G|=k.cb,G|=k.nb),G|=k.ob;D&&(z|=1<<a,G&&(0!==(G&k.Db)&&(15>a?z|=1<<a+1:0<d&&(e[d-1]|=1)),0!==(G&k.cb)&&(0<a?z|=1<<a-1:d<x-1&&(e[d+1]|=32768)),0!==(G&k.Bb)&&(A|=
1<<a),0!==(G&k.ob)&&(C|=1<<a),0!==(G&k.Kb)&&(15>a?A|=1<<a+1:0<d&&(p[d-1]|=1)),0!==(G&k.Lb)&&(0<a?A|=1<<a-1:d<x-1&&(p[d+1]|=32768)),0!==(G&k.Qb)&&(15>a?C|=1<<a+1:0<d&&(y[d-1]|=1)),0!==(G&k.nb)&&(0<a?C|=1<<a-1:d<x-1&&(y[d+1]|=32768))))}b+=1}e[d]|=z;0<c&&(p[d]|=A);c<v-1&&(y[d]|=C)}else b+=16;t+=16;B+=16}u.fill(0)};q.prototype.OJ=function(){var a,c,d,f=this.Za,n=this.ka,m=this.X,r=this.ca,v,x=this.ra,u=this.pa>>4,t=this.kd;var B=0;var b=B+16;r.eb.fill(0);for(c=0;c<x;c+=1){var l=0;var e=n[c];var p=r[c];
var y=0<c?r[c-1]:t;var z=c<x-1?r[c+1]:t;e[0]&=32767;e[u-1]&=65534;for(d=0;d<u;d+=1)if(v=e[d]){var A=p[d];var C=y[d];var D=z[d];for(a=15;0<=a;--a){if(0!==(v&1<<a)){var G=!1;var H=0;var I=B;var E=f[I];var F=m[I];E=E[l];var P=l<<4;0<F[P]&&(E|=32768);P+=1;0<F[P]&&(E|=16384);P+=1;0<F[P]&&(E|=8192);P+=1;0<F[P]&&(E|=4096);P+=1;0<F[P]&&(E|=2048);P+=1;0<F[P]&&(E|=1024);P+=1;0<F[P]&&(E|=512);P+=1;0<F[P]&&(E|=256);P+=1;0<F[P]&&(E|=128);P+=1;0<F[P]&&(E|=64);P+=1;0<F[P]&&(E|=32);P+=1;0<F[P]&&(E|=16);P+=1;0<F[P]&&
(E|=8);P+=1;0<F[P]&&(E|=4);P+=1;0<F[P]&&(E|=2);P+=1;0<F[P]&&(E|=1);E&&(G=!0,0!==(E&32768)&&(H|=k.Db,H|=k.Kb),0!==(E&1)&&(H|=k.cb,H|=k.Lb),H|=k.Bb);for(I+=1;I<b-1;)E=f[I],F=m[I],E=E[l],P=l<<4,0<F[P]&&(E|=32768),P+=1,0<F[P]&&(E|=16384),P+=1,0<F[P]&&(E|=8192),P+=1,0<F[P]&&(E|=4096),P+=1,0<F[P]&&(E|=2048),P+=1,0<F[P]&&(E|=1024),P+=1,0<F[P]&&(E|=512),P+=1,0<F[P]&&(E|=256),P+=1,0<F[P]&&(E|=128),P+=1,0<F[P]&&(E|=64),P+=1,0<F[P]&&(E|=32),P+=1,0<F[P]&&(E|=16),P+=1,0<F[P]&&(E|=8),P+=1,0<F[P]&&(E|=4),P+=1,0<
F[P]&&(E|=2),P+=1,0<F[P]&&(E|=1),E&&(G=!0,0!==(E&32768)&&(H|=k.Db),0!==(E&1)&&(H|=k.cb)),I+=1;E=f[I];F=m[I];E=E[l];P=l<<4;0<F[P]&&(E|=32768);P+=1;0<F[P]&&(E|=16384);P+=1;0<F[P]&&(E|=8192);P+=1;0<F[P]&&(E|=4096);P+=1;0<F[P]&&(E|=2048);P+=1;0<F[P]&&(E|=1024);P+=1;0<F[P]&&(E|=512);P+=1;0<F[P]&&(E|=256);P+=1;0<F[P]&&(E|=128);P+=1;0<F[P]&&(E|=64);P+=1;0<F[P]&&(E|=32);P+=1;0<F[P]&&(E|=16);P+=1;0<F[P]&&(E|=8);P+=1;0<F[P]&&(E|=4);P+=1;0<F[P]&&(E|=2);P+=1;0<F[P]&&(E|=1);E&&(G=!0,0!==(E&32768)&&(H|=k.Db,H|=
k.Qb),0!==(E&1)&&(H|=k.cb,H|=k.nb),H|=k.ob);G&&(A|=1<<a,H&&(0!==(H&k.Db)&&(15>a?A|=1<<a+1:0<d&&(p[d-1]|=1)),0!==(H&k.cb)&&(0<a?A|=1<<a-1:d<u-1&&(p[d+1]|=32768)),0!==(H&k.Bb)&&(C|=1<<a),0!==(H&k.ob)&&(D|=1<<a),0!==(H&k.Kb)&&(15>a?C|=1<<a+1:0<d&&(y[d-1]|=1)),0!==(H&k.Lb)&&(0<a?C|=1<<a-1:d<u-1&&(y[d+1]|=32768)),0!==(H&k.Qb)&&(15>a?D|=1<<a+1:0<d&&(z[d-1]|=1)),0!==(H&k.nb)&&(0<a?D|=1<<a-1:d<u-1&&(z[d+1]|=32768))))}l+=1}p[d]|=A;0<c&&(y[d]|=C);c<x-1&&(z[d]|=D)}else l+=16;B+=16;b+=16}t.fill(0)};q.prototype.Zh=
function(){var a,c,d=this.width>>4,f=this.height,n=this.width,m=this.Yb;var r=this.X;var v=this.J,x=this.Ha,u=this.Cf,t=this.height,B=-1,b=this.width,l=-1,e=this.height,p=-1,y=this.width,z=-1,A,C=this.aa;if(this.Ih){this.Ih=!1;(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(r=this.Fa);var D=0!==(this.counter&1)?this.Mb:this.Za;if(m)for(c=0;c<f;c+=1){var G=m[c];for(a=A=0;a<n;a+=1){var H=G[a];A|=H;H&&(a<y&&(y=a),a>z&&(z=a))}A&&(c<e&&(e=c),c>p&&(p=c))}C.fill(0);if(-1!==this.c)for(c=0;c<f;c+=1){d=r[c];
for(a=A=0;a<n;a+=1)H=d[a],A|=H,H&&(a<b&&(b=a),a>l&&(l=a));A&&(c<t&&(t=c),c>B&&(B=c))}else{for(c=0;c<f;c+=1){r=D[c];for(a=A=0;a<d;a+=1)H=r[a],A|=H,C[a]|=H;A&&(c<t&&(t=c),c>B&&(B=c))}for(a=0;a<d;a+=1)C[a]&&(a<b&&(b=a),a>l&&(l=a));b=(b<<4)+this.B(C[b]);l=(l<<4)+this.N(C[l])}if(0>B||t>=f||b>=n||0>l)t=B=f>>1,l=b=n>>1;m&&(p<B&&(B=p),e>t&&(t=e),y<b&&(b=y),z>l&&(l=z));B>this.height-1&&(B=this.height-1);0>t&&(t=0);0>b&&(b=0);l>this.width-1&&(l=this.width-1);v.s=B;v.g=t;v.f=b;v.o=l;x.s=B;x.g=t;x.f=b;x.o=l;
u.s=B;u.g=t;u.f=b;u.o=l}};q.prototype.RA=function(a){var c,d,f=this.width>>4,n=this.height,m=this.width,r=this.Yb;var v=this.X;var x=this.J,u=this.Ha,t=this.Cf,B=this.height,b=-1,l=this.width,e=-1,p=this.height,y=-1,z=this.width,A=-1,C,D=this.aa,G=this.Da,H=this.xa;if(0!==(this.counter&1)){var I=this.Mb;var E=this.ka;var F=this.ca}else I=this.Za,E=this.ca,F=this.ka;if(r&&!a)for(d=0;d<n;d+=1){var P=r[d];for(c=C=0;c<m;c+=1){var K=P[c];C|=K;K&&(c<z&&(z=c),c>A&&(A=c))}C&&(d<p&&(p=d),d>y&&(y=d))}D.fill(0);
F.eb.fill(0);if(-1!==this.c)for(d=0;d<n;d+=1){f=v[d];for(c=C=0;c<m;c+=1)K=f[c],C|=K,K&&(c<l&&(l=c),c>e&&(e=c));C&&(d<B&&(B=d),d>b&&(b=d))}else{for(d=0;d<n;d+=1){v=I[d];for(c=C=0;c<f;c+=1)K=v[c],C|=K,D[c]|=K;C&&(d<B&&(B=d),d>b&&(b=d))}for(c=0;c<f;c+=1)D[c]&&(c<l&&(l=c),c>e&&(e=c));l=(l<<4)+this.B(D[l]);e=(e<<4)+this.N(D[e])}if(0>b||B>=n||l>=m||0>e)B=b=n>>1,e=l=m>>1,y=b,p=B,z=l,A=e;r&&!a&&(y<b&&(b=y),p>B&&(B=p),z<l&&(l=z),A>e&&(e=A));b>this.height-1&&(b=this.height-1);0>B&&(B=0);0>l&&(l=0);e>this.width-
1&&(e=this.width-1);x.s=b;x.g=B;x.f=l;x.o=e;u.s=b;u.g=B;u.f=l;u.o=e;t.s=b;t.g=B;t.f=l;t.o=e;0<l&&--l;0<B&&--B;e<this.width-1&&(e+=1);b<this.height-1&&(b+=1);K=b>>4;l>>=8;e>>=8;for(d=B>>4;d<=K;d+=1)for(B=F[d],c=l;c<=e;c+=1)B[c]=-1;-1!==this.c?this.OJ():this.yJ();r&&(this.bx(a),t.s=x.s,t.g=x.g,t.f=x.f,t.o=x.o);Array.Ni(E,F);Array.Ni(E,G);Array.Ni(E,H)};q.prototype.Ew=function(a,c){var d=this.ha?-1:0;var f=Math.round((this.width-this.wa)/2)+d,n=Math.round((this.height-this.ta)/2)+d,m=f+this.wa-1,r=n+
this.ta-1,v=f-a>>4,x=m+a>>4,u=f-a>>4,t=m+a>>4,B=~(1<<(~(f-a)&15)),b=~(1<<(~(m+a)&15)),l=this.ng,e=0;if(!this.G||this.ba){d=0!==(this.counter&1)?this.Mb:this.Za;var p=d[r+a];var y=d[n-a];if(0===this.wa)for(x=this.width>>4,v=0;v<x;v+=1)e+=l[y[v]],y[v]=0,e+=l[p[v]],p[v]=0;else if(0===this.ta)for(n=0,r=this.height,x=0;x<r;x+=1)p=d[x],p[u]&~B&&(e+=1),p[u]&=B,p[t]&~b&&(e+=1),p[t]&=b;else{for(;v<=x;v+=1)e+=l[y[v]],y[v]=0,e+=l[p[v]],p[v]=0;for(x=n-a+1;x<=r+a-1;x+=1)p=d[x],p[u]&~B&&(e+=1),p[u]&=B,p[t]&~b&&
(e+=1),p[t]&=b}c&&(this.na-=e)}if(-1!==this.c)if(d=this.X,(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(d=this.Fa),f-=a,m+=a,r+=a,n-=a,p=d[r],y=d[n],0===this.wa)y.fill(0),p.fill(0);else if(0===this.ta)for(x=0;x<this.height;x+=1)d[x][f]=0,d[x][m]=0;else for(y.fill(0,f,m+1),p.fill(0,f,m+1),x=n+1;x<=r-1;x+=1)d[x][f]=0,d[x][m]=0};q.prototype.sf=function(a,c,d){var f,n;c-=2;d-=2;var m=0;for(f=!0;f&&m<a.length;){var r=0;for(n=a[m];f&&r<n.length;){var v=n[r];var x=this.X[d+m][c+r];x<this.vb&&0===v||
x>=this.vb&&1===v||(f=!1);r+=1}m+=1}if(f)for(this.Qr+=1,m=0;m<a.length;m+=1)for(n=a[m],r=0;r<n.length;r+=1)1===n[r]&&this.pj(c+r,d+m,0,!1);return f};q.prototype.Gw=function(){var a,c=this.J.f,d=this.J.o,f=this.J.g,n=this.J.s,m=this.X,r=m[n],v=m[f],x=this.vb;if(-1===this.ua){for(a=c;a<=d;a+=1)v[a]>=x&&(this.sf(this.yl,a,f)||this.sf(this.xl,a,f)),r[a]>=x&&(this.sf(this.Al,a,n-2)||this.sf(this.zl,a,n-2));for(a=f;a<=n;a+=1)f=m[a],f[c]>=x&&(this.sf(this.yl,c,a)||this.sf(this.Al,c,a-1)),f[d]>=x&&(this.sf(this.xl,
d-2,a)||this.sf(this.zl,d-2,a-1));this.Zh()}};q.prototype.gB=function(){var a,c,d=this.ha?-1:0,f=this.wa,n=this.ta;for(c=0;1>=c;c+=1){var m=Math.round((this.width-f)/2-1)+d+c>>4;var r=Math.round((this.width+f)/2)+d-c>>4;var v=Math.round((this.height-n)/2-1+c)+d>>4;var x=Math.round((this.height+n)/2)+d-c>>4;0===n&&(v=0,x=(this.height>>4)-1);0===f&&(m=0,r=(this.width>>4)-1);0>m&&(m=0);0>v&&(v=0);r>=this.width>>4&&(r=(this.width>>4)-1);x>=this.height>>4&&(x=(this.height>>4)-1);for(a=m;a<=r;a+=1){var u=
-1;this.ca[v][a>>4]|=u;this.ka[v][a>>4]|=u;this.Da[v][a>>4]|=u;this.xa[v][a>>4]|=u;this.ca[x][a>>4]|=u;this.ka[x][a>>4]|=u;this.Da[x][a>>4]|=u;this.xa[x][a>>4]|=u}for(a=v;a<=x;a+=1)u=1<<(~m&15),this.ca[a][m>>4]|=u,this.ka[a][m>>4]|=u,this.Da[a][m>>4]|=u,this.xa[a][m>>4]|=u,u=1<<(~r&15),this.ca[a][r>>4]|=u,this.ka[a][r>>4]|=u,this.Da[a][r>>4]|=u,this.xa[a][r>>4]|=u}};q.prototype.qH=function(a){var c=this.wa,d=this.ta,f=this.ha?-1:0,n=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;
var m=n+c-1,r=f+d-1,v=this.ln,x=this.mn,u=this.xa,t;0===this.wa&&(n=0,m=this.width-1,c=this.width);0===this.ta&&(f=0,r=this.height-1,d=this.height);if(0!==this.ta)for(t=0;t<c;t+=1){var B=n+t;var b=n+(t+v+c)%c;var l=a[r][B];0!==l&&(a[f-1][b]=l,u[f-1>>4][b>>8]|=1<<(~(b>>4)&15),15===(f-1&15)&&(u[(f-1>>4)+1][b>>8]|=1<<(~(b>>4)&15)));b=n+(t-v+c)%c;l=a[f][B];0!==l&&(a[r+1][b]=l,u[r+1>>4][b>>8]|=1<<(~(b>>4)&15),0===(r+1&15)&&(u[(r+1>>4)-1][b>>8]|=1<<(~(b>>4)&15)))}if(0!==this.wa)for(t=0;t<d;t+=1)B=f+t,b=
f+(t-x+d)%d,l=a[B][n],0!==l&&(a[b][m+1]=l,u[b>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(u[b>>4][m-15>>8]|=1<<(~(m-15>>4)&15))),b=f+(t+x+d)%d,l=a[B][m],0!==l&&(a[b][n-1]=l,u[b>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(u[b>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==this.wa&&0!==this.ta&&(l=a[f+(d-1+x+d)%d][n+(-v+c)%c],a[f-1][m+1]=l,l=a[f+(d-1-x+d)%d][n+(c-1-v+c)%c],a[f-1][n-1]=l,l=a[f+(x+d)%d][n+(v+c)%c],a[r+1][m+1]=l,l=a[f+(-x+d)%d][n+(c-1+v+c)%c],a[r+1][n-1]=l)};q.prototype.nH=function(a){var c=
this.xa,d=this.wa,f=this.ta,n=this.ha?-1:0,m=Math.round((this.width-d)/2)+n;n=Math.round((this.height-f)/2)+n;var r=m+d-1,v=n+f-1,x=this.ln,u=this.mn,t=this.st,B=this.Cx,b;for(b=0;b<d;b+=1){var l=m+b;var e=t?r-(b+x+d)%d:m+(b+x+d)%d;var p=a[v][l];0!==p&&(a[n-1][e]=p,c[n-1>>4][e>>8]|=1<<(~(e>>4)&15),15===(n-1&15)&&(c[(n-1>>4)+1][e>>8]|=1<<(~(e>>4)&15)));e=t?r-(b-x+d)%d:m+(b-x+d)%d;p=a[n][l];0!==p&&(a[v+1][e]=p,c[v+1>>4][e>>8]|=1<<(~(e>>4)&15),0===(v+1&15)&&(c[(v+1>>4)-1][e>>8]|=1<<(~(e>>4)&15)))}for(b=
0;b<f;b+=1)l=n+b,e=B?v-(b-u+f)%f:n+(b-u+f)%f,p=a[l][m],0!==p&&(a[e][r+1]=p,c[e>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(c[e>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),e=B?v-(b+u+f)%f:n+(b+u+f)%f,p=a[l][r],0!==p&&(a[e][m-1]=p,c[e>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(c[e>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));p=a[B?v-(f-1+u+f)%f:n+(f-1+u+f)%f][t?r-(-x+d)%d:m+(-x+d)%d];a[n-1][r+1]=p;p=a[B?v-(f-1+u+f)%f:n+(f-1+u+f)%f][t?r-(d-1-x+d)%d:m+(d-1-x+d)%d];a[n-1][m-1]=p;p=a[B?v-(u+f)%f:n+(u+f)%f][t?r-(x+d)%
d:m+(x+d)%d];a[v+1][r+1]=p;p=a[B?v-(u+f)%f:n+(u+f)%f][t?r-(d-1+x+d)%d:m+(d-1+x+d)%d];a[v+1][m-1]=p};q.prototype.mH=function(a){var c=this.Da,d=this.wa,f=this.ta,n=this.ha?-1:0,m=Math.round((this.width-d)/2)+n;n=Math.round((this.height-f)/2)+n;var r=m+d-1,v=n+f-1,x;for(x=0;x<d;x+=1){var u=m+x;var t=r-x;var B=a[v][u];0!==B&&(a[n-1][t]=B,c[n-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(n-1&15)&&(c[(n-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));B=a[n][u];0!==B&&(a[v+1][t]=B,c[v+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(v+1&15)&&
(c[(v+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(x=0;x<=f;x+=1)u=n+x,t=v-x,B=a[u][m],0!==B&&(a[t][r+1]=B,c[t>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(c[t>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),B=a[u][r],0!==B&&(a[t][m-1]=B,c[t>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(c[t>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));B=a[v][m];a[v+1][m-1]=B;B=a[v][r];a[v+1][r+1]=B;B=a[n][m];a[n-1][m-1]=B;B=a[n][r];a[n-1][r+1]=B};q.prototype.pH=function(a){var c=this.Da,d=this.wa,f=this.ta,n=this.ha?-1:0,m=Math.round((this.width-
d)/2)+n;n=Math.round((this.height-f)/2)+n;var r=m+d-1;f=n+f-1;var v;for(v=0;v<d;v+=1){var x=n+v;var u=m+v;var t=a[x][m];0!==t&&(a[n-1][u]=t,c[n-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(n-1&15)&&(c[(n-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));t=a[x][r];0!==t&&(a[f+1][u]=t,c[f+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(f+1&15)&&(c[(f+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)));t=a[n][u];0!==t&&(a[x][m-1]=t,c[x>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(c[x>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));t=a[f][u];0!==t&&(a[x][r+1]=t,c[x>>4][r+
1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(c[x>>4][r-15>>8]|=1<<(~(r-15>>4)&15)))}t=a[f][m];a[f+1][m-1]=t;t=a[f][r];a[f+1][r+1]=t;t=a[n][m];a[n-1][m-1]=t;t=a[n][r];a[n-1][r+1]=t};q.prototype.aw=function(){var a=this.Da,c=this.wa,d=this.ta;var f=this.ha?-1:0;var n=Math.round((this.width-c)/2)+f,m=Math.round((this.height-d)/2)+f,r=n+c-1,v=m+d-1,x=this.ln,u=this.mn,t=this.P&&0<n&&r<this.width-1,B;if(0!==(this.counter&1)){f=this.Mb;var b=this.ka}else f=this.Za,b=this.ca;0===this.wa&&(n=0,r=this.width-1,
c=this.width);0===this.ta&&(m=0,v=this.height-1,d=this.height);if(0!==this.ta)for(B=0;B<c;B+=1){var l=n+B;var e=n+(B+x+c)%c;0!==(f[v][l>>4]&1<<(~l&15))&&(f[m-1][e>>4]|=1<<(~e&15),b[m-1>>4][e>>8]|=1<<(~(e>>4)&15),a[m-1>>4][e>>8]|=1<<(~(e>>4)&15),15===(m-1&15)&&(b[(m-1>>4)+1][e>>8]|=1<<(~(e>>4)&15),a[(m-1>>4)+1][e>>8]|=1<<(~(e>>4)&15)));e=n+(B-x+c)%c;0!==(f[m][l>>4]&1<<(~l&15))&&(f[v+1][e>>4]|=1<<(~e&15),b[v+1>>4][e>>8]|=1<<(~(e>>4)&15),a[v+1>>4][e>>8]|=1<<(~(e>>4)&15),0===(v+1&15)&&(b[(v+1>>4)-1][e>>
8]|=1<<(~(e>>4)&15),a[(v+1>>4)-1][e>>8]|=1<<(~(e>>4)&15)))}if(0!==this.wa)for(B=0;B<d;B+=1)l=m+B,e=m+(B-u+d)%d,0!==(f[l][n>>4]&1<<(~n&15))&&(f[e][r+1>>4]|=1<<(~(r+1)&15),b[e>>4][r+1>>8]|=1<<(~(r+1>>4)&15),a[e>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(b[e>>4][r-15>>8]|=1<<(~(r-15>>4)&15),a[e>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),t&&(n+=1,r+=1,0!==(f[l][n>>4]&1<<(~n&15))&&(f[e][r+1>>4]|=1<<(~(r+1)&15),b[e>>4][r+1>>8]|=1<<(~(r+1>>4)&15),a[e>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(b[e>>4][r-15>>
8]|=1<<(~(r-15>>4)&15),a[e>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),--n,--r),e=m+(B+u+d)%d,0!==(f[l][r>>4]&1<<(~r&15))&&(f[e][n-1>>4]|=1<<(~(n-1)&15),b[e>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[e>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(b[e>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[e>>4][n+15>>8]|=1<<(~(n+15>>4)&15))),t&&(--n,--r,0!==(f[l][r>>4]&1<<(~r&15))&&(f[e][n-1>>4]|=1<<(~(n-1)&15),b[e>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[e>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(b[e>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[e>>
4][n+15>>8]|=1<<(~(n+15>>4)&15))),n+=1,r+=1);0!==this.wa&&0!==this.ta&&(l=n+(-x+c)%c,f[m-1][r+1>>4]=0!==(f[m+(d-1+u+d)%d][l>>4]&1<<(~l&15))?f[m-1][r+1>>4]|1<<(~(r+1)&15):f[m-1][r+1>>4]&~(1<<(~(r+1)&15)),l=n+(c-1-x+c)%c,f[m-1][n-1>>4]=0!==(f[m+(d-1-u+d)%d][l>>4]&1<<(~l&15))?f[m-1][n-1>>4]|1<<(~(n-1)&15):f[m-1][n-1>>4]&~(1<<(~(n-1)&15)),l=n+(x+c)%c,f[v+1][r+1>>4]=0!==(f[m+(u+d)%d][l>>4]&1<<(~l&15))?f[v+1][r+1>>4]|1<<(~(r+1)&15):f[v+1][r+1>>4]&~(1<<(~(r+1)&15)),l=n+(c-1+x+c)%c,f[v+1][n-1>>4]=0!==(f[m+
(-u+d)%d][l>>4]&1<<(~l&15))?f[v+1][n-1>>4]|1<<(~(n-1)&15):f[v+1][n-1>>4]&~(1<<(~(n-1)&15)))};q.prototype.Dv=function(){var a=this.Da,c=this.wa,d=this.ta;var f=this.ha?-1:0;var n=Math.round((this.width-c)/2)+f,m=Math.round((this.height-d)/2)+f,r=n+c-1,v=m+d-1,x=this.ln,u=this.mn,t=this.st,B=this.Cx,b;if(0!==(this.counter&1)){f=this.Mb;var l=this.ka}else f=this.Za,l=this.ca;for(b=0;b<c;b+=1){var e=n+b;var p=t?r-(b+x+c)%c:n+(b+x+c)%c;0!==(f[v][e>>4]&1<<(~e&15))&&(f[m-1][p>>4]|=1<<(~p&15),l[m-1>>4][p>>
8]|=1<<(~(p>>4)&15),a[m-1>>4][p>>8]|=1<<(~(p>>4)&15),15===(m-1&15)&&(l[(m-1>>4)+1][p>>8]|=1<<(~(p>>4)&15),a[(m-1>>4)+1][p>>8]|=1<<(~(p>>4)&15)));p=t?r-(b-x+c)%c:n+(b-x+c)%c;0!==(f[m][e>>4]&1<<(~e&15))&&(f[v+1][p>>4]|=1<<(~p&15),l[v+1>>4][p>>8]|=1<<(~(p>>4)&15),a[v+1>>4][p>>8]|=1<<(~(p>>4)&15),0===(v+1&15)&&(l[(v+1>>4)-1][p>>8]|=1<<(~(p>>4)&15),a[(v+1>>4)-1][p>>8]|=1<<(~(p>>4)&15)))}for(b=0;b<d;b+=1)e=m+b,p=B?v-(b-u+d)%d:m+(b-u+d)%d,0!==(f[e][n>>4]&1<<(~n&15))&&(f[p][r+1>>4]|=1<<(~(r+1)&15),l[p>>4][r+
1>>8]|=1<<(~(r+1>>4)&15),a[p>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(l[p>>4][r-15>>8]|=1<<(~(r-15>>4)&15),a[p>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),p=B?v-(b+u+d)%d:m+(b+u+d)%d,0!==(f[e][r>>4]&1<<(~r&15))&&(f[p][n-1>>4]|=1<<(~(n-1)&15),l[p>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[p>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(l[p>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[p>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));e=t?r-(-x+c)%c:n+(-x+c)%c;0!==(f[B?v-(d-1+u+d)%d:m+(d-1+u+d)%d][e>>4]&1<<(~e&15))&&(f[m-1][r+1>>4]|=1<<
(~(r+1)&15));e=t?r-(c-1-x+c)%c:n+(c-1-x+c)%c;0!==(f[B?v-(d-1+u+d)%d:m+(d-1+u+d)%d][e>>4]&1<<(~e&15))&&(f[m-1][n-1>>4]|=1<<(~(n-1)&15));e=t?r-(x+c)%c:n+(x+c)%c;0!==(f[B?v-(u+d)%d:m+(u+d)%d][e>>4]&1<<(~e&15))&&(f[v+1][r+1>>4]|=1<<(~(r+1)&15));e=t?r-(c-1+x+c)%c:n+(c-1+x+c)%c;0!==(f[B?v-(u+d)%d:m+(u+d)%d][e>>4]&1<<(~e&15))&&(f[v+1][n-1>>4]|=1<<(~(n-1)&15))};q.prototype.pv=function(){var a=this.Da,c=this.wa,d=this.ta;var f=this.ha?-1:0;var n=Math.round((this.width-c)/2)+f,m=Math.round((this.height-d)/
2)+f,r=n+c-1,v=m+d-1,x;if(0!==(this.counter&1)){f=this.Mb;var u=this.ka}else f=this.Za,u=this.ca;for(x=0;x<c;x+=1){var t=n+x;var B=r-x;0!==(f[v][t>>4]&1<<(~t&15))&&(f[m-1][B>>4]|=1<<(~B&15),u[m-1>>4][B>>8]|=1<<(~(B>>4)&15),a[m-1>>4][B>>8]|=1<<(~(B>>4)&15),15===(m-1&15)&&(u[(m-1>>4)+1][B>>8]|=1<<(~(B>>4)&15),a[(m-1>>4)+1][B>>8]|=1<<(~(B>>4)&15)));0!==(f[m][t>>4]&1<<(~t&15))&&(f[v+1][B>>4]|=1<<(~B&15),u[v+1>>4][B>>8]|=1<<(~(B>>4)&15),a[v+1>>4][B>>8]|=1<<(~(B>>4)&15),0===(v+1&15)&&(u[(v+1>>4)-1][B>>
8]|=1<<(~(B>>4)&15),a[(v+1>>4)-1][B>>8]|=1<<(~(B>>4)&15)))}for(x=0;x<=d;x+=1)t=m+x,B=v-x,0!==(f[t][n>>4]&1<<(~n&15))&&(f[B][r+1>>4]|=1<<(~(r+1)&15),u[B>>4][r+1>>8]|=1<<(~(r+1>>4)&15),a[B>>4][r+1>>8]|=1<<(~(r+1>>4)&15),0===(r+1&15)&&(u[B>>4][r-15>>8]|=1<<(~(r-15>>4)&15),a[B>>4][r-15>>8]|=1<<(~(r-15>>4)&15))),0!==(f[t][r>>4]&1<<(~r&15))&&(f[B][n-1>>4]|=1<<(~(n-1)&15),u[B>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[B>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(u[B>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[B>>4][n+
15>>8]|=1<<(~(n+15>>4)&15)));0!==(f[v][n>>4]&1<<(~n&15))&&(f[v+1][n-1>>4]|=1<<(~(n-1)&15));0!==(f[v][r>>4]&1<<(~r&15))&&(f[v+1][r+1>>4]|=1<<(~(r+1)&15));0!==(f[m][n>>4]&1<<(~n&15))&&(f[m-1][n-1>>4]|=1<<(~(n-1)&15));0!==(f[m][r>>4]&1<<(~r&15))&&(f[m-1][r+1>>4]|=1<<(~(r+1)&15))};q.prototype.Nv=function(){var a=this.Da,c=this.wa;var d=this.ta;var f=this.ha?-1:0,n=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var m=n+c-1,r=f+d-1,v;if(0!==(this.counter&1)){d=this.Mb;var x=this.ka}else d=
this.Za,x=this.ca;for(v=0;v<c;v+=1){var u=f+v;var t=n+v;0!==(d[u][n>>4]&1<<(~n&15))&&(d[f-1][t>>4]|=1<<(~t&15),x[f-1>>4][t>>8]|=1<<(~(t>>4)&15),a[f-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(f-1&15)&&(x[(f-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(f-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));0!==(d[u][m>>4]&1<<(~m&15))&&(d[r+1][t>>4]|=1<<(~t&15),x[r+1>>4][t>>8]|=1<<(~(t>>4)&15),a[r+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(r+1&15)&&(x[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(r+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)));0!==(d[f][t>>4]&1<<(~t&
15))&&(d[u][n-1>>4]|=1<<(~(n-1)&15),x[u>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[u>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(x[u>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[u>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==(d[r][t>>4]&1<<(~t&15))&&(d[u][m+1>>4]|=1<<(~(m+1)&15),x[u>>4][m+1>>8]|=1<<(~(m+1>>4)&15),a[u>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(x[u>>4][m-15>>8]|=1<<(~(m-15>>4)&15),a[u>>4][m-15>>8]|=1<<(~(m-15>>4)&15)))}0!==(d[r][n>>4]&1<<(~n&15))&&(d[r+1][n-1>>4]|=1<<(~(n-1)&15));0!==(d[r][m>>4]&1<<(~m&
15))&&(d[r+1][m+1>>4]|=1<<(~(m+1)&15));0!==(d[f][n>>4]&1<<(~n&15))&&(d[f-1][n-1>>4]|=1<<(~(n-1)&15));0!==(d[f][m>>4]&1<<(~m&15))&&(d[f-1][m+1>>4]|=1<<(~(m+1)&15))};q.prototype.kH=function(a){var c,d=1;0!==this.ua&&(d=2);this.P&&(d+=1);for(c=1;c<=d+1;c+=1)this.Ew(c,a)};q.prototype.lH=function(){var a=this.X;if(this.G||this.ba||this.M)0!==(this.counter&1)&&(a=this.Fa),this.ny(a,0);this.gB();switch(this.ua){case 1:this.G||this.ba||this.M?(this.qH(a),this.M&&this.aw()):this.aw();break;case 2:this.G||
this.ba||this.M?(this.nH(a),this.M&&this.Dv()):this.Dv();break;case 3:this.G||this.ba||this.M?(this.mH(a),this.M&&this.pv()):this.pv();break;case 4:this.G||this.ba||this.M?(this.pH(a),this.M&&this.Nv()):this.Nv()}this.gB()};q.prototype.ef=function(a,c,d,f){this.Ja?(this.Z=1,this.counter+=1):this.oH(a,c,d,f)};q.prototype.oH=function(a,c,d,f){var n=!1,m=this.J,r=this.Gd;if(!d||f)a=!0;this.counter===this.Tn-1&&(n=!0,c||(a=!0));-1===this.ua||this.oa||this.lH();this.Ne&&this.hK();this.Z&&(this.ba?null===
this.Md?this.IC():this.hC():this.G?this.zB():this.oa?this.Qa.zK(this.counter):a&&2>this.c||this.M?this.ha?this.qA():this.P?this.iH():this.hH():this.ha?this.CA():this.P?this.bB():this.MA());this.counter+=1;if(this.ha||this.G)this.Xc?--this.Of:this.Of+=1,this.Of>this.$i&&(this.$i=this.Of);-1===this.c||this.oa||this.G||this.ba||this.M||this.Pz();this.M&&this.dH();this.Ne&&this.ZJ();-1===this.ua||this.oa||this.kH(a);this.width===this.ga&&(d=this.oa?2*this.Qa.Nh:16,m.f<=d||m.o>=this.ga-d||m.g<=d||m.s>=
this.ga-d)&&(this.oa?this.Kw():this.Iw());n&&(this.Tn+=k.Ds,c||this.ws());m.f<r.f&&(r.f=m.f);m.o>r.o&&(r.o=m.o);m.g<r.g&&(r.g=m.g);m.s>r.s&&(r.s=m.s);this.counter<k.zE&&(a?(this.uw(this.na,this.Jb,this.cc),this.na>this.Rc&&(this.Rc=this.na),this.Jb>this.Rc&&(this.Rc=this.Jb),this.cc>this.Rc&&(this.Rc=this.cc)):this.uw(0,0,0))};q.prototype.uw=function(a,c,d){var f=this.counter>>k.jk,n=this.counter&(1<<k.jk)-1;this.Tb&&0<this.Tb.length&&(this.counter>=this.Eh&&(Array.sq(this.Tb,"Life.popGraphData"),
Array.sq(this.wg,"Life.birthGraphData"),Array.sq(this.yh,"Life.deathGraphData"),this.Eh+=1<<k.jk),this.Tb[f][n]=a,this.wg[f][n]=c,this.yh[f][n]=d)};q.prototype.Dl=function(a,c,d,f,n,m,r,v){var x,u=1,t=(1<<k.jk)-1,B=k.zE;this.counter>d&&(u=d/this.counter);if(v){a.strokeStyle=c;a.beginPath();var b=f-r[0]/this.Rc*f|0;a.moveTo(0+m+.5,b+n+m+.5)}else a.fillStyle=c;r.length<<k.jk<B&&(B=r.length<<k.jk);var l=0;for(c=x=1;c<d;c+=1){if(x<B){var e=x>>k.jk;var p=x&t;p=e=r[e][p];l+=u;for(x+=1;0===(l|0);){var y=
r[x];x+=1;y>p&&(p=y);y<e&&(e=y);l+=u}--l}else p=e=0;c<=this.counter&&(y=0+m+1+c,b=f-e/this.Rc*f|0,v?(a.lineTo(y+.5,b+n+m+.5),e!==p&&(b=f-p/this.Rc*f|0,a.lineTo(y+.5,b+n+m+.5))):0<e&&0<p&&(e!==p&&(b=f-p/this.Rc*f|0),a.fillRect(y+.5,b+n+m+.5,1,1)))}v&&a.stroke()};q.prototype.bu=function(a,c,d,f,n){var m=this.context,r=n.i.Ae;n=48*n.i.jh;var v=40*r,x=this.F-v,u=this.D-n-v,t="rgb("+this.Vi[0]+","+this.Vi[1]+","+this.Vi[2]+")",B="rgb("+this.Ui[0]+","+this.Ui[1]+","+this.Ui[2]+")",b="rgb("+this.Ti[0]+","+
this.Ti[1]+","+this.Ti[2]+")",l="rgb("+this.Wi[0]+","+this.Wi[1]+","+this.Wi[2]+")",e="rgb("+this.Xi[0]+","+this.Xi[1]+","+this.Xi[2]+")";if(this.Tb&&0<this.Tb.length){if(d||f)n=0,u+=2*n;f&&(v=0,x=this.F);var p=x-v;m.save();m.fillStyle=t;m.globalAlpha=c;m.fillRect(0,n,x+v,u);m.globalAlpha=1;d&&(u-=n);if(!f){m.font=(16*r|0)+"px Arial";m.textAlign="center";m.fillStyle="black";for(c=2;0<=c;c-=2)m.save(),m.translate(this.F/2,u+v/2-(6*r|0)),m.fillText("Generation",c,c),m.restore(),m.save(),m.translate(v/
2+(6*r|0),this.D/2),m.rotate(-90*Math.PI/180),320>this.D?m.fillText("Pop",c,c):m.fillText("Population",c,c),m.restore(),m.fillStyle=B;m.fillStyle="black";for(c=2;0<=c;c-=2)m.save(),m.translate(v-v/2+(6*r|0),n+v),m.rotate(-90*Math.PI/180),m.fillText(String(this.Rc),c,c),m.restore(),m.save(),m.translate(v-v/2+(6*r|0),u),m.rotate(-90*Math.PI/180),m.fillText("0",c,c),m.restore(),m.save(),m.translate(v,u+v/2-(6*r|0)),m.fillText("0",c,c),m.restore(),m.save(),m.translate(x,u+v/2-(6*r|0)),m.fillText(String(this.counter>
p?this.counter:p|0),c,c),m.restore(),m.fillStyle=B}-1===this.ua&&(this.Dl(m,e,p,u-n-v,n,v,this.yh,a),this.Dl(m,l,p,u-n-v,n,v,this.wg,a));this.Dl(m,b,p,u-n-v,n,v,this.Tb,a);m.strokeStyle=B;m.lineWidth=1;m.beginPath();m.moveTo(v+.5,n+v+.5);m.lineTo(v+.5,u+.5);m.lineTo(x+.5,u+.5);m.lineTo(x+.5,u+2.5);m.moveTo(v+.5,u+.5);m.lineTo(v+.5,u+2.5);m.moveTo(v+.5,u+.5);m.lineTo(v+.5-2,u+.5);m.moveTo(v+.5,n+v+.5);m.lineTo(v+.5-2,n+v+.5);m.stroke();m.restore()}};q.prototype.QF=function(){var a=(1<<k.jk)-1,c;if(this.Tb&&
0<this.Tb.length){for(c=0;c<this.Eh;c+=1){var d=c>>k.jk;var f=c&a;this.Tb[d][f]=0;this.wg[d][f]=0;this.yh[d][f]=0}this.Tb[0][0]=this.na}this.Rc=this.na};q.prototype.Kv=function(){var a=this.J,c=this.Gd;c.f=a.f;c.o=a.o;c.s=a.s;c.g=a.g};q.prototype.hK=function(){var a,c,d,f,n=this.Ne,m=this.tj,r=this.wi,v=this.Hf,x=this.ra,u=this.pa>>4,t;var B=0;var b=0!==(this.counter&1)?this.Mb:this.Za;for(a=0;a<x;a+=1){var l=0;var e=v[a];for(c=0;c<u;c+=1)if(t=e[c])for(d=15;0<=d;--d){if(0!==(t&1<<d))for(f=B;f<B+16;f+=
1)m[f][l]=(b[f][l]|r[f][l])&n[f][l];l+=1}else l+=16;B+=16}};q.prototype.ZJ=function(){var a,c,d,f,n,m=this.tj,r=this.Hf,v=this.ra,x=this.pa>>4,u;var t=0!==(this.counter&1)?this.Mb:this.Za;for(a=n=0;a<v;a+=1){var B=0;var b=r[a];for(c=0;c<x;c+=1)if(u=b[c])for(d=15;0<=d;--d){if(0!==(u&1<<d))for(f=n;f<n+16;f+=1)t[f][B]&=~m[f][B];B+=1}else B+=16;n+=16}};q.prototype.Cl=function(a,c,d){var f,n,m=this.Ej,r=0,v=this.Qe[r],x=this.Re[r],u=0,t=k.Fv,B=t-1,b=0,l=t,e=this.ts,p=this.Ab,y=this.Cb;v[u]=a;x[u]=c;u+=
1;for(d[c][a>>4]&=~(1<<(~a&15));0<u;)for(--u,u<b&&(--r,b-=t,l-=t,v=this.Qe[r],x=this.Re[r]),a=v[u&B],c=x[u&B],n=c-e;n<=c+e;){for(f=a-e;f<=a+e;)f===(f&p)&&n===(n&y)&&0!==(d[n][f>>4]&1<<(~f&15))&&(d[n][f>>4]&=~(1<<(~f&15)),u===l&&(r+=1,b+=t,l+=t,r>m&&(this.Qe[r]=this.l.K(Int32,t,"Life.boundaryX"+r),this.Re[r]=this.l.K(Int32,t,"Life.boundaryY"+r),this.Ej=m+=1),v=this.Qe[r],x=this.Re[r]),v[u&B]=f,x[u&B]=n,u+=1),f+=1;n+=1}};q.prototype.kw=function(a,c,d){for(var f=d[c][a],n=15;0<=n;)0!==(f&1<<n)&&this.Cl((a<<
4)+(~n&15),c,d),--n};q.prototype.rH=function(a,c){this.Cl(0,a,c)};q.prototype.sH=function(a,c,d){this.Cl((a<<4)+15,c,d)};q.prototype.Iw=function(){var a;var c=0!==(this.counter&1)?this.Mb:this.Za;var d=c.length;var f=c[0].length;var n=c[0];var m=c[d-1];for(a=0;a<f;)n[a]&&this.kw(a,0,c),m[a]&&this.kw(a,d-1,c),a+=1;for(a=0;a<d;)0!==(c[a][0]&32768)&&this.rH(a,c),0!==(c[a][f-1]&1)&&this.sH(f-1,a,c),a+=1};q.prototype.Mj=function(a,c){var d,f=this.X,n,m=this.Ej,r=0,v=this.Qe[r],x=this.Re[r],u=0,t=k.Fv,
B=t-1,b=0,l=t,e=this.Ab,p=this.Cb,y=2<this.c?0:k.vb,z=2<this.c?0:k.Xd,A=this.ts;v[u]=a;x[u]=c;u+=1;for(f[c][a]=0;0<u;)for(--u,u<b&&(--r,b-=t,l-=t,v=this.Qe[r],x=this.Re[r]),a=v[u&B],c=x[u&B],d=c-A;d<=c+A;){var C=a-A;for(n=f[d];C<=a+A;)C===(C&e)&&d===(d&p)&&n[C]>=y&&(n[C]=z,u===l&&(r+=1,b+=t,l+=t,r>m&&(this.Qe[r]=this.l.K(Int32,t,"Life.boundaryX"+r),this.Re[r]=this.l.K(Int32,t,"Life.boundaryY"+r),this.Ej=m+=1),v=this.Qe[r],x=this.Re[r]),v[u&B]=C,x[u&B]=d,u+=1),C+=1;d+=1}};q.prototype.Kw=function(){var a=
this.X,c=a.length,d=a[0].length,f=this.J,n=f.f,m=f.o,r=f.g,v=f.s,x=2*this.Qa.Nh+1,u=2*this.Qa.Ph+1,t=2<this.c?0:k.vb,B,b;if(c-v<=u){for(b=c-u;b<=v;b+=1){var l=a[b];for(B=n;B<=m;B+=1)l[B]>=t&&this.Mj(B,b)}f.s=c-u}if(r<=u){for(b=r;b<=u;b+=1)for(l=a[b],B=n;B<=m;B+=1)l[B]>=t&&this.Mj(B,b);f.g=u}if(n<=x){for(b=r;b<=v;b+=1)for(l=a[b],B=n;B<=x;B+=1)l[B]>=t&&this.Mj(B,b);f.f=x}if(d-m<=x){for(b=r;b<=v;b+=1)for(l=a[b],B=d-x;B<=m;B+=1)l[B]>=t&&this.Mj(B,b);f.o=d-x}};q.prototype.iH=function(){var a=this.Bh,c,
d,f,n,m,r=this.aa,v,x=this.height,u=this.width,t=u>>4,B=this.J,b=x,l=-1,e=u,p=-1,y=this.ra,z=this.pa>>4,A=this.kd;var C=0;var D=y,G=this.ng,H=0,I=0,E=0;if(0!==(this.counter&1)){var F=this.Mb;var P=this.Za;var K=this.ka;var Q=this.ca;this.oc&&(a=this.Ei)}else F=this.Za,P=this.Mb,K=this.ca,Q=this.ka;r.fill(0);0>C&&(C=0);D>y&&(D=y);var J=C<<4;var W=J+16;Q.eb.fill(0);for(d=C;d<D;d+=1){var Z=0;var T=K[d];var M=Q[d];var fa=0<d?Q[d-1]:A;var X=d<y-1?Q[d+1]:A;for(f=0;f<z;f+=1)if(n=T[f]){var ia=M[f];var ma=
fa[f];var ba=X[f];for(c=15;0<=c;--c){if(0!==(n&1<<c)){var V=v=0;var da=J;var ca=0===da?this.Ye:F[da-1];var na=F[da];C=F[da+1];var la=m=na[Z];ca=ca[Z-1]<<18|ca[Z]<<2|ca[Z+1]>>14;var U=na[Z-1]<<18|m<<2|na[Z+1]>>14;var R=C[Z-1]<<18|C[Z]<<2|C[Z+1]>>14;var aa=a[ca>>7&7936|R>>11&224|U>>15&31]<<15;aa|=a[R>>6&7936|ca>>10&224|U>>14&31]<<14;aa|=a[ca>>5&7936|R>>9&224|U>>13&31]<<13;aa|=a[R>>4&7936|ca>>8&224|U>>12&31]<<12;aa|=a[ca>>3&7936|R>>7&224|U>>11&31]<<11;aa|=a[R>>2&7936|ca>>6&224|U>>10&31]<<10;aa|=a[ca>>
1&7936|R>>5&224|U>>9&31]<<9;aa|=a[R>>0&7936|ca>>4&224|U>>8&31]<<8;aa|=a[ca<<1&7936|R>>3&224|U>>7&31]<<7;aa|=a[R<<2&7936|ca>>2&224|U>>6&31]<<6;aa|=a[ca<<3&7936|R>>1&224|U>>5&31]<<5;aa|=a[R<<4&7936|ca>>0&224|U>>4&31]<<4;aa|=a[ca<<5&7936|R<<1&224|U>>3&31]<<3;aa|=a[R<<6&7936|ca<<2&224|U>>2&31]<<2;aa|=a[ca<<7&7936|R<<3&224|U>>1&31]<<1;aa|=a[R<<8&7936|ca<<4&224|U>>0&31]<<0;P[da][Z]=aa;H+=G[aa];I+=G[aa&~m];E+=G[m&~aa];aa&&(v|=aa,da<b&&(b=da),da>l&&(l=da),0!==(aa&49152)&&(V|=k.Kb),0!==(aa&3)&&(V|=k.Lb),V|=
k.Bb);for(da+=1;da<W-1;){m=C[Z];la|=m;C=F[da+1];ca=U;U=R;R=C[Z-1]<<18|C[Z]<<2|C[Z+1]>>14;0!==(da&1)&&(na=ca,ca=R,R=na);aa=a[ca>>7&7936|R>>11&224|U>>15&31]<<15;aa|=a[R>>6&7936|ca>>10&224|U>>14&31]<<14;aa|=a[ca>>5&7936|R>>9&224|U>>13&31]<<13;aa|=a[R>>4&7936|ca>>8&224|U>>12&31]<<12;aa|=a[ca>>3&7936|R>>7&224|U>>11&31]<<11;aa|=a[R>>2&7936|ca>>6&224|U>>10&31]<<10;aa|=a[ca>>1&7936|R>>5&224|U>>9&31]<<9;aa|=a[R>>0&7936|ca>>4&224|U>>8&31]<<8;aa|=a[ca<<1&7936|R>>3&224|U>>7&31]<<7;aa|=a[R<<2&7936|ca>>2&224|U>>
6&31]<<6;aa|=a[ca<<3&7936|R>>1&224|U>>5&31]<<5;aa|=a[R<<4&7936|ca>>0&224|U>>4&31]<<4;aa|=a[ca<<5&7936|R<<1&224|U>>3&31]<<3;aa|=a[R<<6&7936|ca<<2&224|U>>2&31]<<2;aa|=a[ca<<7&7936|R<<3&224|U>>1&31]<<1;aa|=a[R<<8&7936|ca<<4&224|U>>0&31]<<0;H+=G[aa];I+=G[aa&~m];E+=G[m&~aa];0!==(da&1)&&(R=na=ca);if(P[da][Z]=aa)v|=aa,da<b&&(b=da),da>l&&(l=da);da+=1}m=C[Z];la|=m;C=da===this.height-1?this.Ye:F[da+1];ca=U;U=R;R=C[Z-1]<<18|C[Z]<<2|C[Z+1]>>14;0!==(da&1)&&(na=ca,ca=R,R=na);aa=a[ca>>7&7936|R>>11&224|U>>15&31]<<
15;aa|=a[R>>6&7936|ca>>10&224|U>>14&31]<<14;aa|=a[ca>>5&7936|R>>9&224|U>>13&31]<<13;aa|=a[R>>4&7936|ca>>8&224|U>>12&31]<<12;aa|=a[ca>>3&7936|R>>7&224|U>>11&31]<<11;aa|=a[R>>2&7936|ca>>6&224|U>>10&31]<<10;aa|=a[ca>>1&7936|R>>5&224|U>>9&31]<<9;aa|=a[R>>0&7936|ca>>4&224|U>>8&31]<<8;aa|=a[ca<<1&7936|R>>3&224|U>>7&31]<<7;aa|=a[R<<2&7936|ca>>2&224|U>>6&31]<<6;aa|=a[ca<<3&7936|R>>1&224|U>>5&31]<<5;aa|=a[R<<4&7936|ca>>0&224|U>>4&31]<<4;aa|=a[ca<<5&7936|R<<1&224|U>>3&31]<<3;aa|=a[R<<6&7936|ca<<2&224|U>>2&
31]<<2;aa|=a[ca<<7&7936|R<<3&224|U>>1&31]<<1;aa|=a[R<<8&7936|ca<<4&224|U>>0&31]<<0;H+=G[aa];I+=G[aa&~m];E+=G[m&~aa];if(P[da][Z]=aa)v|=aa,da<b&&(b=da),da>l&&(l=da),0!==(aa&49152)&&(V|=k.Qb),0!==(aa&3)&&(V|=k.nb),V|=k.ob;v&&(0!==(v&49152)&&(V|=k.Db),0!==(v&3)&&(V|=k.cb));r[Z]|=v;if(v||la)ia|=1<<c,V&&(0!==(V&k.Db)&&(15>c?ia|=1<<c+1:0<f&&0<Z&&(M[f-1]|=1)),0!==(V&k.cb)&&(0<c?ia|=1<<c-1:f<z-1&&Z<t-1&&(M[f+1]|=32768)),0!==(V&k.Bb)&&(ma|=1<<c),0!==(V&k.ob)&&(ba|=1<<c),0!==(V&k.Kb)&&(15>c?ma|=1<<c+1:0<f&&
0<Z&&(fa[f-1]|=1)),0!==(V&k.Lb)&&(0<c?ma|=1<<c-1:f<z-1&&Z<t-1&&(fa[f+1]|=32768)),0!==(V&k.Qb)&&(15>c?ba|=1<<c+1:0<f&&0<Z&&(X[f-1]|=1)),0!==(V&k.nb)&&(0<c?ba|=1<<c-1:f<z-1&&Z<t-1&&(X[f+1]|=32768)))}Z+=1}M[f]|=ia;0<d&&(fa[f]|=ma);d<y-1&&(X[f]|=ba)}else Z+=16;J+=16;W+=16}for(f=0;f<t;f+=1)r[f]&&(f<e&&(e=f),f>p&&(p=f));e=(e<<4)+this.B(r[e]);p=(p<<4)+this.N(r[p]);0>l&&(l=x-1);b>=x&&(b=0);e>=u&&(e=0);0>p&&(p=u-1);l>x-1&&(l=x-1);0>b&&(b=0);0>e&&(e=0);p>u-1&&(p=u-1);B.s=l;B.g=b;B.f=e;B.o=p;A.fill(0);this.na=
H;this.Jb=I;this.cc=E};q.prototype.qA=function(){var a=this.ee,c,d,f,n,m=this.aa,r,v=this.height,x=this.width,u=x>>4,t=this.J,B=v,b=-1,l=x,e=-1,p=this.ra,y=this.pa>>4,z=this.kd,A=this.ng,C=0,D=0,G=0,H=this.counter&1;this.Yc&&(this.Xc=!this.Xc,this.Yc=!1);if(0!==H){var I=this.Mb;var E=this.Za;var F=this.ka;var P=this.ca;this.Xc&&(a=this.Ec)}else I=this.Za,E=this.Mb,F=this.ca,P=this.ka,this.oc&&(a=this.tf),this.Xc&&(a=this.oc?this.fe:this.Ec);this.Xc&&(H=1-H);m.fill(0);var K=1-H;var Q=K+16;P.eb.fill(0);
for(d=0;d<F.length;d+=1){var J=0;var W=F[d];var Z=P[d];var T=0<d?P[d-1]:z;var M=d<p-1?P[d+1]:z;for(f=0;f<y;f+=1)if(n=W[f]){var fa=Z[f];var X=T[f];var ia=M[f];for(c=15;0<=c;--c){var ma=0===c&&f===y-1?!0:!1;if(0!==(n&1<<c)){var ba=r=0;if(0!==H){var V=K;var da=I[V][J];var ca=I[V+1][J];var na=da|ca;var la=a[da&65280|ca>>8];var U=la&65280;var R=(la&255)<<8;la=a[(da&255)<<8|ca&255];U|=la>>8;R|=la&255;E[V][J]=U;E[V+1][J]=R;C+=A[U];D+=A[U&~da];G+=A[da&~U];C+=A[R];D+=A[R&~ca];G+=A[ca&~R];if(la=U|R)r|=la,U&&
(V<B&&(B=V),V>b&&(b=V)),R&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1)),0!==(la&49152)&&(ba|=k.Kb),0!==(la&3)&&(ba|=k.Lb),ba|=k.Bb;for(V+=2;V<Q-2;){da=I[V][J];ca=I[V+1][J];na|=da|ca;la=a[da&65280|ca>>8];U=la&65280;R=(la&255)<<8;la=a[(da&255)<<8|ca&255];U|=la>>8;R|=la&255;E[V][J]=U;E[V+1][J]=R;C+=A[U];D+=A[U&~da];G+=A[da&~U];C+=A[R];D+=A[R&~ca];G+=A[ca&~R];if(la=U|R)r|=la,U&&(V<B&&(B=V),V>b&&(b=V)),R&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1));V+=2}da=I[V][J];ca=I[V+1][J];na|=da|ca;la=a[da&65280|ca>>8];U=la&65280;R=(la&255)<<
8;la=a[(da&255)<<8|ca&255];U|=la>>8;R|=la&255;E[V][J]=U;E[V+1][J]=R;C+=A[U];D+=A[U&~da];G+=A[da&~U];C+=A[R];D+=A[R&~ca];G+=A[ca&~R];if(la=U|R)r|=la,U&&(V<B&&(B=V),V>b&&(b=V)),R&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1)),la&&(0!==(la&49152)&&(ba|=k.Qb),0!==(la&3)&&(ba|=k.nb),ba|=k.ob);r&&(0!==(r&49152)&&(ba|=k.Db),0!==(r&3)&&(ba|=k.cb),m[J]|=r);if(r||na)ba|=k.nb,ba|=k.cb}else{V=K;ma?(da=I[V][J]<<1&65535,ca=I[V+1][J]<<1&65535):(da=(I[V][J]<<1|I[V][J+1]>>15)&65535,ca=(I[V+1][J]<<1|I[V+1][J+1]>>15)&65535);na=da|
ca;la=a[da&65280|ca>>8];U=la&65280;R=(la&255)<<8;la=a[(da&255)<<8|ca&255];U|=la>>8;R|=la&255;ma?(E[V][J]=E[V][J]&32768|U>>1,E[V+1][J]=E[V+1][J]&32768|R>>1):(E[V][J]=E[V][J]&32768|U>>1,E[V][J+1]=E[V][J+1]&32767|(U&1)<<15,E[V+1][J]=E[V+1][J]&32768|R>>1,E[V+1][J+1]=E[V+1][J+1]&32767|(R&1)<<15);C+=A[U];D+=A[U&~da];G+=A[da&~U];C+=A[R];D+=A[R&~ca];G+=A[ca&~R];if(la=U|R)r|=la,U&&(V<B&&(B=V),V>b&&(b=V)),U&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1));for(V+=2;V<Q-2;){ma?(da=I[V][J]<<1&65535,ca=I[V+1][J]<<1&65535):(da=
(I[V][J]<<1|I[V][J+1]>>15)&65535,ca=(I[V+1][J]<<1|I[V+1][J+1]>>15)&65535);na|=da|ca;la=a[da&65280|ca>>8];U=la&65280;R=(la&255)<<8;la=a[(da&255)<<8|ca&255];U|=la>>8;R|=la&255;ma?(E[V][J]=E[V][J]&32768|U>>1,E[V+1][J]=E[V+1][J]&32768|R>>1):(E[V][J]=E[V][J]&32768|U>>1,E[V][J+1]=E[V][J+1]&32767|(U&1)<<15,E[V+1][J]=E[V+1][J]&32768|R>>1,E[V+1][J+1]=E[V+1][J+1]&32767|(R&1)<<15);C+=A[U];D+=A[U&~da];G+=A[da&~U];C+=A[R];D+=A[R&~ca];G+=A[ca&~R];if(la=U|R)r|=la,U&&(V<B&&(B=V),V>b&&(b=V)),R&&(V+1<B&&(B=V+1),V+
1>b&&(b=V+1));V+=2}ma?(da=I[V][J]<<1&65535,ca=I[V+1][J]<<1&65535):(da=(I[V][J]<<1|I[V][J+1]>>15)&65535,ca=(I[V+1][J]<<1|I[V+1][J+1]>>15)&65535);na|=da|ca;la=a[da&65280|ca>>8];U=la&65280;R=(la&255)<<8;la=a[(da&255)<<8|ca&255];U|=la>>8;R|=la&255;ma?(E[V][J]=E[V][J]&32768|U>>1,E[V+1][J]=E[V+1][J]&32768|R>>1):(E[V][J]=E[V][J]&32768|U>>1,E[V][J+1]=E[V][J+1]&32767|(U&1)<<15,E[V+1][J]=E[V+1][J]&32768|R>>1,E[V+1][J+1]=E[V+1][J+1]&32767|(R&1)<<15);C+=A[U];D+=A[U&~da];G+=A[da&~U];C+=A[R];D+=A[R&~ca];G+=A[ca&
~R];if(la=U|R)r|=la,U&&(V<B&&(B=V),V>b&&(b=V)),R&&(V+1<B&&(B=V+1),V+1>b&&(b=V+1)),0!==(la&3)&&(ba|=k.nb),ba|=k.ob;da|ca&&(0!==((da|ca)&3)&&(ba|=k.nb),ba|=k.ob);r&&(0!==(r&3)&&(ba|=k.cb),m[J]|=r>>1,m[J+1]|=(r&1)<<15);0!==(na&3)&&(ba|=k.cb)}if(r||na)fa|=1<<c,ba&&(0!==(ba&k.Db)&&(15>c?fa|=1<<c+1:0<f&&0<J&&(Z[f-1]|=1)),0!==(ba&k.cb)&&(0<c?fa|=1<<c-1:f<y-1&&J<u-1&&(Z[f+1]|=32768)),0!==(ba&k.Bb)&&(X|=1<<c),0!==(ba&k.ob)&&(ia|=1<<c),0!==(ba&k.Kb)&&(15>c?X|=1<<c+1:0<f&&0<J&&(T[f-1]|=1)),0!==(ba&k.Lb)&&(0<
c?X|=1<<c-1:f<y-1&&J<u-1&&(T[f+1]|=32768)),0!==(ba&k.Qb)&&(15>c?ia|=1<<c+1:0<f&&0<J&&(M[f-1]|=1)),0!==(ba&k.nb)&&(0<c?ia|=1<<c-1:f<y-1&&J<u-1&&(M[f+1]|=32768)))}J+=1}Z[f]|=fa;0<d&&(T[f]|=X);d<p-1&&(M[f]|=ia)}else J+=16;K+=16;Q+=16;Q>=v&&(Q=v-1)}for(f=0;f<u;f+=1)m[f]&&(f<l&&(l=f),f>e&&(e=f));l=(l<<4)+this.B(m[l]);e=(e<<4)+this.N(m[e]);0>b&&(b=v-1);B>=v&&(B=0);l>=x&&(l=0);0>e&&(e=x-1);b>v-1&&(b=v-1);0>B&&(B=0);0>l&&(l=0);e>x-1&&(e=x-1);t.s=b;t.g=B;t.f=l;t.o=e;z.fill(0);this.na=C;this.Jb=D;this.cc=G};
q.prototype.CA=function(){var a=this.ee,c,d,f,n,m=this.aa,r,v=this.height,x=this.width,u=x>>4,t=this.J,B=v,b=-1,l=x,e=-1,p=this.ra,y=this.pa>>4,z=this.kd,A=this.counter&1;this.Yc&&(this.Xc=!this.Xc,this.Yc=!1);if(0!==A){var C=this.Mb;var D=this.Za;var G=this.ka;var H=this.ca;this.Xc&&(a=this.Ec)}else C=this.Za,D=this.Mb,G=this.ca,H=this.ka,this.oc&&(a=this.tf),this.Xc&&(a=this.oc?this.fe:this.Ec);this.Xc&&(A=1-A);m.fill(0);var I=1-A;var E=I+16;H.eb.fill(0);for(d=0;d<G.length;d+=1){var F=0;var P=G[d];
var K=H[d];var Q=0<d?H[d-1]:z;var J=d<p-1?H[d+1]:z;for(f=0;f<y;f+=1)if(n=P[f]){var W=K[f];var Z=Q[f];var T=J[f];for(c=15;0<=c;--c){var M=0===c&&f===y-1?!0:!1;if(0!==(n&1<<c)){var fa=r=0;if(0!==A){var X=I;var ia=0;var ma=C[X][F];var ba=C[X+1][F];ia|=ma|ba;var V=a[ma&65280|ba>>8];var da=V&65280;var ca=(V&255)<<8;V=a[(ma&255)<<8|ba&255];da|=V>>8;ca|=V&255;D[X][F]=da;D[X+1][F]=ca;if(V=da|ca)r|=V,X<B&&(B=X),X+1>b&&(b=X+1),V&&(0!==(V&49152)&&(fa|=k.Kb),0!==(V&3)&&(fa|=k.Lb),fa|=k.Bb);for(X+=2;X<E-2;){ma=
C[X][F];ba=C[X+1][F];ia|=ma|ba;V=a[ma&65280|ba>>8];da=V&65280;ca=(V&255)<<8;V=a[(ma&255)<<8|ba&255];da|=V>>8;ca|=V&255;D[X][F]=da;D[X+1][F]=ca;if(V=da|ca)r|=V,X<B&&(B=X),X+1>b&&(b=X+1);X+=2}ma=C[X][F];ba=C[X+1][F];ia|=ma|ba;V=a[ma&65280|ba>>8];da=V&65280;ca=(V&255)<<8;V=a[(ma&255)<<8|ba&255];da|=V>>8;ca|=V&255;D[X][F]=da;D[X+1][F]=ca;if(V=da|ca)r|=V,X<B&&(B=X),X+1>b&&(b=X+1),V&&(0!==(V&49152)&&(fa|=k.Qb),0!==(V&3)&&(fa|=k.nb),fa|=k.ob);r&&(0!==(r&49152)&&(fa|=k.Db),0!==(r&3)&&(fa|=k.cb),m[F]|=r);
if(r||ia)fa|=k.nb,fa|=k.cb}else{X=I;ia=0;M?(ma=C[X][F]<<1&65535,ba=C[X+1][F]<<1&65535):(ma=(C[X][F]<<1|C[X][F+1]>>15)&65535,ba=(C[X+1][F]<<1|C[X+1][F+1]>>15)&65535);ia|=ma|ba;V=a[ma&65280|ba>>8];da=V&65280;ca=(V&255)<<8;V=a[(ma&255)<<8|ba&255];da|=V>>8;ca|=V&255;M?(D[X][F]=D[X][F]&32768|da>>1,D[X+1][F]=D[X+1][F]&32768|ca>>1):(D[X][F]=D[X][F]&32768|da>>1,D[X][F+1]=D[X][F+1]&32767|(da&1)<<15,D[X+1][F]=D[X+1][F]&32768|ca>>1,D[X+1][F+1]=D[X+1][F+1]&32767|(ca&1)<<15);if(V=da|ca)r|=V,X<B&&(B=X),X+1>b&&
(b=X+1);for(X+=2;X<E-2;){M?(ma=C[X][F]<<1&65535,ba=C[X+1][F]<<1&65535):(ma=(C[X][F]<<1|C[X][F+1]>>15)&65535,ba=(C[X+1][F]<<1|C[X+1][F+1]>>15)&65535);ia|=ma|ba;V=a[ma&65280|ba>>8];da=V&65280;ca=(V&255)<<8;V=a[(ma&255)<<8|ba&255];da|=V>>8;ca|=V&255;M?(D[X][F]=D[X][F]&32768|da>>1,D[X+1][F]=D[X+1][F]&32768|ca>>1):(D[X][F]=D[X][F]&32768|da>>1,D[X][F+1]=D[X][F+1]&32767|(da&1)<<15,D[X+1][F]=D[X+1][F]&32768|ca>>1,D[X+1][F+1]=D[X+1][F+1]&32767|(ca&1)<<15);if(V=da|ca)r|=V,X<B&&(B=X),X+1>b&&(b=X+1);X+=2}M?(ma=
C[X][F]<<1&65535,ba=C[X+1][F]<<1&65535):(ma=(C[X][F]<<1|C[X][F+1]>>15)&65535,ba=(C[X+1][F]<<1|C[X+1][F+1]>>15)&65535);ia|=ma|ba;V=a[ma&65280|ba>>8];da=V&65280;ca=(V&255)<<8;V=a[(ma&255)<<8|ba&255];da|=V>>8;ca|=V&255;M?(D[X][F]=D[X][F]&32768|da>>1,D[X+1][F]=D[X+1][F]&32768|ca>>1):(D[X][F]=D[X][F]&32768|da>>1,D[X][F+1]=D[X][F+1]&32767|(da&1)<<15,D[X+1][F]=D[X+1][F]&32768|ca>>1,D[X+1][F+1]=D[X+1][F+1]&32767|(ca&1)<<15);if(V=da|ca)r|=V,X<B&&(B=X),X+1>b&&(b=X+1),0!==(V&3)&&(fa|=k.nb),fa|=k.ob;ma|ba&&(0!==
((ma|ba)&3)&&(fa|=k.nb),fa|=k.ob);r&&(0!==(r&3)&&(fa|=k.cb),m[F]|=r>>1,m[F+1]|=(r&1)<<15);0!==(ia&1)&&(fa|=k.cb)}if(r||ia)W|=1<<c,fa&&(0!==(fa&k.Db)&&(15>c?W|=1<<c+1:0<f&&0<F&&(K[f-1]|=1)),0!==(fa&k.cb)&&(0<c?W|=1<<c-1:f<y-1&&F<u-1&&(K[f+1]|=32768)),0!==(fa&k.Bb)&&(Z|=1<<c),0!==(fa&k.ob)&&(T|=1<<c),0!==(fa&k.Kb)&&(15>c?Z|=1<<c+1:0<f&&0<F&&(Q[f-1]|=1)),0!==(fa&k.Lb)&&(0<c?Z|=1<<c-1:f<y-1&&F<u-1&&(Q[f+1]|=32768)),0!==(fa&k.Qb)&&(15>c?T|=1<<c+1:0<f&&0<F&&(J[f-1]|=1)),0!==(fa&k.nb)&&(0<c?T|=1<<c-1:f<
y-1&&F<u-1&&(J[f+1]|=32768)))}F+=1}K[f]|=W;0<d&&(Q[f]|=Z);d<p-1&&(J[f]|=T)}else F+=16;I+=16;E+=16;E>=v&&(E=v-1)}for(f=0;f<u;f+=1)m[f]&&(f<l&&(l=f),f>e&&(e=f));l=(l<<4)+this.B(m[l]);e=(e<<4)+this.N(m[e]);0>b&&(b=v-1);B>=v&&(B=0);l>=x&&(l=0);0>e&&(e=x-1);b>v-1&&(b=v-1);0>B&&(B=0);0>l&&(l=0);e>x-1&&(e=x-1);t.s=b;t.g=B;t.f=l;t.o=e;z.fill(0)};q.prototype.bB=function(){var a=this.Bh,c,d,f,n,m=this.aa,r,v=this.height,x=this.width,u=x>>4,t=this.J,B=v,b=-1,l=x,e=-1,p=this.ra,y=this.pa>>4,z=this.kd;var A=0;
var C=p;if(0!==(this.counter&1)){var D=this.Mb;var G=this.Za;var H=this.ka;var I=this.ca;this.oc&&(a=this.Ei)}else D=this.Za,G=this.Mb,H=this.ca,I=this.ka;m.fill(0);0>A&&(A=0);C>p&&(C=p);var E=A<<4;var F=E+16;I.eb.fill(0);for(d=A;d<C;d+=1){var P=0;var K=H[d];var Q=I[d];var J=0<d?I[d-1]:z;var W=d<p-1?I[d+1]:z;for(f=0;f<y;f+=1)if(n=K[f]){var Z=Q[f];var T=J[f];var M=W[f];for(c=15;0<=c;--c){if(0!==(n&1<<c)){var fa=r=0;var X=E;var ia=0===X?this.Ye:D[X-1];var ma=D[X];A=D[X+1];var ba=ma[P];ia=ia[P-1]<<18|
ia[P]<<2|ia[P+1]>>14;var V=ma[P-1]<<18|ba<<2|ma[P+1]>>14;var da=A[P-1]<<18|A[P]<<2|A[P+1]>>14;var ca=a[ia>>7&7936|da>>11&224|V>>15&31]<<15;ca|=a[da>>6&7936|ia>>10&224|V>>14&31]<<14;ca|=a[ia>>5&7936|da>>9&224|V>>13&31]<<13;ca|=a[da>>4&7936|ia>>8&224|V>>12&31]<<12;ca|=a[ia>>3&7936|da>>7&224|V>>11&31]<<11;ca|=a[da>>2&7936|ia>>6&224|V>>10&31]<<10;ca|=a[ia>>1&7936|da>>5&224|V>>9&31]<<9;ca|=a[da>>0&7936|ia>>4&224|V>>8&31]<<8;ca|=a[ia<<1&7936|da>>3&224|V>>7&31]<<7;ca|=a[da<<2&7936|ia>>2&224|V>>6&31]<<6;
ca|=a[ia<<3&7936|da>>1&224|V>>5&31]<<5;ca|=a[da<<4&7936|ia>>0&224|V>>4&31]<<4;ca|=a[ia<<5&7936|da<<1&224|V>>3&31]<<3;ca|=a[da<<6&7936|ia<<2&224|V>>2&31]<<2;ca|=a[ia<<7&7936|da<<3&224|V>>1&31]<<1;ca|=a[da<<8&7936|ia<<4&224|V>>0&31]<<0;if(G[X][P]=ca)r|=ca,X<B&&(B=X),X>b&&(b=X),0!==(ca&49152)&&(fa|=k.Kb),0!==(ca&3)&&(fa|=k.Lb),fa|=k.Bb;for(X+=1;X<F-1;){ba|=A[P];A=D[X+1];ia=V;V=da;da=A[P-1]<<18|A[P]<<2|A[P+1]>>14;0!==(X&1)&&(ma=ia,ia=da,da=ma);ca=a[ia>>7&7936|da>>11&224|V>>15&31]<<15;ca|=a[da>>6&7936|
ia>>10&224|V>>14&31]<<14;ca|=a[ia>>5&7936|da>>9&224|V>>13&31]<<13;ca|=a[da>>4&7936|ia>>8&224|V>>12&31]<<12;ca|=a[ia>>3&7936|da>>7&224|V>>11&31]<<11;ca|=a[da>>2&7936|ia>>6&224|V>>10&31]<<10;ca|=a[ia>>1&7936|da>>5&224|V>>9&31]<<9;ca|=a[da>>0&7936|ia>>4&224|V>>8&31]<<8;ca|=a[ia<<1&7936|da>>3&224|V>>7&31]<<7;ca|=a[da<<2&7936|ia>>2&224|V>>6&31]<<6;ca|=a[ia<<3&7936|da>>1&224|V>>5&31]<<5;ca|=a[da<<4&7936|ia>>0&224|V>>4&31]<<4;ca|=a[ia<<5&7936|da<<1&224|V>>3&31]<<3;ca|=a[da<<6&7936|ia<<2&224|V>>2&31]<<2;
ca|=a[ia<<7&7936|da<<3&224|V>>1&31]<<1;ca|=a[da<<8&7936|ia<<4&224|V>>0&31]<<0;0!==(X&1)&&(da=ma=ia);if(G[X][P]=ca)r|=ca,X<B&&(B=X),X>b&&(b=X);X+=1}ba|=A[P];A=X===this.height-1?this.Ye:D[X+1];ia=V;V=da;da=A[P-1]<<18|A[P]<<2|A[P+1]>>14;0!==(X&1)&&(ma=ia,ia=da,da=ma);ca=a[ia>>7&7936|da>>11&224|V>>15&31]<<15;ca|=a[da>>6&7936|ia>>10&224|V>>14&31]<<14;ca|=a[ia>>5&7936|da>>9&224|V>>13&31]<<13;ca|=a[da>>4&7936|ia>>8&224|V>>12&31]<<12;ca|=a[ia>>3&7936|da>>7&224|V>>11&31]<<11;ca|=a[da>>2&7936|ia>>6&224|V>>
10&31]<<10;ca|=a[ia>>1&7936|da>>5&224|V>>9&31]<<9;ca|=a[da>>0&7936|ia>>4&224|V>>8&31]<<8;ca|=a[ia<<1&7936|da>>3&224|V>>7&31]<<7;ca|=a[da<<2&7936|ia>>2&224|V>>6&31]<<6;ca|=a[ia<<3&7936|da>>1&224|V>>5&31]<<5;ca|=a[da<<4&7936|ia>>0&224|V>>4&31]<<4;ca|=a[ia<<5&7936|da<<1&224|V>>3&31]<<3;ca|=a[da<<6&7936|ia<<2&224|V>>2&31]<<2;ca|=a[ia<<7&7936|da<<3&224|V>>1&31]<<1;ca|=a[da<<8&7936|ia<<4&224|V>>0&31]<<0;if(G[X][P]=ca)r|=ca,X<B&&(B=X),X>b&&(b=X),0!==(ca&49152)&&(fa|=k.Qb),0!==(ca&3)&&(fa|=k.nb),fa|=k.ob;
r&&(0!==(r&49152)&&(fa|=k.Db),0!==(r&3)&&(fa|=k.cb));m[P]|=r;if(r||ba)Z|=1<<c,fa&&(0!==(fa&k.Db)&&(15>c?Z|=1<<c+1:0<f&&0<P&&(Q[f-1]|=1)),0!==(fa&k.cb)&&(0<c?Z|=1<<c-1:f<y-1&&P<u-1&&(Q[f+1]|=32768)),0!==(fa&k.Bb)&&(T|=1<<c),0!==(fa&k.ob)&&(M|=1<<c),0!==(fa&k.Kb)&&(15>c?T|=1<<c+1:0<f&&0<P&&(J[f-1]|=1)),0!==(fa&k.Lb)&&(0<c?T|=1<<c-1:f<y-1&&P<u-1&&(J[f+1]|=32768)),0!==(fa&k.Qb)&&(15>c?M|=1<<c+1:0<f&&0<P&&(W[f-1]|=1)),0!==(fa&k.nb)&&(0<c?M|=1<<c-1:f<y-1&&P<u-1&&(W[f+1]|=32768)))}P+=1}Q[f]|=Z;0<d&&(J[f]|=
T);d<p-1&&(W[f]|=M)}else P+=16;E+=16;F+=16}for(f=0;f<u;f+=1)m[f]&&(f<l&&(l=f),f>e&&(e=f));l=(l<<4)+this.B(m[l]);e=(e<<4)+this.N(m[e]);0>b&&(b=v-1);B>=v&&(B=0);l>=x&&(l=0);0>e&&(e=x-1);b>v-1&&(b=v-1);0>B&&(B=0);0>l&&(l=0);e>x-1&&(e=x-1);t.s=b;t.g=B;t.f=l;t.o=e;z.fill(0)};q.prototype.hH=function(){var a=this.Ah,c,d,f,n,m,r,v=this.aa,x,u=this.Ra,t,B=this.ng,b=0,l=0,e=0,p=this.height,y=this.width,z=y>>4,A=this.J,C=p,D=-1,G=y,H=-1,I=this.ra,E=this.pa>>4,F=this.kd,P=this.wa,K=this.ta,Q=Math.round((this.width-
P)/2),J=Math.round((this.height-K)/2),W=Q+P-1,Z=J+K-1;if(0!==(this.counter&1)){var T=this.Mb;var M=this.Za;var fa=this.ka;var X=this.ca;this.oc&&(a=this.Vf)}else T=this.Za,M=this.Mb,fa=this.ca,X=this.ka;v.fill(0);u.fill(0);var ia=0;var ma=ia+16;X.eb.fill(0);for(f=0;f<fa.length;f+=1){var ba=0;var V=fa[f];var da=X[f];var ca=0<f?X[f-1]:F;var na=f<I-1?X[f+1]:F;for(n=0;n<E;n+=1)if(m=V[n]){var la=da[n];var U=ca[n];var R=na[n];for(c=15;0<=c;--c){if(0!==(m&1<<c)){var aa=t=x=0;var ha=ia;var ea=32768;var Y=
0===ha?this.Ye:T[ha-1];var L=T[ha];var N=T[ha+1];var ka=r=L[ba];if(ba)if(ba>=z-1){Y=(Y[ba-1]&1)<<17|Y[ba]<<1;L=(L[ba-1]&1)<<17|r<<1;var S=(N[ba-1]&1)<<17|N[ba]<<1;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d],0!==(d&32768)&&(aa|=k.Kb),aa|=k.Bb;M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;for(ea>>=1;ha<ma-1;){r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1;
if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1}r=N[ba];ka|=r;N=ha===this.height-1?this.Ye:T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d],0!==(d&32768)&&
(aa|=k.Qb),aa|=k.ob}else{Y=(Y[ba-1]&1)<<17|Y[ba]<<1|Y[ba+1]>>15;L=(L[ba-1]&1)<<17|r<<1|L[ba+1]>>15;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d],0!==(d&32768)&&(aa|=k.Kb),0!==(d&1)&&(aa|=k.Lb),aa|=k.Bb;M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=
Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],
e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&
4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=
Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],
e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&
4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=
Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],
e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&
4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1;r=N[ba];ka|=r;N=ha===this.height-1?this.Ye:T[ha+1];Y=L;L=S;S=(N[ba-1]&1)<<17|N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d],0!==(d&32768)&&(aa|=k.Qb),0!==(d&1)&&(aa|=k.nb),aa|=k.ob}else{Y=Y[ba]<<1|Y[ba+1]>>15;L=r<<1|L[ba+1]>>
15;S=N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,0!==(d&1)&&(aa|=k.Lb),aa|=k.Bb,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;for(ea>>=1;ha<ma-1;){r=N[ba];ka|=r;N=T[ha+1];Y=L;L=S;S=N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|
(S&63)<<12])x|=d,t|=ea,b+=B[d];M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);ha+=1;ea>>=1}r=N[ba];ka|=r;N=ha===this.height-1?this.Ye:T[ha+1];Y=L;L=S;S=N[ba]<<1|N[ba+1]>>15;if(d=Y|L|S)if(d=a[Y>>12|L>>12<<6|S&258048]<<12,d|=a[Y>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[Y>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[Y&63|(L&63)<<6|(S&63)<<12])x|=d,t|=ea,b+=B[d],0!==(d&1)&&(aa|=k.nb),aa|=k.ob}M[ha][ba]=d;d|r&&(l+=B[d&~r],e+=B[r&~d]);x&&(0!==(x&32768)&&(aa|=k.Db),0!==(x&1)&&(aa|=k.cb));v[ba]|=x;if(x||ka)la|=1<<c,aa&&(0!==
(aa&k.Db)&&(15>c?la|=1<<c+1:0<n&&0<ba&&(da[n-1]|=1)),0!==(aa&k.cb)&&(0<c?la|=1<<c-1:n<E-1&&ba<z-1&&(da[n+1]|=32768)),0!==(aa&k.Bb)&&(U|=1<<c),0!==(aa&k.ob)&&(R|=1<<c),0!==(aa&k.Kb)&&(15>c?U|=1<<c+1:0<n&&0<ba&&(ca[n-1]|=1)),0!==(aa&k.Lb)&&(0<c?U|=1<<c-1:n<E-1&&ba<z-1&&(ca[n+1]|=32768)),0!==(aa&k.Qb)&&(15>c?R|=1<<c+1:0<n&&0<ba&&(na[n-1]|=1)),0!==(aa&k.nb)&&(0<c?R|=1<<c-1:n<E-1&&ba<z-1&&(na[n+1]|=32768)));u[f]|=t}ba+=1}da[n]|=la;0<f&&(ca[n]|=U);f<I-1&&(na[n]|=R)}else ba+=16;ia+=16;ma+=16}-1!==this.ua&&
(0!==P&&(v[Q-1>>4]&=~(1<<(~(Q-1)&15)),v[W+1>>4]&=~(1<<(~(W+1)&15)),v[Q-2>>4]&=~(1<<(~(Q-2)&15)),v[W+2>>4]&=~(1<<(~(W+2)&15))),0!==K&&(u[J-1>>4]&=~(1<<(~(J-1)&15)),u[Z+1>>4]&=~(1<<(~(Z+1)&15)),u[J-2>>4]&=~(1<<(~(J-2)&15)),u[Z+2>>4]&=~(1<<(~(Z+2)&15))));for(n=0;n<z;n+=1)v[n]&&(n<G&&(G=n),n>H&&(H=n));for(f=0;f<u.length;f+=1)u[f]&&(f<C&&(C=f),f>D&&(D=f));G=(G<<4)+this.B(v[G]);H=(H<<4)+this.N(v[H]);C=(C<<4)+this.B(u[C]);D=(D<<4)+this.N(u[D]);0>D&&(D=p-1);C>=p&&(C=0);G>=y&&(G=0);0>H&&(H=y-1);D>p-1&&(D=
p-1);0>C&&(C=0);0>G&&(G=0);H>y-1&&(H=y-1);A.s=D;A.g=C;A.f=G;A.o=H;F.fill(0);this.na=b;this.Jb=l;this.cc=e};q.prototype.MA=function(){var a=this.Ah,c,d,f,n,m,r=this.aa,v,x=this.Ra,u,t=this.height,B=this.width,b=B>>4,l=this.J,e=t,p=-1,y=B,z=-1,A=this.ra,C=this.pa>>4,D=this.kd,G=this.wa,H=this.ta,I=Math.round((this.width-G)/2),E=Math.round((this.height-H)/2),F=I+G-1,P=E+H-1;if(0!==(this.counter&1)){var K=this.Mb;var Q=this.Za;var J=this.ka;var W=this.ca;this.oc&&(a=this.Vf)}else K=this.Za,Q=this.Mb,
J=this.ca,W=this.ka;r.fill(0);x.fill(0);var Z=0;var T=Z+16;W.eb.fill(0);for(f=0;f<J.length;f+=1){var M=0;var fa=J[f];var X=W[f];var ia=0<f?W[f-1]:D;var ma=f<A-1?W[f+1]:D;for(n=0;n<C;n+=1)if(m=fa[n]){var ba=X[n];var V=ia[n];var da=ma[n];for(c=15;0<=c;--c){if(0!==(m&1<<c)){var ca=u=v=0;var na=Z;var la=32768;var U=0===na?this.Ye:K[na-1];var R=K[na];var aa=K[na+1];var ha=R[M];if(M)if(M>=b-1){U=(U[M-1]&1)<<17|U[M]<<1;R=(R[M-1]&1)<<17|ha<<1;var ea=(aa[M-1]&1)<<17|aa[M]<<1;if(d=U|R|ea)if(d=a[U>>12|R>>12<<
6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la,0!==(d&32768)&&(ca|=k.Kb),ca|=k.Bb;Q[na][M]=d;na+=1;for(la>>=1;na<T-1;){ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1}ha|=aa[M];aa=na===this.height-1?this.Ye:
K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la,0!==(d&32768)&&(ca|=k.Qb),ca|=k.ob}else{U=(U[M-1]&1)<<17|U[M]<<1|U[M+1]>>15;R=(R[M-1]&1)<<17|ha<<1|R[M+1]>>15;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&
63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la,0!==(d&32768)&&(ca|=k.Kb),0!==(d&1)&&(ca|=k.Lb),ca|=k.Bb;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<
12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=
a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<
1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=
R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=
1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<
12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<
4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1;ha|=aa[M];aa=na===this.height-1?this.Ye:K[na+1];U=R;R=ea;ea=(aa[M-1]&1)<<17|aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&
4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la,0!==(d&32768)&&(ca|=k.Qb),0!==(d&1)&&(ca|=k.nb),ca|=k.ob}else{U=U[M]<<1|U[M+1]>>15;R=ha<<1|R[M+1]>>15;ea=aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la,0!==(d&1)&&(ca|=k.Lb),ca|=k.Bb;Q[na][M]=d;na+=1;for(la>>=1;na<T-1;){ha|=aa[M];aa=K[na+1];U=R;R=ea;
ea=aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la;Q[na][M]=d;na+=1;la>>=1}ha|=aa[M];aa=na===this.height-1?this.Ye:K[na+1];U=R;R=ea;ea=aa[M]<<1|aa[M+1]>>15;if(d=U|R|ea)if(d=a[U>>12|R>>12<<6|ea&258048]<<12,d|=a[U>>8&63|R>>2&4032|ea<<4&258048]<<8,d|=a[U>>4&63|R<<2&4032|ea<<8&258048]<<4,d|=a[U&63|(R&63)<<6|(ea&63)<<12])v|=d,u|=la,0!==(d&1)&&(ca|=k.nb),ca|=
k.ob}Q[na][M]=d;v&&(0!==(v&32768)&&(ca|=k.Db),0!==(v&1)&&(ca|=k.cb));r[M]|=v;if(v||ha)ba|=1<<c,ca&&(0!==(ca&k.Db)&&(15>c?ba|=1<<c+1:0<n&&0<M&&(X[n-1]|=1)),0!==(ca&k.cb)&&(0<c?ba|=1<<c-1:n<C-1&&M<b-1&&(X[n+1]|=32768)),0!==(ca&k.Bb)&&(V|=1<<c),0!==(ca&k.ob)&&(da|=1<<c),0!==(ca&k.Kb)&&(15>c?V|=1<<c+1:0<n&&0<M&&(ia[n-1]|=1)),0!==(ca&k.Lb)&&(0<c?V|=1<<c-1:n<C-1&&M<b-1&&(ia[n+1]|=32768)),0!==(ca&k.Qb)&&(15>c?da|=1<<c+1:0<n&&0<M&&(ma[n-1]|=1)),0!==(ca&k.nb)&&(0<c?da|=1<<c-1:n<C-1&&M<b-1&&(ma[n+1]|=32768)));
x[f]|=u}M+=1}X[n]|=ba;0<f&&(ia[n]|=V);f<A-1&&(ma[n]|=da)}else M+=16;Z+=16;T+=16}-1!==this.ua&&(0!==G&&(r[I-1>>4]&=~(1<<(~(I-1)&15)),r[F+1>>4]&=~(1<<(~(F+1)&15)),r[I-2>>4]&=~(1<<(~(I-2)&15)),r[F+2>>4]&=~(1<<(~(F+2)&15))),0!==H&&(x[E-1>>4]&=~(1<<(~(E-1)&15)),x[P+1>>4]&=~(1<<(~(P+1)&15)),x[E-2>>4]&=~(1<<(~(E-2)&15)),x[P+2>>4]&=~(1<<(~(P+2)&15))));for(n=0;n<b;n+=1)r[n]&&(n<y&&(y=n),n>z&&(z=n));for(f=0;f<x.length;f+=1)x[f]&&(f<e&&(e=f),f>p&&(p=f));y=(y<<4)+this.B(r[y]);z=(z<<4)+this.N(r[z]);e=(e<<4)+this.B(x[e]);
p=(p<<4)+this.N(x[p]);0>p&&(p=t-1);e>=t&&(e=0);y>=B&&(y=0);0>z&&(z=B-1);p>t-1&&(p=t-1);0>e&&(e=0);0>y&&(y=0);z>B-1&&(z=B-1);l.s=p;l.g=e;l.f=y;l.o=z;D.fill(0)};q.prototype.Ww=function(a,c){var d,f=this.xa,n,m,r,v,x=this.ra,u=this.pa>>4;var t=0;var B=t+16;for(n=0;n<x;n+=1){var b=0;var l=f[n];for(m=0;m<u;m+=1)if(v=l[m])for(r=15;0<=r;--r){if(0!==(v&1<<r))for(d=t;d<B;d+=2){var e=c[d];var p=a[d];var y=a[d+1];var z=b<<3;var A=p[z];A|=y[z];e[z+z]=A|A>>8;z+=1;A=p[z];A|=y[z];e[z+z]=A|A>>8;z+=1;A=p[z];A|=y[z];
e[z+z]=A|A>>8;z+=1;A=p[z];A|=y[z];e[z+z]=A|A>>8;z+=1;A=p[z];A|=y[z];e[z+z]=A|A>>8;z+=1;A=p[z];A|=y[z];e[z+z]=A|A>>8;z+=1;A=p[z];A|=y[z];e[z+z]=A|A>>8;z+=1;A=p[z];A|=y[z];e[z+z]=A|A>>8}b+=1}else b+=16;t+=16;B+=16}};q.prototype.bp=function(a,c){var d,f=this.xa,n,m,r,v,x=this.ra,u=this.pa>>4;var t=0;var B=t+16;for(n=0;n<x;n+=1){var b=0;var l=f[n];for(m=0;m<u;m+=1)if(v=l[m])for(r=15;0<=r;--r){if(0!==(v&1<<r))for(d=t;d<B;d+=2){var e=c[d];var p=a[d];var y=a[d+1];var z=b<<3;var A=p[z];var C=A&255;A>>=8;
C-=C-(A&255)&C-(A&255)>>255;A=y[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=p[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=y[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=p[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=y[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=p[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=y[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=
1;A=p[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=y[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=p[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=y[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=p[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=y[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=p[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=y[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&
C-(A&255)>>255)}b+=1}else b+=16;t+=16;B+=16}};q.prototype.Xw=function(a,c){var d,f=this.xa,n,m,r,v,x=this.ra,u=this.pa>>4;var t=0;var B=t+16;for(n=0;n<x;n+=1){var b=0;var l=f[n];for(m=0;m<u;m+=1)if(v=l[m])for(r=15;0<=r;--r){if(0!==(v&1<<r))for(d=t;d<B;d+=4){var e=c[d];var p=a[d];var y=a[d+1];var z=a[d+2];var A=a[d+3];var C=b<<2;var D=b<<4;var G=p[C]|y[C]|z[C]|A[C];e[D]=(0<G)<<6;C+=1;D+=4;G=p[C]|y[C]|z[C]|A[C];e[D]=(0<G)<<6;C+=1;D+=4;G=p[C]|y[C]|z[C]|A[C];e[D]=(0<G)<<6;C+=1;D+=4;G=p[C]|y[C]|z[C]|A[C];
e[D]=(0<G)<<6}b+=1}else b+=16;t+=16;B+=16}};q.prototype.ip=function(a,c){var d,f,n=this.xa,m,r,v,x,u,t=this.ra,B=this.pa>>4;var b=0;var l=b+16;for(r=0;r<t;r+=1){var e=0;var p=n[r];for(v=0;v<B;v+=1)if(u=p[v])for(x=15;0<=x;--x){if(0!==(u&1<<x))for(d=b;d<l;d+=4){var y=c[d];var z=a[d];var A=a[d+1];var C=a[d+2];var D=a[d+3];var G=e<<2;var H=e<<4;for(f=0;4>f;f+=1){var I=0;if(m=z[G])I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>
255;if(m=A[G])I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255;if(m=C[G])I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255;if(m=D[G])I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255,m>>=8,I-=I-(m&255)&I-(m&255)>>255;y[H]=I;G+=1;H+=4}}e+=1}else e+=16;b+=16;l+=16}};q.prototype.Zw=function(a,c){var d,
f=this.xa,n,m,r,v,x=this.ra,u=this.pa>>4;var t=0;var B=t+16;for(n=0;n<x;n+=1){var b=0;var l=f[n];for(m=0;m<u;m+=1)if(v=l[m])for(r=15;0<=r;--r){if(0!==(v&1<<r))for(d=t;d<B;d+=8){var e=c[d];var p=a[d];var y=a[d+1];var z=a[d+2];var A=a[d+3];var C=a[d+4];var D=a[d+5];var G=a[d+6];var H=a[d+7];var I=b<<2;var E=b<<4;var F=p[I]|p[I+1];F|=y[I]|y[I+1];F|=z[I]|z[I+1];F|=A[I]|A[I+1];0===F&&(F|=C[I]|C[I+1],F|=D[I]|D[I+1],F|=G[I]|G[I+1],F|=H[I]|H[I+1]);e[E]=(0<F)<<6;I+=2;E+=8;F=p[I]|p[I+1];F|=y[I]|y[I+1];F|=z[I]|
z[I+1];F|=A[I]|A[I+1];0===F&&(F|=C[I]|C[I+1],F|=D[I]|D[I+1],F|=G[I]|G[I+1],F|=H[I]|H[I+1]);e[E]=(0<F)<<6}b+=1}else b+=16;t+=16;B+=16}};q.prototype.np=function(a,c){var d,f,n=this.xa,m,r,v,x,u,t=this.ra,B=this.pa>>4;var b=0;var l=b+16;for(r=0;r<t;r+=1){var e=0;var p=n[r];for(v=0;v<B;v+=1)if(u=p[v])for(x=15;0<=x;--x){if(0!==(u&1<<x))for(d=b;d<l;d+=8){var y=c[d];var z=a[d];var A=a[d+1];var C=a[d+2];var D=a[d+3];var G=a[d+4];var H=a[d+5];var I=a[d+6];var E=a[d+7];var F=e<<2;var P=e<<4;for(f=0;2>f;f+=
1){var K=0;if(m=z[F])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=z[F+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=A[F])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=A[F+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>
255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=C[F])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=C[F+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=D[F])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=D[F+
1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=G[F])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=G[F+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=H[F])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&
255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=H[F+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=I[F])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=I[F+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=E[F])K-=K-(m&255)&
K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=E[F+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;y[P]=K;F+=2;P+=8}}e+=1}else e+=16;b+=16;l+=16}};q.prototype.Vw=function(a,c){var d=this.xa,f,n,m,r,v,x=this.ra,u=this.pa>>4;for(f=r=0;f<x;f+=1){var t=0;var B=d[f];for(n=0;n<u;n+=1)if(v=B[n])for(m=15;0<=m;--m){if(0!==(v&1<<m)){var b=c[r];var l=
a[r];var e=a[r+1];var p=a[r+2];var y=a[r+3];var z=a[r+4];var A=a[r+5];var C=a[r+6];var D=a[r+7];var G=a[r+8];var H=a[r+9];var I=a[r+10];var E=a[r+11];var F=a[r+12];var P=a[r+13];var K=a[r+14];var Q=a[r+15];var J=t<<2;var W=t<<4;l=l[J]|l[J+1]|l[J+2]|l[J+3];l|=e[J]|e[J+1]|e[J+2]|e[J+3];l|=p[J]|p[J+1]|p[J+2]|p[J+3];l|=y[J]|y[J+1]|y[J+2]|y[J+3];0===l&&(l|=z[J]|z[J+1]|z[J+2]|z[J+3],l|=A[J]|A[J+1]|A[J+2]|A[J+3],l|=C[J]|C[J+1]|C[J+2]|C[J+3],l|=D[J]|D[J+1]|D[J+2]|D[J+3],0===l&&(l|=G[J]|G[J+1]|G[J+2]|G[J+
3],l|=H[J]|H[J+1]|H[J+2]|H[J+3],l|=I[J]|I[J+1]|I[J+2]|I[J+3],l|=E[J]|E[J+1]|E[J+2]|E[J+3],0===l&&(l|=F[J]|F[J+1]|F[J+2]|F[J+3],l|=P[J]|P[J+1]|P[J+2]|P[J+3],l|=K[J]|K[J+1]|K[J+2]|K[J+3],l|=Q[J]|Q[J+1]|Q[J+2]|Q[J+3])));b[W]=(0<l)<<6}t+=1}else t+=16;r+=16}};q.prototype.Zo=function(a,c){var d=this.xa,f,n,m,r,v,x,u=this.ra,t=this.pa>>4;var B=0;var b=B+16;for(n=0;n<u;n+=1){var l=0;var e=d[n];for(m=0;m<t;m+=1)if(x=e[m])for(r=15;0<=r;--r){if(0!==(x&1<<r)){var p=0;for(v=B;v<b;v+=1){var y=a[v];var z=l<<2;if(f=
y[z])p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255;if(f=y[z+1])p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255;if(f=y[z+2])p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255;if(f=y[z+3])p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255,f>>=8,p-=
p-(f&255)&p-(f&255)>>255,f>>=8,p-=p-(f&255)&p-(f&255)>>255}y=c[B];z=l<<4;y[z]=p}l+=1}else l+=16;B+=16;b+=16}};q.prototype.jx=function(a,c){var d=this.ia;.5<=d&&1>d?this.pl||this.oa||this.G||this.ba||this.M?this.bp(a,this.zc):this.Ww(a,this.zc):.25<=d&&.5>d?this.pl||this.oa||this.G||this.ba||this.M?this.ip(c,this.zc):this.Xw(c,this.zc):.125<=d&&.25>d?this.pl||this.oa||this.G||this.ba||this.M?this.np(c,this.zc):this.Zw(c,this.zc):.125>d&&(this.pl||this.oa||this.G||this.ba||this.M?this.Zo(c,this.zc):
this.Vw(c,this.zc));this.$h&&(.5<=d&&1>d?this.bp(this.Yn,this.xe):.25<=d&&.5>d?this.ip(this.el,this.xe):.125<=d&&.25>d?this.np(this.el,this.xe):.125>d&&this.Zo(this.el,this.xe))};q.prototype.eH=function(){var a=this.xa,c=this.Da,d=this.Jc,f,n,m,r,v=this.width,x=v>>4,u=this.height,t=v,B=-1,b=-1,l=u,e=this.J,p,y=this.aa,z,A,C=this.Ra;var D=this.ra;var G=this.pa>>4;var H=0;var I=D,E=this.ng;this.Z=0;if(0!==(this.counter&1)){var F=this.Mb;var P=this.ka;var K=this.X;var Q=this.Fa}else F=this.Za,P=this.ca,
K=this.Fa,Q=this.X;0>H&&(H=0);I>D&&(I=D);y.fill(0);C.fill(0);D=H<<4;var J=D+16;for(f=H;f<I;f+=1){var W=0;var Z=P[f];var T=c[f];var M=a[f];for(n=0;n<G;n+=1){if(r=Z[n]|T[n])for(m=15;0<=m;--m){if(0!==(r&1<<m)){var fa=z=0;var X=32768;var ia=0;for(H=D;H<J;H+=1){var ma=F[H];var ba=K[H];var V=0===H?d:K[H-1];var da=H===this.height-1?d:K[H+1];var ca=Q[H];var na=W<<4;if(0===na)var la=p=0;else p=ba[na-1],la=V[na-1];var U=da[na];var R=ba[na];var aa=ma[W];for(A=32768;0<A;){var ha=la;la=V[na];var ea=p;p=R;R=ba[na+
1];var Y=U;U=da[na+1];var L=p;var N=!0;if(0!==(ia&64)){N=!1;if(7===p||8===p||13<=p)L=0;else switch(p){case 1:L=2;break;case 3:case 5:L=4;break;case 9:L=10;break;case 11:L=12;break;default:N=!0}N||0===(p&1)||(ma[W]&=~A)}ia=1<<ha|1<<la|1<<R|1<<ea|1<<Y|1<<U;if(N)if(0!==(aa&A)){if(0===(p&1))switch(p){case 4:L=3;break;case 6:ma[W]&=~A;break;case 8:L=7;break;default:L=1,N=ia&44739072,0===(ia&170)&&1===E[N&65535]+E[N>>16]?(L=0,65535<N&&(N>>=16,L+=16),255<N&&(N>>=8,L+=8),15<N&&(N>>=4,L+=4),3<N&&(N>>=2,L+=
2),L+=N>>1):(N=ia&44736512,0!==(ia&8)&&0===(ia&2722)&&1===E[N&65535]+E[N>>16]?(L=0,65535<N&&(N>>=16,L+=16),255<N&&(N>>=8,L+=8),15<N&&(N>>=4,L+=4),3<N&&(N>>=2,L+=2),L+=N>>1):(N=ia&2560,0!==(ia&128)&&0===(ia&44736554)&&1===E[N&65535]+E[N>>16]?(L=0,65535<N&&(N>>=16,L+=16),255<N&&(N>>=8,L+=8),15<N&&(N>>=4,L+=4),3<N&&(N>>=2,L+=2),L+=N>>1):(N=ia&44736640)&&0===(ia&2602)&&(L=13)))}}else if(0!==(p&1))11>=p?5===p?L=4:L=p+1:L=0;else if(14===p)L=0;else if(14<p)switch(p){case 16:0!==(ia&44755626)&&(L=14);break;
case 18:0!==(ia&4194304)&&(L=22);break;case 20:0!==(ia&262144)&&(L=18);break;case 22:0!==(ia&1048576)&&(L=20);break;case 24:0!==(ia&45017770)&&(L=18)}ca[na]=L;0<L&&(z|=A,fa|=X);A>>=1;na+=1}this.Z|=aa;X>>=1}y[W]|=z;C[f]|=fa}W+=1}else W+=16;T[n]=r|0;M[n]=M[n]|r|0}D+=16;J+=16}for(n=0;n<x;n+=1)y[n]&&(n<t&&(t=n),n>B&&(B=n));for(f=0;f<C.length;f+=1)C[f]&&(f<l&&(l=f),f>b&&(b=f));t=(t<<4)+this.B(y[t]);B=(B<<4)+this.N(y[B]);l=(l<<4)+this.B(C[l]);b=(b<<4)+this.N(C[b]);0>b&&(b=u-1);l>=u&&(l=0);t>=v&&(t=0);0>
B&&(B=v-1);b>u-1&&(b=u-1);0>l&&(l=0);0>t&&(t=0);B>v-1&&(B=v-1);e.s=b;e.g=l;e.f=t;e.o=B};q.prototype.gH=function(){var a=this.xa,c=this.Da,d=this.Jc,f,n,m,r,v=this.width,x=v>>4,u=this.height,t=v,B=-1,b=-1,l=u,e=this.J,p=0,y=this.aa,z,A,C=this.Ra;var D=this.ra;var G=this.pa>>4;var H=0;var I=D,E=this.ng;this.Z=0;if(0!==(this.counter&1)){var F=this.Mb;var P=this.ka;var K=this.X;var Q=this.Fa}else F=this.Za,P=this.ca,K=this.Fa,Q=this.X;0>H&&(H=0);I>D&&(I=D);y.fill(0);C.fill(0);D=H<<4;var J=D+16;for(f=
H;f<I;f+=1){var W=0;var Z=P[f];var T=c[f];var M=a[f];for(n=0;n<G;n+=1){if(r=Z[n]|T[n])for(m=15;0<=m;--m){if(0!==(r&1<<m)){var fa=z=0;var X=32768;for(H=D;H<J;H+=1){var ia=F[H];var ma=K[H];var ba=0===H?d:K[H-1];var V=H===this.height-1?d:K[H+1];var da=Q[H];var ca=W<<4;0===ca?p=0:p=ma[ca-1];var na=ma[ca];var la=ia[W];for(A=32768;0<A;){var U=ba[ca];var R=p;p=na;na=ma[ca+1];var aa=V[ca];var ha=p;U=1<<U|1<<na|1<<R|1<<aa;R=!0;if(0!==(U&64)){R=!1;if(7===p||8===p||13<=p)ha=0;else switch(p){case 1:ha=2;break;
case 3:case 5:ha=4;break;case 9:ha=10;break;case 11:ha=12;break;default:R=!0}R||0===(p&1)||(ia[W]&=~A)}if(R)if(0!==(la&A)){if(0===(p&1))switch(p){case 4:ha=3;break;case 6:ia[W]&=~A;break;case 8:ha=7;break;default:ha=1,R=U&44739072,0===(U&170)&&1===E[R&65535]+E[R>>16]?(ha=0,65535<R&&(R>>=16,ha+=16),255<R&&(R>>=8,ha+=8),15<R&&(R>>=4,ha+=4),3<R&&(R>>=2,ha+=2),ha+=R>>1):(R=U&44736512,0!==(U&8)&&0===(U&2722)&&1===E[R&65535]+E[R>>16]?(ha=0,65535<R&&(R>>=16,ha+=16),255<R&&(R>>=8,ha+=8),15<R&&(R>>=4,ha+=
4),3<R&&(R>>=2,ha+=2),ha+=R>>1):(R=U&2560,0!==(U&128)&&0===(U&44736554)&&1===E[R&65535]+E[R>>16]?(ha=0,65535<R&&(R>>=16,ha+=16),255<R&&(R>>=8,ha+=8),15<R&&(R>>=4,ha+=4),3<R&&(R>>=2,ha+=2),ha+=R>>1):(R=U&44736640)&&0===(U&2602)&&(ha=13)))}}else if(0!==(p&1))11>=p?5===p?ha=4:ha=p+1:ha=0;else if(14===p)ha=0;else if(14<p)switch(p){case 16:0!==(U&44755626)&&(ha=14);break;case 18:0!==(U&4194304)&&(ha=22);break;case 20:0!==(U&262144)&&(ha=18);break;case 22:0!==(U&1048576)&&(ha=20);break;case 24:0!==(U&45017770)&&
(ha=18)}da[ca]=ha;0<ha&&(z|=A,fa|=X);A>>=1;ca+=1}this.Z|=la;X>>=1}y[W]|=z;C[f]|=fa}W+=1}else W+=16;T[n]=r|0;M[n]=M[n]|r|0}D+=16;J+=16}for(n=0;n<x;n+=1)y[n]&&(n<t&&(t=n),n>B&&(B=n));for(f=0;f<C.length;f+=1)C[f]&&(f<l&&(l=f),f>b&&(b=f));t=(t<<4)+this.B(y[t]);B=(B<<4)+this.N(y[B]);l=(l<<4)+this.B(C[l]);b=(b<<4)+this.N(C[b]);0>b&&(b=u-1);l>=u&&(l=0);t>=v&&(t=0);0>B&&(B=v-1);b>u-1&&(b=u-1);0>l&&(l=0);0>t&&(t=0);B>v-1&&(B=v-1);e.s=b;e.g=l;e.f=t;e.o=B};q.prototype.fH=function(){var a=this.xa,c=this.Da,d=
this.Jc,f,n,m,r,v=this.width,x=v>>4,u=this.height,t=v,B=-1,b=-1,l=u,e=this.J,p,y,z=this.aa,A,C,D=this.Ra;var G=this.ra;var H=this.pa>>4;var I=0;var E=G,F=this.Uu;this.Z=0;if(0!==(this.counter&1)){var P=this.Mb;var K=this.ka;var Q=this.X;var J=this.Fa}else P=this.Za,K=this.ca,Q=this.Fa,J=this.X;0>I&&(I=0);E>G&&(E=G);z.fill(0);D.fill(0);G=I<<4;var W=G+16;for(f=I;f<E;f+=1){var Z=0;var T=K[f];var M=c[f];var fa=a[f];for(n=0;n<H;n+=1){if(r=T[n]|M[n])for(m=15;0<=m;--m){if(0!==(r&1<<m)){var X=A=0;var ia=
32768;for(I=G;I<W;I+=1){var ma=P[I];var ba=Q[I];var V=0===I?d:Q[I-1];var da=I===this.height-1?d:Q[I+1];var ca=J[I];var na=Z<<4;if(0===na)var la=y=p=0;else p=V[na-1],y=ba[na-1],la=da[na-1];var U=V[na];var R=ba[na];var aa=da[na];var ha=ma[Z];for(C=32768;0<C;){var ea=p;p=U;var Y=y;y=R;var L=la;la=aa;R=ba[na+1];aa=da[na+1];U=V[na+1];var N=y;ea=1<<ea|1<<p|1<<U|1<<R|1<<Y|1<<L|1<<la|1<<aa;Y=!0;if(0!==(ea&64)){Y=!1;if(7===y||8===y||13<=y)N=0;else switch(y){case 1:N=2;break;case 3:case 5:N=4;break;case 9:N=
10;break;case 11:N=12;break;default:Y=!0}Y||0===(y&1)||(ma[Z]&=~C)}if(Y)if(0!==(ha&C)){if(0===(y&1))switch(y){case 4:N=3;break;case 6:ma[Z]&=~C;break;case 8:N=7;break;default:N=1,Y=ea&44739072,0===(ea&170)&&Y&&0===(Y&Y-1)?(N=0,65535<Y&&(Y>>=16,N+=16),N+=F[Y]):(Y=ea&44736512,0!==(ea&8)&&0===(ea&2722)&&Y&&0===(Y&Y-1)?(N=0,65535<Y&&(Y>>=16,N+=16),N+=F[Y]):(Y=ea&2560,0!==(ea&128)&&0===(ea&44736554)&&Y&&0===(Y&Y-1)?(N=0,65535<Y&&(Y>>=16,N+=16),N+=F[Y]):(Y=ea&44736640)&&0===(ea&2602)&&(N=13)))}}else if(0!==
(y&1))11>=y?5===y?N=4:N=y+1:N=0;else if(14===y)N=0;else if(14<y)switch(y){case 16:0!==(ea&44755626)&&(N=14);break;case 18:0!==(ea&4194304)&&(N=22);break;case 20:0!==(ea&262144)&&(N=18);break;case 22:0!==(ea&1048576)&&(N=20);break;case 24:0!==(ea&45017770)&&(N=18)}ca[na]=N;0<N&&(A|=C,X|=ia);C>>=1;na+=1}this.Z|=ha;ia>>=1}z[Z]|=A;D[f]|=X}Z+=1}else Z+=16;M[n]=r|0;fa[n]=fa[n]|r|0}G+=16;W+=16}for(n=0;n<x;n+=1)z[n]&&(n<t&&(t=n),n>B&&(B=n));for(f=0;f<D.length;f+=1)D[f]&&(f<l&&(l=f),f>b&&(b=f));t=(t<<4)+this.B(z[t]);
B=(B<<4)+this.N(z[B]);l=(l<<4)+this.B(D[l]);b=(b<<4)+this.N(D[b]);0>b&&(b=u-1);l>=u&&(l=0);t>=v&&(t=0);0>B&&(B=v-1);b>u-1&&(b=u-1);0>l&&(l=0);0>t&&(t=0);B>v-1&&(B=v-1);e.s=b;e.g=l;e.f=t;e.o=B};q.prototype.Pz=function(){var a=this.X,c=this.xa,d=this.Da,f,n,m,r,v,x=0,u=0,t=0,B=this.width,b=B>>4,l=this.height,e=B,p=-1,y=-1,z=l,A=this.J,C=this.aa,D,G,H=this.Ra;var I=this.ra;var E=this.pa>>4;var F=0;var P=I,K=this.c+this.L-1,Q=this.L,J=0<this.L?1:0;this.Z=0;if(0!==(this.counter&1)){var W=this.Mb;var Z=
this.ka}else W=this.Za,Z=this.ca;0>F&&(F=0);P>I&&(P=I);C.fill(0);H.fill(0);I=F<<4;var T=I+16;for(n=F;n<P;n+=1){var M=0;var fa=Z[n];var X=d[n];var ia=c[n];for(m=0;m<E;m+=1){var ma=fa[m]|X[m];var ba=0;if(ma)for(r=15;0<=r;--r){if(0!==(ma&1<<r)){var V=D=0;var da=32768;var ca=0;for(F=I;F<T;F+=1){var na=W[F];var la=a[F];var U=M<<4;var R=na[M];for(v=G=32768;0<v;){var aa=f=la[U];(f<=Q||f===K)&&0!==(R&v)?f=K:(R&=~v,f>J&&--f);la[U]=f;f>J&&(ca=1,f>Q&&(D|=G,V|=da),f===K&&(x+=1,aa!==K&&(u+=1)));aa===K&&f!==K&&
(t+=1);G>>=1;U+=1;v>>=1;aa=f=la[U];(f<=Q||f===K)&&0!==(R&v)?f=K:(R&=~v,f>J&&--f);la[U]=f;f>J&&(ca=1,f>Q&&(D|=G,V|=da),f===K&&(x+=1,aa!==K&&(u+=1)));aa===K&&f!==K&&(t+=1);G>>=1;U+=1;v>>=1;aa=f=la[U];(f<=Q||f===K)&&0!==(R&v)?f=K:(R&=~v,f>J&&--f);la[U]=f;f>J&&(ca=1,f>Q&&(D|=G,V|=da),f===K&&(x+=1,aa!==K&&(u+=1)));aa===K&&f!==K&&(t+=1);G>>=1;U+=1;v>>=1;aa=f=la[U];(f<=Q||f===K)&&0!==(R&v)?f=K:(R&=~v,f>J&&--f);la[U]=f;f>J&&(ca=1,f>Q&&(D|=G,V|=da),f===K&&(x+=1,aa!==K&&(u+=1)));aa===K&&f!==K&&(t+=1);G>>=1;
U+=1;v>>=1}na[M]=R;this.Z|=R;da>>=1}C[M]|=D;H[n]|=V;ca&&(ba|=1<<r)}M+=1}else M+=16;X[m]=ba;ia[m]|=ba}I+=16;T+=16}for(m=0;m<b;m+=1)C[m]&&(m<e&&(e=m),m>p&&(p=m));for(n=0;n<H.length;n+=1)H[n]&&(n<z&&(z=n),n>y&&(y=n));e=(e<<4)+this.B(C[e]);p=(p<<4)+this.N(C[p]);z=(z<<4)+this.B(H[z]);y=(y<<4)+this.N(H[y]);0>y&&(y=l-1);z>=l&&(z=0);e>=B&&(e=0);0>p&&(p=B-1);y>l-1&&(y=l-1);0>z&&(z=0);0>e&&(e=0);p>B-1&&(p=B-1);A.s=y;A.g=z;A.f=e;A.o=p;this.na=x;this.Jb=u;this.cc=t};q.prototype.Ex=function(){var a=this.X,c=this.xa,
d,f,n,m,r;var v=this.ra;var x=this.pa>>4;var u=0;var t=v,B=0<this.L?1:0;0>u&&(u=0);t>v&&(t=v);v=u<<4;var b=v+16;for(d=u;d<t;d+=1){var l=0;var e=c[d];for(f=0;f<x;f+=1)if(r=e[f])for(n=15;0<=n;--n){if(0!==(r&1<<n))for(u=v;u<b;u+=1){var p=a[u];var y=l<<4;for(m=15;0<=m;--m){var z=p[y];z>B&&(--z,p[y]=z);y+=1}}l+=1}else l+=16;v+=16;b+=16}};q.prototype.$e=function(){this.Ja||this.G||this.ba||this.M||(-1===this.c?this.Kd?this.Tw():this.pl?this.Uw():this.Pw():this.Z||this.Ex(),this.Mi&&this.Gw())};q.prototype.Nw=
function(){var a,c=this.Xj,d=this.xa,f,n,m,r=0,v,x=this.ra,u=this.pa>>4;var t=16;for(f=0;f<x;f+=1){var B=0;var b=d[f];for(n=0;n<u;n+=1)if(v=b[n])for(m=15;0<=m;--m){if(0!==(v&1<<m))for(a=r;a<t;){var l=c[a];var e=B<<3;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;a+=1}B+=1}else B+=16;r+=16;t+=16}};q.prototype.dH=function(){var a=this.wa,c=this.ta,d=this.J;this.O?this.eH():this.ne?this.gH():this.fH();if(-1!==this.ua){var f=
Math.round((this.width-a)/2);var n=Math.round((this.height-c)/2);a=f+a-1;c=n+c-1;d.f<f&&(d.f=f);d.o>a&&(d.o=a);d.g<n&&(d.g=n);d.s>c&&(d.s=c)}};q.prototype.hC=function(){switch(this.mj){case PatternConstants.Yp:this.HC();break;case PatternConstants.Wp:this.FC();break;case PatternConstants.kl:this.CC();break;case PatternConstants.Xp:this.pC()}};q.prototype.pC=function(){var a=this.Fg;var c=a[0],d=a[1],f=a[2],n=this.Md,m=this.Eg,r,v,x=0,u,t,B,b=this.xa,l=this.Da,e,p=this.aa,y,z=this.Ra,A,C,D=0,G=0,H=
0,I=this.height,E=this.width,F=E>>4,P=this.J,K=I,Q=-1,J=E,W=-1,Z=this.ra,T=this.pa>>4,M=this.kd;if(0!==(this.counter&1)){var fa=this.Fa;var X=this.fa;var ia=this.X;var ma=this.ka;var ba=this.ca}else fa=this.X,X=this.Vd,ia=this.Fa,ma=this.ca,ba=this.ka;p.fill(0);z.fill(0);var V=0;var da=V+16;ba.eb.fill(0);for(t=0;t<ma.length;t+=1){var ca=0;var na=ca+16;var la=ma[t];var U=ba[t];var R=l[t];var aa=b[t];var ha=0<t?ba[t-1]:M;var ea=t<Z-1?ba[t+1]:M;for(B=0;B<T;B+=1)if(e=la[B]){var Y=U[B];var L=ha[B];var N=
ea[B];for(u=15;0<=u;--u){if(0!==(e&1<<u)){var ka=A=y=0;var S=V;for(C=32768;S<da;){a=fa[S];var O=ia[S];var ja=32768;var oa=ca;0===oa?x=0:x=a[oa-1];for(v=a[oa];oa<na-1;){var qa=x;x=v;v=a[oa+1];var ra=c[x];var ta=d[qa];var pa=f[v];var sa=x;for(r=0;r<m;r+=1)if(qa=ra[r]&ta[r]&pa[r]){ra=0;for(pa=1;!(qa&pa);)ra+=1,pa<<=1;sa=n[(r<<5)+ra];break}O[oa]=sa;0<sa?(D+=1,0===x&&(G+=1),A|=C,y|=ja):0<x&&(H+=1);ja>>=1;oa+=1}qa=x;x=v;oa===E-1?v=0:v=a[oa+1];ra=c[x];ta=d[qa];pa=f[v];sa=x;for(r=0;r<m;r+=1)if(qa=ra[r]&ta[r]&
pa[r]){ra=0;for(pa=1;!(qa&pa);)ra+=1,pa<<=1;sa=n[(r<<5)+ra];break}O[oa]=sa;0<sa?(D+=1,0===x&&(G+=1),A|=C,y|=ja):0<x&&(H+=1);S+=1;C>>=1}p[ca>>4]|=y;y&&(Y|=1<<u,A&1&&(ka|=k.ob,y&32768&&(ka|=k.Qb),y&1&&(ka|=k.nb)),A&32768&&(ka|=k.Bb,y&32768&&(ka|=k.Kb),y&1&&(ka|=k.Lb)),y&32768&&(ka|=k.Db),y&1&&(ka|=k.cb),ka&&(0!==(ka&k.Db)&&(15>u?Y|=1<<u+1:0<B&&0<ca&&(U[B-1]|=1)),0!==(ka&k.cb)&&(0<u?Y|=1<<u-1:B<T-1&&ca<E-1&&(U[B+1]|=32768)),0!==(ka&k.Bb)&&(L|=1<<u),0!==(ka&k.ob)&&(N|=1<<u),0!==(ka&k.Kb)&&(15>u?L|=1<<
u+1:0<B&&0<ca&&(ha[B-1]|=1)),0!==(ka&k.Lb)&&(0<u?L|=1<<u-1:B<T-1&&ca<E-1&&(ha[B+1]|=32768)),0!==(ka&k.Qb)&&(15>u?N|=1<<u+1:0<B&&0<ca&&(ea[B-1]|=1)),0!==(ka&k.nb)&&(0<u?N|=1<<u-1:B<T-1&&ca<E-1&&(ea[B+1]|=32768))));z[t]|=A}ca+=16;na+=16}U[B]|=Y;R[B]=e|Y;aa[B]=aa[B]|e|Y;0<t&&(ha[B]|=L);t<Z-1&&(ea[B]|=N)}else ca+=256,na+=256;V+=16;da+=16}for(B=0;B<F;B+=1)p[B]&&(B<J&&(J=B),B>W&&(W=B));for(t=0;t<z.length;t+=1)z[t]&&(t<K&&(K=t),t>Q&&(Q=t));J=(J<<4)+this.B(p[J]);W=(W<<4)+this.N(p[W]);K=(K<<4)+this.B(z[K]);
Q=(Q<<4)+this.N(z[Q]);0>Q&&(Q=I-1);K>=I&&(K=0);J>=E&&(J=0);0>W&&(W=E-1);Q>I-1&&(Q=I-1);0>K&&(K=0);0>J&&(J=0);W>E-1&&(W=E-1);P.s=Q;P.g=K;P.f=J;P.o=W;M.fill(0);V=0;da=V+16;for(t=0;t<ma.length;t+=1){ca=0;la=ma[t];U=ba[t];for(B=0;B<T;B+=1)if(e=la[B],Y=U[B],e!==Y)for(u=15;0<=u;--u){if((e&1<<u)!==(Y&1<<u)&&0===(Y&1<<u))for(S=V;S<da;S+=1)a=X[S],oa=ca>>2,a[oa]=0,a[oa+1]=0,a[oa+2]=0,a[oa+3]=0;ca+=16}else ca+=256;V+=16;da+=16}this.na=D;this.Jb=G;this.cc=H;this.Z=D};q.prototype.HC=function(){var a=this.Fg;var c=
a[0],d=a[1],f=a[2],n=a[3],m=a[4],r=this.Md,v=this.Eg,x,u=0,t,B,b,l=this.xa,e=this.Da,p,y=this.aa,z,A=this.Ra,C,D,G=0,H=0,I=0,E=this.height,F=this.width,P=F>>4,K=this.J,Q=E,J=-1,W=F,Z=-1,T=this.ra,M=this.pa>>4,fa=this.kd;if(0!==(this.counter&1)){var X=this.Fa;var ia=this.fa;var ma=this.X;var ba=this.ka;var V=this.ca}else X=this.X,ia=this.Vd,ma=this.Fa,ba=this.ca,V=this.ka;y.fill(0);A.fill(0);var da=0;var ca=da+16;V.eb.fill(0);for(B=0;B<ba.length;B+=1){var na=0;var la=na+16;var U=ba[B];var R=V[B];var aa=
e[B];var ha=l[B];var ea=0<B?V[B-1]:fa;var Y=B<T-1?V[B+1]:fa;for(b=0;b<M;b+=1)if(p=U[b]){var L=R[b];var N=ea[b];var ka=Y[b];for(t=15;0<=t;--t){if(0!==(p&1<<t)){var S=C=z=0;var O=da;for(D=32768;O<ca;){a=0===O?this.Jc:X[O-1];var ja=X[O];var oa=O===this.height-1?this.Jc:X[O+1];var qa=ma[O];var ra=32768;var ta=na;0===ta?u=0:u=ja[ta-1];for(x=ja[ta];ta<la-1;){var pa=u;u=x;var sa=a[ta];x=ja[ta+1];var xa=oa[ta];var Ca=c[u];sa=d[sa];var za=f[x];var wa=n[xa];var Da=m[pa];var Ea=u;for(xa=0;xa<v;xa+=1)if(pa=Ca[xa]&
sa[xa])if(pa&=za[xa]&wa[xa]&Da[xa]){Ca=0;for(sa=1;!(pa&sa);)Ca+=1,sa<<=1;Ea=r[(xa<<5)+Ca];break}qa[ta]=Ea;0<Ea?(G+=1,0===u&&(H+=1),C|=D,z|=ra):0<u&&(I+=1);ra>>=1;ta+=1}pa=u;u=x;sa=a[ta];ta===F-1?x=0:x=ja[ta+1];xa=oa[ta];Ca=c[u];sa=d[sa];za=f[x];wa=n[xa];Da=m[pa];Ea=u;for(xa=0;xa<v;xa+=1)if(pa=Ca[xa]&sa[xa])if(pa&=za[xa]&wa[xa]&Da[xa]){Ca=0;for(sa=1;!(pa&sa);)Ca+=1,sa<<=1;Ea=r[(xa<<5)+Ca];break}qa[ta]=Ea;0<Ea?(G+=1,0===u&&(H+=1),C|=D,z|=ra):0<u&&(I+=1);O+=1;D>>=1}y[na>>4]|=z;z&&(L|=1<<t,C&1&&(S|=k.ob,
z&32768&&(S|=k.Qb),z&1&&(S|=k.nb)),C&32768&&(S|=k.Bb,z&32768&&(S|=k.Kb),z&1&&(S|=k.Lb)),z&32768&&(S|=k.Db),z&1&&(S|=k.cb),S&&(0!==(S&k.Db)&&(15>t?L|=1<<t+1:0<b&&0<na&&(R[b-1]|=1)),0!==(S&k.cb)&&(0<t?L|=1<<t-1:b<M-1&&na<F-1&&(R[b+1]|=32768)),0!==(S&k.Bb)&&(N|=1<<t),0!==(S&k.ob)&&(ka|=1<<t),0!==(S&k.Kb)&&(15>t?N|=1<<t+1:0<b&&0<na&&(ea[b-1]|=1)),0!==(S&k.Lb)&&(0<t?N|=1<<t-1:b<M-1&&na<F-1&&(ea[b+1]|=32768)),0!==(S&k.Qb)&&(15>t?ka|=1<<t+1:0<b&&0<na&&(Y[b-1]|=1)),0!==(S&k.nb)&&(0<t?ka|=1<<t-1:b<M-1&&na<
F-1&&(Y[b+1]|=32768))));A[B]|=C}na+=16;la+=16}R[b]|=L;aa[b]=p|L;ha[b]=ha[b]|p|L;0<B&&(ea[b]|=N);B<T-1&&(Y[b]|=ka)}else na+=256,la+=256;da+=16;ca+=16}for(b=0;b<P;b+=1)y[b]&&(b<W&&(W=b),b>Z&&(Z=b));for(B=0;B<A.length;B+=1)A[B]&&(B<Q&&(Q=B),B>J&&(J=B));W=(W<<4)+this.B(y[W]);Z=(Z<<4)+this.N(y[Z]);Q=(Q<<4)+this.B(A[Q]);J=(J<<4)+this.N(A[J]);0>J&&(J=E-1);Q>=E&&(Q=0);W>=F&&(W=0);0>Z&&(Z=F-1);J>E-1&&(J=E-1);0>Q&&(Q=0);0>W&&(W=0);Z>F-1&&(Z=F-1);K.s=J;K.g=Q;K.f=W;K.o=Z;fa.fill(0);da=0;ca=da+16;for(B=0;B<ba.length;B+=
1){na=0;U=ba[B];R=V[B];for(b=0;b<M;b+=1)if(p=U[b],L=R[b],p!==L)for(t=15;0<=t;--t){if((p&1<<t)!==(L&1<<t)&&0===(L&1<<t))for(O=da;O<ca;O+=1)ja=ia[O],ta=na>>2,ja[ta]=0,ja[ta+1]=0,ja[ta+2]=0,ja[ta+3]=0;na+=16}else na+=256;da+=16;ca+=16}this.na=G;this.Jb=H;this.cc=I;this.Z=G};q.prototype.FC=function(){var a=this.Fg;var c=a[0],d=a[1],f=a[2],n=a[3],m=a[4],r=a[5],v=a[6],x=a[7],u=a[8],t=this.Md,B=this.Eg,b,l,e,p,y,z,A=this.xa,C=this.Da,D,G=this.aa,H,I=this.Ra,E,F,P=0,K=0,Q=0,J=this.height,W=this.width,Z=W>>
4,T=this.J,M=J,fa=-1,X=W,ia=-1,ma=this.ra,ba=this.pa>>4,V=this.kd;if(0!==(this.counter&1)){var da=this.Fa;var ca=this.fa;var na=this.X;var la=this.ka;var U=this.ca}else da=this.X,ca=this.Vd,na=this.Fa,la=this.ca,U=this.ka;G.fill(0);I.fill(0);var R=0;var aa=R+16;U.eb.fill(0);for(y=0;y<la.length;y+=1){var ha=0;var ea=ha+16;var Y=la[y];var L=U[y];var N=C[y];var ka=A[y];var S=0<y?U[y-1]:V;var O=y<ma-1?U[y+1]:V;for(z=0;z<ba;z+=1)if(D=Y[z]){var ja=L[z];var oa=S[z];var qa=O[z];for(p=15;0<=p;--p){if(0!==
(D&1<<p)){var ra=E=H=0;var ta=R;for(F=32768;ta<aa;){a=0===ta?this.Jc:da[ta-1];var pa=da[ta];var sa=ta===this.height-1?this.Jc:da[ta+1];var xa=na[ta];var Ca=32768;var za=ha;if(0===za)var wa=e=b=0;else b=a[za-1],e=sa[za-1],wa=pa[za-1];var Da=a[za];var Ea=sa[za];for(l=pa[za];za<ea-1;){var Ba=b;b=Da;Da=a[za+1];var ya=wa;wa=l;l=pa[za+1];var Ja=e;e=Ea;Ea=sa[za+1];var Ka=wa;var Na=c[wa];var Ga=d[b];var La=f[Da];var ua=n[l];var Aa=m[Ea];var va=r[e];Ja=v[Ja];var Ha=x[ya];var Ra=u[Ba];for(ya=0;ya<B;ya+=1)if(Ba=
Na[ya]&Ga[ya])if(Ba&=La[ya]&ua[ya])if(Ba&=Aa[ya]&va[ya])if(Ba&=Ja[ya]&Ha[ya]&Ra[ya]){Ga=0;for(La=1;!(Ba&La);)Ga+=1,La<<=1;Ka=t[(ya<<5)+Ga];break}xa[za]=Ka;0<Ka?(P+=1,0===wa&&(K+=1),E|=F,H|=Ca):0<wa&&(Q+=1);Ca>>=1;za+=1}Ba=b;b=Da;ya=wa;wa=l;Ja=e;e=Ea;za===W-1?Ea=l=Da=0:(Da=a[za+1],l=pa[za+1],Ea=sa[za+1]);Na=c[wa];Ga=d[b];La=f[Da];ua=n[l];Aa=m[Ea];va=r[e];Ja=v[Ja];Ha=x[ya];Ra=u[Ba];Ka=wa;for(ya=0;ya<B;ya+=1)if(Ba=Na[ya]&Ga[ya])if(Ba&=La[ya]&ua[ya])if(Ba&=Aa[ya]&va[ya])if(Ba&=Ja[ya]&Ha[ya]&Ra[ya]){Ga=
0;for(La=1;!(Ba&La);)Ga+=1,La<<=1;Ka=t[(ya<<5)+Ga];break}xa[za]=Ka;0<Ka?(P+=1,0===wa&&(K+=1),E|=F,H|=Ca):0<wa&&(Q+=1);ta+=1;F>>=1}G[ha>>4]|=H;H&&(ja|=1<<p,E&1&&(ra|=k.ob,H&32768&&(ra|=k.Qb),H&1&&(ra|=k.nb)),E&32768&&(ra|=k.Bb,H&32768&&(ra|=k.Kb),H&1&&(ra|=k.Lb)),H&32768&&(ra|=k.Db),H&1&&(ra|=k.cb),ra&&(0!==(ra&k.Db)&&(15>p?ja|=1<<p+1:0<z&&0<ha&&(L[z-1]|=1)),0!==(ra&k.cb)&&(0<p?ja|=1<<p-1:z<ba-1&&ha<W-1&&(L[z+1]|=32768)),0!==(ra&k.Bb)&&(oa|=1<<p),0!==(ra&k.ob)&&(qa|=1<<p),0!==(ra&k.Kb)&&(15>p?oa|=
1<<p+1:0<z&&0<ha&&(S[z-1]|=1)),0!==(ra&k.Lb)&&(0<p?oa|=1<<p-1:z<ba-1&&ha<W-1&&(S[z+1]|=32768)),0!==(ra&k.Qb)&&(15>p?qa|=1<<p+1:0<z&&0<ha&&(O[z-1]|=1)),0!==(ra&k.nb)&&(0<p?qa|=1<<p-1:z<ba-1&&ha<W-1&&(O[z+1]|=32768))));I[y]|=E}ha+=16;ea+=16}L[z]|=ja;N[z]=D|ja;ka[z]=ka[z]|D|ja;0<y&&(S[z]|=oa);y<ma-1&&(O[z]|=qa)}else ha+=256,ea+=256;R+=16;aa+=16}for(z=0;z<Z;z+=1)G[z]&&(z<X&&(X=z),z>ia&&(ia=z));for(y=0;y<I.length;y+=1)I[y]&&(y<M&&(M=y),y>fa&&(fa=y));X=(X<<4)+this.B(G[X]);ia=(ia<<4)+this.N(G[ia]);M=(M<<
4)+this.B(I[M]);fa=(fa<<4)+this.N(I[fa]);0>fa&&(fa=J-1);M>=J&&(M=0);X>=W&&(X=0);0>ia&&(ia=W-1);fa>J-1&&(fa=J-1);0>M&&(M=0);0>X&&(X=0);ia>W-1&&(ia=W-1);T.s=fa;T.g=M;T.f=X;T.o=ia;V.fill(0);R=0;aa=R+16;for(y=0;y<la.length;y+=1){ha=0;Y=la[y];L=U[y];for(z=0;z<ba;z+=1)if(D=Y[z],ja=L[z],D!==ja)for(p=15;0<=p;--p){if((D&1<<p)!==(ja&1<<p)&&0===(ja&1<<p))for(ta=R;ta<aa;ta+=1)pa=ca[ta],za=ha>>2,pa[za]=0,pa[za+1]=0,pa[za+2]=0,pa[za+3]=0;ha+=16}else ha+=256;R+=16;aa+=16}this.na=P;this.Jb=K;this.cc=Q;this.Z=P};
q.prototype.CC=function(){var a=this.Fg;var c=a[0],d=a[1],f=a[2],n=a[3],m=a[4],r=a[5],v=a[6],x=this.Md,u=this.Eg,t,B,b,l,e,p=this.xa,y=this.Da,z,A=this.aa,C,D=this.Ra,G,H,I=0,E=0,F=0,P=this.height,K=this.width,Q=K>>4,J=this.J,W=P,Z=-1,T=K,M=-1,fa=this.ra,X=this.pa>>4,ia=this.kd;if(0!==(this.counter&1)){var ma=this.Fa;var ba=this.fa;var V=this.X;var da=this.ka;var ca=this.ca}else ma=this.X,ba=this.Vd,V=this.Fa,da=this.ca,ca=this.ka;A.fill(0);D.fill(0);var na=0;var la=na+16;ca.eb.fill(0);for(l=0;l<
da.length;l+=1){var U=0;var R=U+16;var aa=da[l];var ha=ca[l];var ea=y[l];var Y=p[l];var L=0<l?ca[l-1]:ia;var N=l<fa-1?ca[l+1]:ia;for(e=0;e<X;e+=1)if(z=aa[e]){var ka=ha[e];var S=L[e];var O=N[e];for(b=15;0<=b;--b){if(0!==(z&1<<b)){var ja=G=C=0;var oa=na;for(H=32768;oa<la;){a=0===oa?this.Jc:ma[oa-1];var qa=ma[oa];var ra=oa===this.height-1?this.Jc:ma[oa+1];var ta=V[oa];var pa=32768;var sa=U;if(0===sa)var xa=t=0;else t=a[sa-1],xa=qa[sa-1];var Ca=ra[sa];for(B=qa[sa];sa<R-1;){var za=t;t=a[sa];var wa=xa;
xa=B;B=qa[sa+1];var Da=Ca;Ca=ra[sa+1];var Ea=c[xa];var Ba=d[t];var ya=f[B];var Ja=n[Ca];Da=m[Da];var Ka=r[wa];var Na=v[za];var Ga=xa;for(wa=0;wa<u;wa+=1)if(za=Ea[wa]&Ba[wa])if(za&=ya[wa]&Ja[wa])if(za&=Da[wa]&Ka[wa]&Na[wa]){Ba=0;for(ya=1;!(za&ya);)Ba+=1,ya<<=1;Ga=x[(wa<<5)+Ba];break}ta[sa]=Ga;0<Ga?(I+=1,0===xa&&(E+=1),G|=H,C|=pa):0<xa&&(F+=1);pa>>=1;sa+=1}za=t;t=a[sa];wa=xa;xa=B;Da=Ca;sa===K-1?Ca=B=0:(B=qa[sa+1],Ca=ra[sa+1]);Ea=c[xa];Ba=d[t];ya=f[B];Ja=n[Ca];Da=m[Da];Ka=r[wa];Na=v[za];Ga=xa;for(wa=
0;wa<u;wa+=1)if(za=Ea[wa]&Ba[wa])if(za&=ya[wa]&Ja[wa])if(za&=Da[wa]&Ka[wa]&Na[wa]){Ba=0;for(ya=1;!(za&ya);)Ba+=1,ya<<=1;Ga=x[(wa<<5)+Ba];break}ta[sa]=Ga;0<Ga?(I+=1,0===xa&&(E+=1),G|=H,C|=pa):0<xa&&(F+=1);oa+=1;H>>=1}A[U>>4]|=C;C&&(ka|=1<<b,G&1&&(ja|=k.ob,C&32768&&(ja|=k.Qb),C&1&&(ja|=k.nb)),G&32768&&(ja|=k.Bb,C&32768&&(ja|=k.Kb),C&1&&(ja|=k.Lb)),C&32768&&(ja|=k.Db),C&1&&(ja|=k.cb),ja&&(0!==(ja&k.Db)&&(15>b?ka|=1<<b+1:0<e&&0<U&&(ha[e-1]|=1)),0!==(ja&k.cb)&&(0<b?ka|=1<<b-1:e<X-1&&U<K-1&&(ha[e+1]|=32768)),
0!==(ja&k.Bb)&&(S|=1<<b),0!==(ja&k.ob)&&(O|=1<<b),0!==(ja&k.Kb)&&(15>b?S|=1<<b+1:0<e&&0<U&&(L[e-1]|=1)),0!==(ja&k.Lb)&&(0<b?S|=1<<b-1:e<X-1&&U<K-1&&(L[e+1]|=32768)),0!==(ja&k.Qb)&&(15>b?O|=1<<b+1:0<e&&0<U&&(N[e-1]|=1)),0!==(ja&k.nb)&&(0<b?O|=1<<b-1:e<X-1&&U<K-1&&(N[e+1]|=32768))));D[l]|=G}U+=16;R+=16}ha[e]|=ka;ea[e]=z|ka;Y[e]=Y[e]|z|ka;0<l&&(L[e]|=S);l<fa-1&&(N[e]|=O)}else U+=256,R+=256;na+=16;la+=16}for(e=0;e<Q;e+=1)A[e]&&(e<T&&(T=e),e>M&&(M=e));for(l=0;l<D.length;l+=1)D[l]&&(l<W&&(W=l),l>Z&&(Z=
l));T=(T<<4)+this.B(A[T]);M=(M<<4)+this.N(A[M]);W=(W<<4)+this.B(D[W]);Z=(Z<<4)+this.N(D[Z]);0>Z&&(Z=P-1);W>=P&&(W=0);T>=K&&(T=0);0>M&&(M=K-1);Z>P-1&&(Z=P-1);0>W&&(W=0);0>T&&(T=0);M>K-1&&(M=K-1);J.s=Z;J.g=W;J.f=T;J.o=M;ia.fill(0);na=0;la=na+16;for(l=0;l<da.length;l+=1){U=0;aa=da[l];ha=ca[l];for(e=0;e<X;e+=1)if(z=aa[e],ka=ha[e],z!==ka)for(b=15;0<=b;--b){if((z&1<<b)!==(ka&1<<b)&&0===(ka&1<<b))for(oa=na;oa<la;oa+=1)qa=ba[oa],sa=U>>2,qa[sa]=0,qa[sa+1]=0,qa[sa+2]=0,qa[sa+3]=0;U+=16}else U+=256;na+=16;la+=
16}this.na=I;this.Jb=E;this.cc=F;this.Z=I};q.prototype.IC=function(){if(4===this.eg)if(null!==this.ge)switch(this.sw){case 1:this.Dw();break;case 2:this.Fw();break;case 3:this.Hw();break;case 4:this.Jw();break;default:this.ev()}else this.ev();else this.Bw()};q.prototype.Bw=function(){var a=this.pk,c=this.qk,d=this.ll,f,n,m,r,v,x=this.xa,u=this.Da,t,B=this.aa,b,l=this.Ra,e,p,y=0,z=0,A=0,C=this.height,D=this.width,G=D>>4,H=this.J,I=C,E=-1,F=D,P=-1,K=this.ra,Q=this.pa>>4,J=this.kd;if(0!==(this.counter&
1)){var W=this.Fa;var Z=this.fa;var T=this.X;var M=this.ka;var fa=this.ca}else W=this.X,Z=this.Vd,T=this.Fa,M=this.ca,fa=this.ka;B.fill(0);l.fill(0);var X=0;var ia=X+16;fa.eb.fill(0);for(r=0;r<M.length;r+=1){var ma=0;var ba=M[r];var V=fa[r];var da=u[r];var ca=x[r];var na=0<r?fa[r-1]:J;var la=r<K-1?fa[r+1]:J;for(v=0;v<Q;v+=1)if(t=ba[v]){var U=V[v];var R=na[v];var aa=la[v];for(m=15;0<=m;--m){if(0!==(t&1<<m)){var ha=e=b=0;var ea=X;for(p=32768;ea<ia;){var Y=0===ea?this.Jc:W[ea-1];var L=W[ea];var N=ea===
this.height-1?this.Jc:W[ea+1];var ka=T[ea];var S=32768;var O=ma;if(0===O)var ja=n=f=0;else f=Y[O-1],n=N[O-1],ja=L[O-1];var oa=Y[O];var qa=N[O];var ra=L[O];var ta=f;f=oa;oa=Y[O+1];var pa=ja;ja=ra;ra=L[O+1];var sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&
(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+
ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];
pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===
ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+
ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=Y[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=N[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;pa=ja;ja=
ra;sa=n;n=qa;O===D-1?qa=ra=oa=0:(oa=Y[O+1],ra=L[O+1],qa=N[O+1]);pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(y+=1,0===ja&&(z+=1),e|=p,b|=S):0<ja&&(A+=1);ea+=1;p>>=1}B[ma>>4]|=b;b&&(U|=1<<m,e&1&&(ha|=k.ob,b&32768&&(ha|=k.Qb),b&1&&(ha|=k.nb)),e&32768&&(ha|=k.Bb,b&32768&&(ha|=k.Kb),b&1&&(ha|=k.Lb)),b&32768&&(ha|=k.Db),b&1&&(ha|=k.cb),ha&&(0!==(ha&k.Db)&&(15>m?U|=1<<m+1:0<v&&0<ma&&(V[v-1]|=1)),0!==(ha&k.cb)&&(0<m?U|=1<<m-1:v<Q-1&&ma<D-1&&(V[v+1]|=32768)),0!==(ha&k.Bb)&&(R|=
1<<m),0!==(ha&k.ob)&&(aa|=1<<m),0!==(ha&k.Kb)&&(15>m?R|=1<<m+1:0<v&&0<ma&&(na[v-1]|=1)),0!==(ha&k.Lb)&&(0<m?R|=1<<m-1:v<Q-1&&ma<D-1&&(na[v+1]|=32768)),0!==(ha&k.Qb)&&(15>m?aa|=1<<m+1:0<v&&0<ma&&(la[v-1]|=1)),0!==(ha&k.nb)&&(0<m?aa|=1<<m-1:v<Q-1&&ma<D-1&&(la[v+1]|=32768))));l[r]|=e}ma+=16}V[v]|=U;da[v]=t|U;ca[v]=ca[v]|t|U;0<r&&(na[v]|=R);r<K-1&&(la[v]|=aa)}else ma+=256;X+=16;ia+=16}for(v=0;v<G;v+=1)B[v]&&(v<F&&(F=v),v>P&&(P=v));for(r=0;r<l.length;r+=1)l[r]&&(r<I&&(I=r),r>E&&(E=r));F=(F<<4)+this.B(B[F]);
P=(P<<4)+this.N(B[P]);I=(I<<4)+this.B(l[I]);E=(E<<4)+this.N(l[E]);0>E&&(E=C-1);I>=C&&(I=0);F>=D&&(F=0);0>P&&(P=D-1);E>C-1&&(E=C-1);0>I&&(I=0);0>F&&(F=0);P>D-1&&(P=D-1);H.s=E;H.g=I;H.f=F;H.o=P;J.fill(0);X=0;ia=X+16;for(r=0;r<M.length;r+=1){ma=0;ba=M[r];V=fa[r];for(v=0;v<Q;v+=1)if(t=ba[v],U=V[v],t!==U)for(m=15;0<=m;--m){if((t&1<<m)!==(U&1<<m)&&0===(U&1<<m))for(ea=X;ea<ia;ea+=1)L=Z[ea],O=ma>>2,L[O]=0,L[O+1]=0,L[O+2]=0,L[O+3]=0;ma+=16}else ma+=256;X+=16;ia+=16}this.na=y;this.Jb=z;this.cc=A;this.Z=y};
q.prototype.Dw=function(){var a=this.ge,c,d,f,n=this.xa,m=this.Da,r=null,v=null,x,u=this.aa,t,B=this.Ra,b,l,e=0,p=0,y=0,z=this.height,A=this.width,C=A>>4,D=this.J,G=z,H=-1,I=A,E=-1,F=this.ra,P=this.pa>>4,K=this.kd;if(0!==(this.counter&1)){var Q=this.Fa;var J=this.fa;var W=this.Vd;var Z=this.ka;var T=this.ca}else Q=this.X,J=this.Vd,W=this.fa,Z=this.ca,T=this.ka;u.fill(0);B.fill(0);var M=0;var fa=M+16;T.eb.fill(0);for(d=0;d<Z.length;d+=1){var X=0;var ia=Z[d];var ma=T[d];var ba=m[d];var V=n[d];0<d?r=
T[d-1]:r=K;d<F-1?v=T[d+1]:v=K;for(f=0;f<P;f+=1)if(x=ia[f]){var da=ma[f];var ca=r[f];var na=v[f];for(c=15;0<=c;--c){if(0!==(x&1<<c)){var la=b=t=0;var U=M;for(l=32768;U<fa;){var R=0===U?this.Jc:Q[U-1];var aa=Q[U];var ha=U===this.height-1?this.Jc:Q[U+1];var ea=W[U];var Y=32768;var L=X;var N=R[L];var ka=aa[L+1];var S=ha[L];var O=0===L?aa[L]<<3|ka<<2|N<<1|S:aa[L-1]<<4|aa[L]<<3|ka<<2|N<<1|S;var ja=a[O];0<ja?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&
24|ka<<2|N<<1|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;ja=a[O];0<ja?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;
L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;ja=a[O];0<ja?(e+=1,0===(O&8)&&(p+=
1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<
1|S;ja=a[O];0<ja?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&8)&&(p+=1),b|=l,t|=Y):0!==(O&8)&&(y+=1);Y>>=1;L+=1;N=R[L];L===A-1?ka=0:ka=aa[L+1];S=ha[L];O=O<<1&24|ka<<2|N<<1|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);
U+=1;l>>=1}u[X>>4]|=t;t&&(da|=1<<c,b&1&&(la|=k.ob,t&32768&&(la|=k.Qb),t&1&&(la|=k.nb)),b&32768&&(la|=k.Bb,t&32768&&(la|=k.Kb),t&1&&(la|=k.Lb)),t&32768&&(la|=k.Db),t&1&&(la|=k.cb),la&&(0!==(la&k.Db)&&(15>c?da|=1<<c+1:0<f&&0<X&&(ma[f-1]|=1)),0!==(la&k.cb)&&(0<c?da|=1<<c-1:f<P-1&&X<A-1&&(ma[f+1]|=32768)),0!==(la&k.Bb)&&(ca|=1<<c),0!==(la&k.ob)&&(na|=1<<c),0!==(la&k.Kb)&&(15>c?ca|=1<<c+1:0<f&&0<X&&(r[f-1]|=1)),0!==(la&k.Lb)&&(0<c?ca|=1<<c-1:f<P-1&&X<A-1&&(r[f+1]|=32768)),0!==(la&k.Qb)&&(15>c?na|=1<<c+
1:0<f&&0<X&&(v[f-1]|=1)),0!==(la&k.nb)&&(0<c?na|=1<<c-1:f<P-1&&X<A-1&&(v[f+1]|=32768))));B[d]|=b}X+=16}ma[f]|=da;ba[f]=x|da;V[f]=V[f]|x|da;0<d&&(r[f]|=ca);d<F-1&&(v[f]|=na)}else X+=256;M+=16;fa+=16}for(f=0;f<C;f+=1)u[f]&&(f<I&&(I=f),f>E&&(E=f));for(d=0;d<B.length;d+=1)B[d]&&(d<G&&(G=d),d>H&&(H=d));I=(I<<4)+this.B(u[I]);E=(E<<4)+this.N(u[E]);G=(G<<4)+this.B(B[G]);H=(H<<4)+this.N(B[H]);0>H&&(H=z-1);G>=z&&(G=0);I>=A&&(I=0);0>E&&(E=A-1);H>z-1&&(H=z-1);0>G&&(G=0);0>I&&(I=0);E>A-1&&(E=A-1);D.s=H;D.g=G;
D.f=I;D.o=E;K.fill(0);M=0;fa=M+16;for(d=0;d<Z.length;d+=1){X=0;ia=Z[d];ma=T[d];for(f=0;f<P;f+=1)if(x=ia[f],da=ma[f],x!==da)for(c=15;0<=c;--c){if((x&1<<c)!==(da&1<<c)&&0===(da&1<<c))for(U=M;U<fa;U+=1)aa=J[U],L=X>>2,aa[L]=0,aa[L+1]=0,aa[L+2]=0,aa[L+3]=0;X+=16}else X+=256;M+=16;fa+=16}this.na=e;this.Jb=p;this.cc=y;this.Z=e};q.prototype.Fw=function(){var a=this.ge,c,d,f,n=this.xa,m=this.Da,r=null,v=null,x,u=this.aa,t,B=this.Ra,b,l,e=0,p=0,y=0,z=this.height,A=this.width,C=A>>4,D=this.J,G=z,H=-1,I=A,E=
-1,F=this.ra,P=this.pa>>4,K=this.kd;if(0!==(this.counter&1)){var Q=this.Fa;var J=this.fa;var W=this.Vd;var Z=this.ka;var T=this.ca}else Q=this.X,J=this.Vd,W=this.fa,Z=this.ca,T=this.ka;u.fill(0);B.fill(0);var M=0;var fa=M+16;T.eb.fill(0);for(d=0;d<Z.length;d+=1){var X=0;var ia=Z[d];var ma=T[d];var ba=m[d];var V=n[d];0<d?r=T[d-1]:r=K;d<F-1?v=T[d+1]:v=K;for(f=0;f<P;f+=1)if(x=ia[f]){var da=ma[f];var ca=r[f];var na=v[f];for(c=15;0<=c;--c){if(0!==(x&1<<c)){var la=b=t=0;var U=M;for(l=32768;U<fa;){var R=
0===U?this.Jc:Q[U-1];var aa=Q[U];var ha=U===this.height-1?this.Jc:Q[U+1];var ea=W[U];var Y=32768;var L=X;var N=R[L];var ka=aa[L+1];var S=ha[L];var O=0===L?aa[L]<<6|ka<<4|N<<2|S:aa[L-1]<<8|aa[L]<<6|ka<<4|N<<2|S;var ja=a[O];0<ja?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<16;0<
N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;ja=a[O];0<ja?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+
1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;ja=a[O];0<ja?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&192)&&(p+=1),
b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;ja=a[O];0<ja?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<
4|N<<2|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);Y>>=1;L+=1;N=R[L];L===A-1?ka=0:ka=aa[L+1];S=ha[L];O=O<<2&960|ka<<4|N<<2|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&192)&&(p+=1),b|=l,t|=Y):0!==(O&192)&&(y+=1);U+=1;l>>=1}u[X>>4]|=t;t&&(da|=1<<c,b&1&&(la|=k.ob,t&32768&&(la|=k.Qb),t&1&&(la|=k.nb)),b&32768&&(la|=k.Bb,t&32768&&
(la|=k.Kb),t&1&&(la|=k.Lb)),t&32768&&(la|=k.Db),t&1&&(la|=k.cb),la&&(0!==(la&k.Db)&&(15>c?da|=1<<c+1:0<f&&0<X&&(ma[f-1]|=1)),0!==(la&k.cb)&&(0<c?da|=1<<c-1:f<P-1&&X<A-1&&(ma[f+1]|=32768)),0!==(la&k.Bb)&&(ca|=1<<c),0!==(la&k.ob)&&(na|=1<<c),0!==(la&k.Kb)&&(15>c?ca|=1<<c+1:0<f&&0<X&&(r[f-1]|=1)),0!==(la&k.Lb)&&(0<c?ca|=1<<c-1:f<P-1&&X<A-1&&(r[f+1]|=32768)),0!==(la&k.Qb)&&(15>c?na|=1<<c+1:0<f&&0<X&&(v[f-1]|=1)),0!==(la&k.nb)&&(0<c?na|=1<<c-1:f<P-1&&X<A-1&&(v[f+1]|=32768))));B[d]|=b}X+=16}ma[f]|=da;ba[f]=
x|da;V[f]=V[f]|x|da;0<d&&(r[f]|=ca);d<F-1&&(v[f]|=na)}else X+=256;M+=16;fa+=16}for(f=0;f<C;f+=1)u[f]&&(f<I&&(I=f),f>E&&(E=f));for(d=0;d<B.length;d+=1)B[d]&&(d<G&&(G=d),d>H&&(H=d));I=(I<<4)+this.B(u[I]);E=(E<<4)+this.N(u[E]);G=(G<<4)+this.B(B[G]);H=(H<<4)+this.N(B[H]);0>H&&(H=z-1);G>=z&&(G=0);I>=A&&(I=0);0>E&&(E=A-1);H>z-1&&(H=z-1);0>G&&(G=0);0>I&&(I=0);E>A-1&&(E=A-1);D.s=H;D.g=G;D.f=I;D.o=E;K.fill(0);M=0;fa=M+16;for(d=0;d<Z.length;d+=1){X=0;ia=Z[d];ma=T[d];for(f=0;f<P;f+=1)if(x=ia[f],da=ma[f],x!==
da)for(c=15;0<=c;--c){if((x&1<<c)!==(da&1<<c)&&0===(da&1<<c))for(U=M;U<fa;U+=1)aa=J[U],L=X>>2,aa[L]=0,aa[L+1]=0,aa[L+2]=0,aa[L+3]=0;X+=16}else X+=256;M+=16;fa+=16}this.na=e;this.Jb=p;this.cc=y;this.Z=e};q.prototype.Hw=function(){var a=this.ge,c,d,f,n=this.xa,m=this.Da,r=null,v=null,x,u=this.aa,t,B=this.Ra,b,l,e=0,p=0,y=0,z=this.height,A=this.width,C=A>>4,D=this.J,G=z,H=-1,I=A,E=-1,F=this.ra,P=this.pa>>4,K=this.kd;if(0!==(this.counter&1)){var Q=this.Fa;var J=this.fa;var W=this.Vd;var Z=this.ka;var T=
this.ca}else Q=this.X,J=this.Vd,W=this.fa,Z=this.ca,T=this.ka;u.fill(0);B.fill(0);var M=0;var fa=M+16;T.eb.fill(0);for(d=0;d<Z.length;d+=1){var X=0;var ia=Z[d];var ma=T[d];var ba=m[d];var V=n[d];0<d?r=T[d-1]:r=K;d<F-1?v=T[d+1]:v=K;for(f=0;f<P;f+=1)if(x=ia[f]){var da=ma[f];var ca=r[f];var na=v[f];for(c=15;0<=c;--c){if(0!==(x&1<<c)){var la=b=t=0;var U=M;for(l=32768;U<fa;){var R=0===U?this.Jc:Q[U-1];var aa=Q[U];var ha=U===this.height-1?this.Jc:Q[U+1];var ea=W[U];var Y=32768;var L=X;var N=R[L];var ka=
aa[L+1];var S=ha[L];var O=0===L?aa[L]<<9|ka<<6|N<<3|S:aa[L-1]<<12|aa[L]<<9|ka<<6|N<<3|S;var ja=a[O];0<ja?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<
6|N<<3|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;ja=a[O];0<ja?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==
(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;ja=a[O];0<ja?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<
6|N<<3|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;ja=a[O];0<ja?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==
(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);Y>>=1;L+=1;N=R[L];L===A-1?ka=0:ka=aa[L+1];S=ha[L];O=O<<3&32256|ka<<6|N<<3|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&3584)&&(p+=1),b|=l,t|=Y):0!==(O&3584)&&(y+=1);U+=1;l>>=1}u[X>>4]|=t;t&&(da|=1<<c,b&1&&(la|=k.ob,t&32768&&(la|=k.Qb),t&1&&(la|=k.nb)),b&32768&&(la|=k.Bb,t&32768&&(la|=k.Kb),t&1&&(la|=k.Lb)),t&32768&&(la|=k.Db),t&1&&(la|=
k.cb),la&&(0!==(la&k.Db)&&(15>c?da|=1<<c+1:0<f&&0<X&&(ma[f-1]|=1)),0!==(la&k.cb)&&(0<c?da|=1<<c-1:f<P-1&&X<A-1&&(ma[f+1]|=32768)),0!==(la&k.Bb)&&(ca|=1<<c),0!==(la&k.ob)&&(na|=1<<c),0!==(la&k.Kb)&&(15>c?ca|=1<<c+1:0<f&&0<X&&(r[f-1]|=1)),0!==(la&k.Lb)&&(0<c?ca|=1<<c-1:f<P-1&&X<A-1&&(r[f+1]|=32768)),0!==(la&k.Qb)&&(15>c?na|=1<<c+1:0<f&&0<X&&(v[f-1]|=1)),0!==(la&k.nb)&&(0<c?na|=1<<c-1:f<P-1&&X<A-1&&(v[f+1]|=32768))));B[d]|=b}X+=16}ma[f]|=da;ba[f]=x|da;V[f]=V[f]|x|da;0<d&&(r[f]|=ca);d<F-1&&(v[f]|=na)}else X+=
256;M+=16;fa+=16}for(f=0;f<C;f+=1)u[f]&&(f<I&&(I=f),f>E&&(E=f));for(d=0;d<B.length;d+=1)B[d]&&(d<G&&(G=d),d>H&&(H=d));I=(I<<4)+this.B(u[I]);E=(E<<4)+this.N(u[E]);G=(G<<4)+this.B(B[G]);H=(H<<4)+this.N(B[H]);0>H&&(H=z-1);G>=z&&(G=0);I>=A&&(I=0);0>E&&(E=A-1);H>z-1&&(H=z-1);0>G&&(G=0);0>I&&(I=0);E>A-1&&(E=A-1);D.s=H;D.g=G;D.f=I;D.o=E;K.fill(0);M=0;fa=M+16;for(d=0;d<Z.length;d+=1){X=0;ia=Z[d];ma=T[d];for(f=0;f<P;f+=1)if(x=ia[f],da=ma[f],x!==da)for(c=15;0<=c;--c){if((x&1<<c)!==(da&1<<c)&&0===(da&1<<c))for(U=
M;U<fa;U+=1)aa=J[U],L=X>>2,aa[L]=0,aa[L+1]=0,aa[L+2]=0,aa[L+3]=0;X+=16}else X+=256;M+=16;fa+=16}this.na=e;this.Jb=p;this.cc=y;this.Z=e};q.prototype.Jw=function(){var a=this.ge,c,d,f,n=this.xa,m=this.Da,r=null,v=null,x,u=this.aa,t,B=this.Ra,b,l,e=0,p=0,y=0,z=this.height,A=this.width,C=A>>4,D=this.J,G=z,H=-1,I=A,E=-1,F=this.ra,P=this.pa>>4,K=this.kd;if(0!==(this.counter&1)){var Q=this.Fa;var J=this.fa;var W=this.Vd;var Z=this.ka;var T=this.ca}else Q=this.X,J=this.Vd,W=this.fa,Z=this.ca,T=this.ka;u.fill(0);
B.fill(0);var M=0;var fa=M+16;T.eb.fill(0);for(d=0;d<Z.length;d+=1){var X=0;var ia=Z[d];var ma=T[d];var ba=m[d];var V=n[d];0<d?r=T[d-1]:r=K;d<F-1?v=T[d+1]:v=K;for(f=0;f<P;f+=1)if(x=ia[f]){var da=ma[f];var ca=r[f];var na=v[f];for(c=15;0<=c;--c){if(0!==(x&1<<c)){var la=b=t=0;var U=M;for(l=32768;U<fa;){var R=0===U?this.Jc:Q[U-1];var aa=Q[U];var ha=U===this.height-1?this.Jc:Q[U+1];var ea=W[U];var Y=32768;var L=X;var N=R[L];var ka=aa[L+1];var S=ha[L];var O=0===L?aa[L]<<12|ka<<8|N<<4|S:aa[L-1]<<16|aa[L]<<
12|ka<<8|N<<4|S;var ja=a[O];0<ja?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&61440)&&
(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;ja=a[O];0<ja?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];
S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;ja=a[O];0<ja?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<16;0<N?
(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;ja=a[O];0<ja?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<8;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=
1);Y>>=1;L+=1;N=R[L];ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<16;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);Y>>=1;L+=1;N=R[L];L===A-1?ka=0:ka=aa[L+1];S=ha[L];O=O<<4&1044480|ka<<8|N<<4|S;N=a[O];ja|=N<<24;ea[L>>2]=ja;0<N?(e+=1,0===(O&61440)&&(p+=1),b|=l,t|=Y):0!==(O&61440)&&(y+=1);U+=1;l>>=1}u[X>>4]|=t;t&&(da|=1<<c,b&1&&(la|=k.ob,t&32768&&(la|=k.Qb),t&1&&(la|=k.nb)),b&32768&&(la|=k.Bb,t&32768&&(la|=k.Kb),t&1&&(la|=k.Lb)),t&32768&&(la|=k.Db),t&1&&(la|=k.cb),
la&&(0!==(la&k.Db)&&(15>c?da|=1<<c+1:0<f&&0<X&&(ma[f-1]|=1)),0!==(la&k.cb)&&(0<c?da|=1<<c-1:f<P-1&&X<A-1&&(ma[f+1]|=32768)),0!==(la&k.Bb)&&(ca|=1<<c),0!==(la&k.ob)&&(na|=1<<c),0!==(la&k.Kb)&&(15>c?ca|=1<<c+1:0<f&&0<X&&(r[f-1]|=1)),0!==(la&k.Lb)&&(0<c?ca|=1<<c-1:f<P-1&&X<A-1&&(r[f+1]|=32768)),0!==(la&k.Qb)&&(15>c?na|=1<<c+1:0<f&&0<X&&(v[f-1]|=1)),0!==(la&k.nb)&&(0<c?na|=1<<c-1:f<P-1&&X<A-1&&(v[f+1]|=32768))));B[d]|=b}X+=16}ma[f]|=da;ba[f]=x|da;V[f]=V[f]|x|da;0<d&&(r[f]|=ca);d<F-1&&(v[f]|=na)}else X+=
256;M+=16;fa+=16}for(f=0;f<C;f+=1)u[f]&&(f<I&&(I=f),f>E&&(E=f));for(d=0;d<B.length;d+=1)B[d]&&(d<G&&(G=d),d>H&&(H=d));I=(I<<4)+this.B(u[I]);E=(E<<4)+this.N(u[E]);G=(G<<4)+this.B(B[G]);H=(H<<4)+this.N(B[H]);0>H&&(H=z-1);G>=z&&(G=0);I>=A&&(I=0);0>E&&(E=A-1);H>z-1&&(H=z-1);0>G&&(G=0);0>I&&(I=0);E>A-1&&(E=A-1);D.s=H;D.g=G;D.f=I;D.o=E;K.fill(0);M=0;fa=M+16;for(d=0;d<Z.length;d+=1){X=0;ia=Z[d];ma=T[d];for(f=0;f<P;f+=1)if(x=ia[f],da=ma[f],x!==da)for(c=15;0<=c;--c){if((x&1<<c)!==(da&1<<c)&&0===(da&1<<c))for(U=
M;U<fa;U+=1)aa=J[U],L=X>>2,aa[L]=0,aa[L+1]=0,aa[L+2]=0,aa[L+3]=0;X+=16}else X+=256;M+=16;fa+=16}this.na=e;this.Jb=p;this.cc=y;this.Z=e};q.prototype.ev=function(){var a=this.pk,c=this.qk,d=this.ll,f=0,n,m,r,v=this.xa,x=this.Da,u,t=this.aa,B,b=this.Ra,l,e,p=0,y=0,z=0,A=this.height,C=this.width,D=C>>4,G=this.J,H=A,I=-1,E=C,F=-1,P=this.ra,K=this.pa>>4,Q=this.kd;if(0!==(this.counter&1)){var J=this.Fa;var W=this.fa;var Z=this.Vd;var T=this.ka;var M=this.ca}else J=this.X,W=this.Vd,Z=this.fa,T=this.ca,M=
this.ka;t.fill(0);b.fill(0);var fa=0;var X=fa+16;M.eb.fill(0);for(m=0;m<T.length;m+=1){var ia=0;var ma=T[m];var ba=M[m];var V=x[m];var da=v[m];var ca=0<m?M[m-1]:Q;var na=m<P-1?M[m+1]:Q;for(r=0;r<K;r+=1)if(u=ma[r]){var la=ba[r];var U=ca[r];var R=na[r];for(n=15;0<=n;--n){if(0!==(u&1<<n)){var aa=l=B=0;var ha=fa;for(e=32768;ha<X;){var ea=0===ha?this.Jc:J[ha-1];var Y=J[ha];var L=ha===this.height-1?this.Jc:J[ha+1];var N=Z[ha];var ka=32768;var S=ia;0===S?f=0:f=Y[S-1];var O=Y[S];var ja=f;f=O;var oa=ea[S];
O=Y[S+1];var qa=L[S];var ra=oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<8;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<16;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<24;N[S>>2]=ra;0<oa?(p+=1,
0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];ra=oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<8;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<16;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+
oa]+ja]+O]+qa]+f];ra|=oa<<24;N[S>>2]=ra;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];ra=oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<8;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<16;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=
1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<24;N[S>>2]=ra;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];ra=oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<8;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=
oa<<16;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ea[S];S===C-1?O=0:O=Y[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<24;N[S>>2]=ra;0<oa?(p+=1,0===f&&(y+=1),l|=e,B|=ka):0<f&&(z+=1);ha+=1;e>>=1}t[ia>>4]|=B;B&&(la|=1<<n,l&1&&(aa|=k.ob,B&32768&&(aa|=k.Qb),B&1&&(aa|=k.nb)),l&32768&&(aa|=k.Bb,B&32768&&(aa|=k.Kb),B&1&&(aa|=k.Lb)),B&32768&&(aa|=k.Db),B&1&&(aa|=k.cb),aa&&(0!==(aa&k.Db)&&(15>n?la|=1<<n+1:0<r&&0<ia&&(ba[r-1]|=1)),0!==(aa&k.cb)&&(0<n?la|=1<<n-1:r<K-1&&ia<
C-1&&(ba[r+1]|=32768)),0!==(aa&k.Bb)&&(U|=1<<n),0!==(aa&k.ob)&&(R|=1<<n),0!==(aa&k.Kb)&&(15>n?U|=1<<n+1:0<r&&0<ia&&(ca[r-1]|=1)),0!==(aa&k.Lb)&&(0<n?U|=1<<n-1:r<K-1&&ia<C-1&&(ca[r+1]|=32768)),0!==(aa&k.Qb)&&(15>n?R|=1<<n+1:0<r&&0<ia&&(na[r-1]|=1)),0!==(aa&k.nb)&&(0<n?R|=1<<n-1:r<K-1&&ia<C-1&&(na[r+1]|=32768))));b[m]|=l}ia+=16}ba[r]|=la;V[r]=u|la;da[r]=da[r]|u|la;0<m&&(ca[r]|=U);m<P-1&&(na[r]|=R)}else ia+=256;fa+=16;X+=16}for(r=0;r<D;r+=1)t[r]&&(r<E&&(E=r),r>F&&(F=r));for(m=0;m<b.length;m+=1)b[m]&&
(m<H&&(H=m),m>I&&(I=m));E=(E<<4)+this.B(t[E]);F=(F<<4)+this.N(t[F]);H=(H<<4)+this.B(b[H]);I=(I<<4)+this.N(b[I]);0>I&&(I=A-1);H>=A&&(H=0);E>=C&&(E=0);0>F&&(F=C-1);I>A-1&&(I=A-1);0>H&&(H=0);0>E&&(E=0);F>C-1&&(F=C-1);G.s=I;G.g=H;G.f=E;G.o=F;Q.fill(0);fa=0;X=fa+16;for(m=0;m<T.length;m+=1){ia=0;ma=T[m];ba=M[m];for(r=0;r<K;r+=1)if(u=ma[r],la=ba[r],u!==la)for(n=15;0<=n;--n){if((u&1<<n)!==(la&1<<n)&&0===(la&1<<n))for(ha=fa;ha<X;ha+=1)Y=W[ha],S=ia>>2,Y[S]=0,Y[S+1]=0,Y[S+2]=0,Y[S+3]=0;ia+=16}else ia+=256;fa+=
16;X+=16}this.na=p;this.Jb=y;this.cc=z;this.Z=p};q.prototype.zB=function(){var a=this.ee,c=this.J,d=this.Gd,f=d.f;var n=d.g;var m=d.o,r=d.s,v=0,x=0,u=0,t=this.width,B=this.height,b=0,l=0,e=this.width,p=this.height,y=0,z=0,A=this.xa,C,D=this.ng,G=this.L,H=0<this.L?1:0;var I=this.wa;var E=this.ta;var F=Math.round((this.width-I)/2);var P=Math.round((this.height-E)/2);-1!==this.ua&&(f=F+1,n=P+1,m=F+I-1-1,r=P+E-1-1);this.Yc&&(this.Xc=!this.Xc,this.Yc=!1);this.Z=0;0!==(this.counter&1)?(I=this.Fa,E=this.X,
this.Xc&&(a=this.Ec)):(I=this.X,E=this.Fa,this.oc&&(a=this.tf),this.Xc&&(a=this.oc?this.fe:this.Ec));1>n&&(n=1);r>this.height-2&&(r=this.height-2);1>f&&(f=1);m>this.width-2&&(m=this.width-2);for(--n;n<=r+1;n+=1){P=I[n-1];var K=I[n];var Q=I[n+1];var J=A[n>>4];var W=E[n];var Z=C=!1;var T=K[f-2];for(F=f-1;F<=m+1;F+=1){var M=Q[F];var fa=K[F+1];var X=P[F];0<G&&(M=M<=G?0:M-G,fa=fa<=G?0:fa-G,X=X<=G?0:X-G,T=T<=G?0:T-G);T=T|M<<4|fa<<8|X<<12;M=a[T];T=K[F];0<M?(v+=D[M],W[F]=M+G,C=!0,J[F>>8]=65535,F<t&&(t=F),
F>b&&(b=F)):(M=T,M>G?M=G:M>H&&--M,W[F]=M,0<M&&(C=!0,F<t&&(t=F),F>b&&(b=F)),M=0);T>G?(T-=G,x+=D[M&~T],u+=D[T&~M],T+=G):x+=D[M];0<M&&(F<e&&(e=F),F>y&&(y=F),Z=!0)}C&&(n<B&&(B=n),n>l&&(l=n));Z&&(n<p&&(p=n),n>z&&(z=n))}this.na=v;this.Jb=x;this.cc=u;this.Z=v;d.f=t;d.g=B;d.o=b;d.s=l;c.f=e;c.g=p;c.o=y;c.s=z};q.prototype.Pw=function(){var a=this.Xj,c=this.xa,d=this.Da,f,n,m;var r=this.ra;var v=this.pa>>4;var x=0;var u=r;this.Z=0;if(0!==(this.counter&1)){var t=this.Mb;var B=this.ka}else t=this.Za,B=this.ca;
0>x&&(x=0);u>r&&(u=r);r=x<<4;var b=r+16;for(f=x;f<u;f+=1){var l=0;var e=B[f];var p=d[f];var y=c[f];for(n=0;n<v;n+=1){var z=e[n]|y[n];var A=0;if(z)for(m=15;0<=m;--m){if(0!==(z&1<<m)){var C=0;for(x=r;x<b;){var D=t[x];var G=a[x];var H=l<<3;D=D[l];this.Z|=D;C|=D;G[H]=(D&32768)>>9|D&16384;H+=1;G[H]=(D&8192)>>7|(D&4096)<<2;H+=1;G[H]=(D&2048)>>5|(D&1024)<<4;H+=1;G[H]=(D&512)>>3|(D&256)<<6;H+=1;G[H]=(D&128)>>1|(D&64)<<8;H+=1;G[H]=(D&32)<<1|(D&16)<<10;H+=1;G[H]=(D&8)<<3|(D&4)<<12;H+=1;G[H]=(D&2)<<5|(D&1)<<
14;x+=1}C&&(A|=1<<m)}l+=1}else l+=16;p[n]=A;y[n]|=A}r+=16;b+=16}};q.prototype.Uw=function(){var a=this.Xj,c=this.xa,d=this.Da,f=this.Lo,n,m,r;var v=this.ra;var x=this.pa>>4;var u=0;var t=v;this.Z=0;if(0!==(this.counter&1)){var B=this.Mb;var b=this.ka}else B=this.Za,b=this.ca;0>u&&(u=0);t>v&&(t=v);v=u<<4;var l=v+16;for(n=u;n<t;n+=1){var e=0;var p=b[n];var y=d[n];var z=c[n];for(m=0;m<x;m+=1){var A=p[m]|y[m];var C=0;if(A)for(r=15;0<=r;--r){if(0!==(A&1<<r)){var D=0;for(u=v;u<l;){var G=B[u];var H=a[u];
var I=e<<3;G=G[e];this.Z|=G;var E=f[H[I]|(G&32768)>>8|(G&16384)<<1];D|=E;H[I]=E;I+=1;E=f[H[I]|(G&8192)>>6|(G&4096)<<3];D|=E;H[I]=E;I+=1;E=f[H[I]|(G&2048)>>4|(G&1024)<<5];D|=E;H[I]=E;I+=1;E=f[H[I]|(G&512)>>2|(G&256)<<7];D|=E;H[I]=E;I+=1;E=f[H[I]|G&128|(G&64)<<9];D|=E;H[I]=E;I+=1;E=f[H[I]|(G&32)<<2|(G&16)<<11];D|=E;H[I]=E;I+=1;E=f[H[I]|(G&8)<<4|(G&4)<<13];D|=E;H[I]=E;I+=1;E=f[H[I]|(G&2)<<6|(G&1)<<15];D|=E;H[I]=E;u+=1}if(1<(D&255)||1<D>>8)C|=1<<r}e+=1}else e+=16;y[m]=C;z[m]|=C}v+=16;l+=16}};q.prototype.Tw=
function(){var a=this.Xj,c=this.xa,d=this.Da,f=this.Lo,n,m,r;var v=this.ra;var x=this.pa>>4;var u=0;var t=v;this.Z=0;if(0!==(this.counter&1)){var B=this.Mb;var b=this.ka}else B=this.Za,b=this.ca;0>u&&(u=0);t>v&&(t=v);v=u<<4;var l=v+16;for(n=u;n<t;n+=1){var e=0;var p=b[n];var y=d[n];var z=c[n];for(m=0;m<x;m+=1){var A=p[m]|y[m];var C=0;if(A)for(r=15;0<=r;--r){if(0!==(A&1<<r)){var D=0;for(u=v;u<l;){var G=B[u];var H=a[u];var I=e<<3;G=G[e];this.Z|=G;var E=f[(G&49152)>>7|u+I+I&127];D|=E;H[I]=E;I+=1;E=f[(G&
12288)>>5|u+I+I&127];D|=E;H[I]=E;I+=1;E=f[(G&3072)>>3|u+I+I&127];D|=E;H[I]=E;I+=1;E=f[(G&768)>>1|u+I+I&127];D|=E;H[I]=E;I+=1;E=f[(G&192)<<1|u+I+I&127];D|=E;H[I]=E;I+=1;E=f[(G&48)<<3|u+I+I&127];D|=E;H[I]=E;I+=1;E=f[(G&12)<<5|u+I+I&127];D|=E;H[I]=E;I+=1;E=f[(G&3)<<7|u+I+I&127];D|=E;H[I]=E;u+=1}if(1<(D&255)||1<D>>8)C|=1<<r}e+=1}else e+=16;y[m]=C;z[m]|=C}v+=16;l+=16}};q.prototype.bH=function(a,c,d,f,n,m,r,v,x,u){var t=this.Cf;f=f*a+t.s;d=d*a+t.o;c=c*a+t.g;n=n*a+t.f;t=d-n+1;a=f-c+1;this.O&&(t=d-c/2-(n-
f/2)+1);0===t&&(t=1);0===a&&(a=1);m/=t;r/=a;u=Math.round(1E3*(m>r?r:m)/u)/1E3;u<v?u=v:u>x&&(u=x);return u};q.prototype.Ez=function(a){var c=a;1>a&&(c=1/a);var d=Math.round(c);(d<c?d/c:c/d)>=ViewConstants.TJ&&(a=1>a?1/d:d);return a};q.prototype.Pg=function(a,c,d,f,n,m,r,v,x,u,t,B,b,l){var e=this.J,p=this.Cf,y=this.Gd;d=this.X;(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(d=this.Fa);B?e=y:this.oa&&(e=this.Ha);if(a===ViewConstants.gu){B=c.f;y=c.o;var z=c.s;c=c.g}else B=e.f,y=e.o,z=e.s,c=e.g,this.Ia&&
!b&&(p.f<B&&(B=p.f),p.o>y&&(y=p.o),p.s>z&&(z=p.s),p.g<c&&(c=p.g)),-1!==this.ua&&(p=this.wa,b=this.ta,0<p&&(this.width/2-p/2<B&&(B=this.width/2-p/2),this.width/2+p/2>y&&(y=this.width/2+p/2)),0<b&&(this.height/2-b/2<c&&(c=this.height/2-b/2),this.height/2+b/2>z&&(z=this.height/2+b/2)));t?(p=x,b=u,B=this.width/2-p/2,y=this.width/2+p/2,z=this.height/2+b/2,c=this.height/2-b/2):(p=y-B+1,b=z-c+1);if(this.O)if(a===ViewConstants.gu)B-=z/2,p=y-c/2-B+1;else{p=2*(this.width+this.height);e=-p;for(t=c;t<=z;t+=1)for(x=
d[t],u=B;u<=y;u+=1){var A=x[u];0<A&&(A=u-t/2,A<p&&(p=A),A>e&&(e=A))}B=p;y=e;B>y&&(d=B,B=y,y=d);p=0>y&&0>B?0:y-B+1}0===p&&(p=1);0===b&&(b=1);f/=p;n/=b;this.P&&(n/=ViewConstants.hf);v=Math.round(1E3*(f>n?n:f)/v)/1E3;v/=this.sc;v<m?v=m:v>r&&(v=r);m=c-this.Sb+b/2;r=B-this.Vb+p/2;l||(v=this.Ez(v));a===ViewConstants.HD&&(v=this.zoom);return[v,r,m]};q.prototype.mx=function(a,c,d,f){var n=this.Wd,m=this.F,r=this.D;if(a>c){var v=c;c=a;a=v}0>a?a=0:a>=m&&(a=m-1);0>c?c=0:c>=m&&(c=m-1);0<=d&&d<r&&n.fill(f,d*m+
a,d*m+c)};q.prototype.Ax=function(a,c,d,f){var n=this.Wd,m=this.F,r=this.D;if(c>d){var v=d;d=c;c=v}0>c?c=0:c>=r&&(c=r-1);0>d?d=0:d>=r&&(d=r-1);c=c*m+a;d=d*m+a;r=d-15*m;if(0<=a&&a<m){for(;c<=r;)n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m;for(;c<=d;)n[c]=f,c+=m}};q.prototype.lx=function(a,c,d,f,n){var m=Math.abs(d-a),r=Math.abs(f-c),v=a<d?1:-1,x=c<f?1:-1,
u=m-r,t=this.F,B=this.D,b=this.Wd;if(!(0>a&&0>d||a>=t&&d>=t||0>c&&0>f||c>=B&&f>=B))if(0<=a&&a<t&&0<=c&&c<B&&0<=d&&d<t&&0<=f&&f<B)for(b[c*t+a]=n;a!==d||c!==f;){var l=u+u;l>-r&&(u-=r,a+=v);l<m&&(u+=m,c+=x);b[c*t+a]=n}else for(0<=a&&a<t&&0<=c&&c<B&&(b[c*t+a]=n);a!==d||c!==f;)l=u+u,l>-r&&(u-=r,a+=v),l<m&&(u+=m,c+=x),0<=a&&a<t&&0<=c&&c<B&&(b[c*t+a]=n)};q.prototype.Kj=function(a,c,d,f,n){var m=this.F/2,r=this.D/2;if(0!==this.kb){a-=m;c-=r;var v=Math.sqrt(a*a+c*c);var x=180/Math.PI*Math.atan2(c,a);x+=this.kb;
a=Math.round(v*Math.cos(Math.PI/180*x)+m);c=Math.round(v*Math.sin(Math.PI/180*x)+r);d-=m;f-=r;v=Math.sqrt(d*d+f*f);x=180/Math.PI*Math.atan2(f,d);x+=this.kb;d=Math.round(v*Math.cos(Math.PI/180*x)+m);f=Math.round(v*Math.sin(Math.PI/180*x)+r)}a===d?this.Ax(a,c,f,n):c===f?this.mx(a,d,c,n):this.lx(a,c,d,f,n)};q.prototype.Hk=function(a,c,d,f,n){var m=a.gf,r=a.ff,v=0,x=0,u=this.context;var t=this.zoom;var B=this.zoom*(this.P?ViewConstants.hf:1);var b=(this.width>>1)-(a.hb>>1);var l=(this.height>>1)-(a.lb>>
1);var e=a.Pc-this.sa,p=a.Oc-this.za-(this.O?this.sa/2:0),y=[0,0];switch(f){case ViewConstants.nF:c-=m>>1;break;case ViewConstants.oF:c-=m-1;break;case ViewConstants.sF:d-=r>>1;break;case ViewConstants.mF:c-=m>>1;d-=r>>1;break;case ViewConstants.lF:c-=m-1;d-=r>>1;break;case ViewConstants.rF:d-=r-1;break;case ViewConstants.pF:c-=m>>1;d-=r-1;break;case ViewConstants.qF:c-=m-1,d-=r-1}var z=B*(d-l+e-this.Sb+a.Pc)+a.D/2;f=t*(c-b+p-this.Vb+a.Oc)+a.F/2+(this.O?(a.D/2-z)/2:0);var A=B*(d+r-l+e-this.Sb+a.Pc)+
a.D/2;var C=t*(c+m-b+p-this.Vb+a.Oc)+a.F/2+(this.O?(a.D/2-A)/2:0);u.fillStyle=n;u.globalAlpha=.5;if(this.O)if(this.be&&4<=this.zoom)this.vp(c,d,c+m-1,d+r-1,b,l);else{u.beginPath();for(n=0;n<r;n+=1)u.moveTo(f,z),u.lineTo(f+m*t+1,z),u.lineTo(f+m*t+1,z+B+1),u.lineTo(f,z+B+1),f-=B/2,z+=B;u.fill()}else this.P&&4<=this.zoom?this.xp(c,d,c+m-1,d+r-1,b,l):(u.beginPath(),this.Ve(f,z,y),u.moveTo(y[0],y[1]),this.Ve(C+1,z,y),u.lineTo(y[0],y[1]),this.Ve(C+1,A+1,y),u.lineTo(y[0],y[1]),this.Ve(f,A+1,y),u.lineTo(y[0],
y[1]),u.fill());if(1<=this.zoom){if(0<this.kb){var D=Math.cos(this.kb/180*Math.PI)*this.ia;var G=Math.sin(this.kb/180*Math.PI)*this.ia;var H=Math.cos((this.kb+90)/180*Math.PI)*this.ia;var I=Math.sin((this.kb+90)/180*Math.PI)*this.ia}else D=this.ia,H=G=0,I=D;z=B*(d+x-l+e-this.Sb+a.Pc)+a.D/2;f=t*(c+v-b+p-this.Vb+a.Oc)+a.F/2+(this.O?(a.D/2-z)/2:0);0!==this.kb&&(this.Ve(f,z,y),f=y[0],z=y[1]);C=f;A=z;u.fillStyle="rgb(255, 128, 0)";if(this.O&&this.be&&4<=this.zoom)this.Aw(c,d,c+m-1,d+r-1,b,l,a.tb);else if(this.P&&
4<=this.zoom)this.nx(c,d,c+m-1,d+r-1,b,l,a.tb);else{u.beginPath();for(x=n=0;x<r;x+=1){f=C;for(v=0;v<m;v+=1)c=a.tb[n],n+=1,c&&(c=f+D,d=z+G,t=c+H,B=d+I,b=t-D,l=B-G,0>f&&0>c&&0>t&&0>b||f>=a.F&&c>=a.F&&t>=a.F&&b>=a.F||0>z&&0>d&&0>B&&0>l||z>=a.D&&d>=a.D&&B>=a.D&&l>=a.D||(u.moveTo(f,z),u.lineTo(c,d),u.lineTo(t,B),u.lineTo(b,l))),f+=D,z+=G;C+=H;z=A+=I;this.O&&(C-=I/2)}u.fill()}}};q.prototype.Ve=function(a,c,d){var f=this.F/2,n=this.D/2;if(0!==this.kb){a-=f;c-=n;var m=Math.sqrt(a*a+c*c);c=180/Math.PI*Math.atan2(c,
a);c+=this.kb;a=Math.round(m*Math.cos(Math.PI/180*c)+f);c=Math.round(m*Math.sin(Math.PI/180*c)+n)}d[0]=a;d[1]=c};q.prototype.aJ=function(a){var c=a.Dg+.5|0,d=(this.width>>1)-(a.hb>>1)+(a.Gb<<1),f=(this.height>>1)-(a.lb>>1)+(a.Hb<<1);(a.sb||a.Zj)&&this.kx(a,a.zb,this.fB);a.qd&&(-1!==this.ua&&a.Xg?this.Hk(a,a.Vo.f-a.hb,a.Vo.g-a.lb,ViewConstants.Ip,this.ht):this.Hk(a,a.Vo.f,a.Vo.g,ViewConstants.Ip,this.ht));if(a.ed){var n=a.m.bl;var m=a.m.cl;-1!==n&&(a.lw(n,m),-1!==this.ua&&a.Xg&&(d+=a.hb,f+=a.lb),this.Hk(a,
a.Uj-d,a.Vj-f,c,this.Qz))}};q.prototype.kx=function(a,c,d){var f=this.context,n=this.zoom,m=this.zoom*(this.P?ViewConstants.hf:1),r=c.f,v=c.g,x=c.o;c=c.s;var u=(this.width>>1)-(a.hb>>1),t=(this.height>>1)-(a.lb>>1),B=a.Pc-this.sa,b=a.Oc-this.za-(this.O?this.sa/2:0),l=[0,0],e=a.zb;if(r>x){var p=r;r=x;x=p}v>c&&(p=v,v=c,c=p);p=x-r+1;var y=c-v+1;-1!==this.ua&&a.Xg&&(t+=a.lb,u+=a.hb);v=m*(v-t+B-this.Sb+a.Pc)+a.D/2;r=n*(r-u+b-this.Vb+a.Oc)+a.F/2+(this.O?(a.D/2-v)/2:0);c=m*(c+1-t+B-this.Sb+a.Pc)+a.D/2;x=
n*(x+1-u+b-this.Vb+a.Oc)+a.F/2+(this.O?(a.D/2-c)/2:0);f.fillStyle=d;f.globalAlpha=.5;if(this.O)if(this.be&&4<=this.zoom)this.vp(e.f,e.g,e.o,e.s,u,t);else{f.beginPath();p*=n;for(a=0;a<y;a+=1)f.moveTo(r,v),f.lineTo(r+p+1,v),f.lineTo(r+p+1,v+m+1),f.lineTo(r,v+m+1),r-=m/2,v+=m;f.fill()}else this.P&&4<=this.zoom?this.xp(e.f,e.g,e.o,e.s,u,t):(f.beginPath(),this.Ve(r,v,l),f.moveTo(l[0],l[1]),this.Ve(x+1,v,l),f.lineTo(l[0],l[1]),this.Ve(x+1,c+1,l),f.lineTo(l[0],l[1]),this.Ve(r,c+1,l),f.lineTo(l[0],l[1]),
f.fill());f.globalAlpha=1};q.prototype.zd=function(){var a,c=this.F,d=this.D,f=this.Tf,n=this.Rf,m=this.ia,r=f,v,x=0<this.Bf&&this.Uk,u=this.counter&1,t=((this.height/2-(this.sa+this.Sb))*m+d/2)%m,B=((this.width/2-(this.za+this.Vb))*m+c/2)%m;if(this.ac)var b=x?2:1;else b=1,x=!1,r=f=this.te[0];var l=f;for(this.ha&&2===this.Bf&&this.Hl||(u=0);b;){var e=-(c/2/m)-(this.width/2-this.za-this.Vb)|0;var p=22*-m;var y=c+m+22*m;var z=t-22*m;var A=d+22*m;var C=-c/1.5;var D=c+c/1.5;var G=-d/1.5;for(v=d+d/1.5;p<=
y;p+=m)if(x&&(0===(e+u)%this.Bf?r=n:r=f),e+=1,r===l)if(this.O){var H=-(d/2/m)-(this.height/2-this.sa-this.Sb)|0;for(a=z;a<A;a+=m)0===(H&1)?this.Kj(Math.round(p+B),Math.round(a),Math.round(p+B),Math.round(a+m-1),r):this.Kj(Math.round(p+B+m/2),Math.round(a),Math.round(p+B+m/2),Math.round(a+m-1),r),H+=1}else this.Kj(Math.round(p+B),G,Math.round(p+B),v-1,r);e=-(d/2/m)-(this.height/2-this.sa-this.Sb)|0;for(a=z;a<A;a+=m)x&&(0===(e+u)%this.Bf?r=n:r=f),e+=1,r===l&&this.Kj(C,Math.round(a),D-1,Math.round(a),
r);--b;l=n}};q.prototype.oh=function(){return 4<=this.ia};q.prototype.ny=function(a,c){var d=this.wa,f=this.ta,n=this.ha?-1:0,m=Math.round((this.width-d)/2-1)+n,r=m+d+1,v=Math.round((this.height-f)/2-1)+n;n=v+f+1;var x=a[v],u=a[n];if(0===d)x.fill(c,0,this.width),u.fill(c,0,this.width);else if(0===f)for(d=0;d<this.height;d+=1)a[d][m]=c,a[d][r]=c;else for(x.fill(c,m,r+1),u.fill(c,m,r+1),d=v+1;d<=n-1;d+=1)a[d][m]=c,a[d][r]=c};q.prototype.pL=function(a,c){var d=this.te[0],f=this.Wd,n=this.X,m=this.Xj,
r=this.Vd;this.Jj=!0;(this.G||this.ba||this.M)&&0!==(this.counter&1)&&(n=this.Fa,m=this.Dh,r=this.fa);this.pn&&(this.oD(),--this.pn,this.pn||(this.Be.set(this.yd),this.Zb.set(this.Pb),this.We.set(this.he),this.vg.set(this.Pf),this.Ue.set(this.Td),this.Gh.set(this.Zf)));this.ia=this.zoom*this.sc;this.ia<ViewConstants.ya?this.ia=ViewConstants.ya:this.ia>ViewConstants.Ua&&(this.ia=ViewConstants.Ua);this.je=this.za+this.Vb;this.ke=this.sa+this.Sb;this.j=this.oe/2+1;this.kb=this.O||this.P?0:this.angle;
-1!==this.ua&&this.ny(n,this.wb);4<=this.ia&&(this.be&&this.O||this.P)?(f.fill(d),this.Ed(1)):(1>this.ia&&this.jx(m,r),.125>this.ia?this.$h?this.Bj(this.xe,this.zc,15,a,c):this.Cj(this.zc,this.zc,15,a,c):.25>this.ia?this.$h?this.Bj(this.xe,this.zc,7,a,c):this.Cj(this.zc,this.zc,7,a,c):.5>this.ia?this.$h?this.Bj(this.xe,this.zc,3,a,c):this.Cj(this.zc,this.zc,3,a,c):1>this.ia?this.$h?this.Bj(this.xe,this.zc,1,a,c):this.Cj(this.zc,this.zc,1,a,c):this.$h?this.Bj(this.Yb,n,0,a,c):this.Cj(n,n,0,a,c))};
q.prototype.xH=function(a,c,d,f){var n=this.F>>3,m=this.te,r=this.Wd,v,x,u=1,t=1,B=0,b=this.Ab&~d,l=this.Cb&~d,e=~d,p=~d,y=a,z=this.ia;1<this.j&&(u=this.R);a=Math.sin(this.kb/180*Math.PI)/this.ia;var A=Math.cos(this.kb/180*Math.PI)/this.ia;var C=-(this.F/2*-a+this.D/2*A)+this.ke;var D=-(this.F/2*A+this.D/2*a)+this.je;1<this.R&&1<this.j&&(B=.4/(this.R-1),t=.6);this.Ed(t);var G=this.width<this.ga?m[0]|0:this.Ml|0;var H=0;var I=C;for(v=0;v<this.D;v+=1){var E=D;for(x=0;x<n;x+=1){if((E&e)===(E&b)&&(I&
p)===(I&l)){var F=y[I&l][E&b]|0;r[H]=m[F]}else r[H]=G;H+=1;E+=A;I-=a;(E&e)===(E&b)&&(I&p)===(I&l)?(F=y[I&l][E&b]|0,r[H]=m[F]):r[H]=G;H+=1;E+=A;I-=a;(E&e)===(E&b)&&(I&p)===(I&l)?(F=y[I&l][E&b]|0,r[H]=m[F]):r[H]=G;H+=1;E+=A;I-=a;(E&e)===(E&b)&&(I&p)===(I&l)?(F=y[I&l][E&b]|0,r[H]=m[F]):r[H]=G;H+=1;E+=A;I-=a;(E&e)===(E&b)&&(I&p)===(I&l)?(F=y[I&l][E&b]|0,r[H]=m[F]):r[H]=G;H+=1;E+=A;I-=a;(E&e)===(E&b)&&(I&p)===(I&l)?(F=y[I&l][E&b]|0,r[H]=m[F]):r[H]=G;H+=1;E+=A;I-=a;(E&e)===(E&b)&&(I&p)===(I&l)?(F=y[I&l][E&
b]|0,r[H]=m[F]):r[H]=G;H+=1;E+=A;I-=a;(E&e)===(E&b)&&(I&p)===(I&l)?(F=y[I&l][E&b]|0,r[H]=m[F]):r[H]=G;H+=1;E+=A;I-=a}D+=a;I=C+=A}f&&this.Rd();(this.ac||this.ld)&&this.oh()&&this.zd();y=c;for(c=1;c<u;c+=1)for(f=2<this.c?this.M?1:0===this.L?this.c/this.R*c|0:c<u/2?this.L/this.R*c*2|0:this.L+this.c/this.R*c|0:this.Kd?1:(this.ie+1)/this.R*c|0,t+=B,this.Ed(t),a/=this.j,A/=this.j,z*=this.j,b=d,d=.125>z?15:.25>z?7:.5>z?3:1>z?1:0,d!==b&&(y=this.X),b=this.Ab&~d,l=this.Cb&~d,e=~d,p=~d,C=-(this.F/2*-a+this.D/
2*A)+this.ke,D=-(this.F/2*A+this.D/2*a)+this.je,H=0,I=C,v=0;v<this.D;v+=1){E=D;for(x=0;x<n;x+=1)(E&e)===(E&b)&&(I&p)===(I&l)&&(F=y[I&l][E&b]|0,F>=f&&(r[H]=m[F])),H+=1,E+=A,I-=a,(E&e)===(E&b)&&(I&p)===(I&l)&&(F=y[I&l][E&b]|0,F>=f&&(r[H]=m[F])),H+=1,E+=A,I-=a,(E&e)===(E&b)&&(I&p)===(I&l)&&(F=y[I&l][E&b]|0,F>=f&&(r[H]=m[F])),H+=1,E+=A,I-=a,(E&e)===(E&b)&&(I&p)===(I&l)&&(F=y[I&l][E&b]|0,F>=f&&(r[H]=m[F])),H+=1,E+=A,I-=a,(E&e)===(E&b)&&(I&p)===(I&l)&&(F=y[I&l][E&b]|0,F>=f&&(r[H]=m[F])),H+=1,E+=A,I-=a,
(E&e)===(E&b)&&(I&p)===(I&l)&&(F=y[I&l][E&b]|0,F>=f&&(r[H]=m[F])),H+=1,E+=A,I-=a,(E&e)===(E&b)&&(I&p)===(I&l)&&(F=y[I&l][E&b]|0,F>=f&&(r[H]=m[F])),H+=1,E+=A,I-=a,(E&e)===(E&b)&&(I&p)===(I&l)&&(F=y[I&l][E&b]|0,F>=f&&(r[H]=m[F])),H+=1,E+=A,I-=a;D+=a;I=C+=A}};q.prototype.yH=function(a,c,d,f){var n=this.F>>3,m=this.te,r=this.Wd,v,x,u=1,t=1,B=0,b=this.Ab&~d,l=this.Cb&~d,e=~d,p=~d,y=a,z=this.ia;1<this.j&&(u=this.R);a=1/this.ia;this.P&&(a/=ViewConstants.hf);var A=1/this.ia;var C=-(this.D/2*a)+this.ke;var D=
-(this.F/2*A)+this.je;1<this.R&&1<this.j&&(B=.4/(this.R-1),t=.6);this.Ed(t);var G=this.width<this.ga?m[0]|0:this.Ml|0;var H=0;var I=C;for(v=0;v<this.D;v+=1){if((I&p)===(I&l)){var E=y[I&l];var F=D;this.O&&(F+=.5*(I|0));for(x=0;x<n;x+=1){if((F&e)===(F&b)){var P=E[F&b]|0;r[H]=m[P]}else r[H]=G;H+=1;F+=A;(F&e)===(F&b)?(P=E[F&b]|0,r[H]=m[P]):r[H]=G;H+=1;F+=A;(F&e)===(F&b)?(P=E[F&b]|0,r[H]=m[P]):r[H]=G;H+=1;F+=A;(F&e)===(F&b)?(P=E[F&b]|0,r[H]=m[P]):r[H]=G;H+=1;F+=A;(F&e)===(F&b)?(P=E[F&b]|0,r[H]=m[P]):r[H]=
G;H+=1;F+=A;(F&e)===(F&b)?(P=E[F&b]|0,r[H]=m[P]):r[H]=G;H+=1;F+=A;(F&e)===(F&b)?(P=E[F&b]|0,r[H]=m[P]):r[H]=G;H+=1;F+=A;(F&e)===(F&b)?(P=E[F&b]|0,r[H]=m[P]):r[H]=G;H+=1;F+=A}}else r.fill(G,H,H+this.F+1),H+=this.F;I=C+=a}f&&this.Rd();(this.ac||this.ld)&&this.oh()&&this.zd();y=c;for(c=1;c<u;c+=1)for(f=2<this.c?this.M?1:0===this.L?this.c/this.R*c|0:c<u/2?this.L/this.R*c*2|0:this.L+this.c/this.R*c|0:this.Kd?1:(this.ie+1)/this.R*c|0,t+=B,this.Ed(t),a/=this.j,A/=this.j,z*=this.j,b=d,d=.125>z?15:.25>z?7:
.5>z?3:1>z?1:0,d!==b&&(y=this.X),b=this.Ab&~d,l=this.Cb&~d,e=~d,p=~d,C=-(this.D/2*a)+this.ke,D=-(this.F/2*A)+this.je,H=0,I=C,v=0;v<this.D;v+=1){if((I&p)===(I&l))for(E=y[I&l],F=D,this.O&&(F+=.5*(I|0)),x=0;x<n;x+=1)(F&e)===(F&b)&&(P=E[F&b]|0,P>=f&&(r[H]=m[P])),H+=1,F+=A,(F&e)===(F&b)&&(P=y[I&l][F&b]|0,P>=f&&(r[H]=m[P])),H+=1,F+=A,(F&e)===(F&b)&&(P=y[I&l][F&b]|0,P>=f&&(r[H]=m[P])),H+=1,F+=A,(F&e)===(F&b)&&(P=y[I&l][F&b]|0,P>=f&&(r[H]=m[P])),H+=1,F+=A,(F&e)===(F&b)&&(P=y[I&l][F&b]|0,P>=f&&(r[H]=m[P])),
H+=1,F+=A,(F&e)===(F&b)&&(P=y[I&l][F&b]|0,P>=f&&(r[H]=m[P])),H+=1,F+=A,(F&e)===(F&b)&&(P=y[I&l][F&b]|0,P>=f&&(r[H]=m[P])),H+=1,F+=A,(F&e)===(F&b)&&(P=y[I&l][F&b]|0,P>=f&&(r[H]=m[P])),H+=1,F+=A;else H+=n<<3;I=C+=a}};q.prototype.cH=function(a,c,d,f){var n=this.F>>3,m=this.te,r=this.Wd,v,x,u=1,t=1,B=0,b=this.Ab&~d,l=this.Cb&~d,e=a,p=this.ia;1<this.j&&(u=this.R);a=Math.sin(this.kb/180*Math.PI)/this.ia;var y=Math.cos(this.kb/180*Math.PI)/this.ia;var z=-(this.F/2*-a+this.D/2*y)+this.ke;var A=-(this.F/2*
y+this.D/2*a)+this.je;1<this.R&&1<this.j&&(B=.4/(this.R-1),t=.6);this.Ed(t);var C=0;var D=z;for(v=0;v<this.D;v+=1){var G=A;for(x=0;x<n;x+=1){var H=e[D&l][G&b]|0;r[C]=m[H];C+=1;G+=y;D-=a;H=e[D&l][G&b]|0;r[C]=m[H];C+=1;G+=y;D-=a;H=e[D&l][G&b]|0;r[C]=m[H];C+=1;G+=y;D-=a;H=e[D&l][G&b]|0;r[C]=m[H];C+=1;G+=y;D-=a;H=e[D&l][G&b]|0;r[C]=m[H];C+=1;G+=y;D-=a;H=e[D&l][G&b]|0;r[C]=m[H];C+=1;G+=y;D-=a;H=e[D&l][G&b]|0;r[C]=m[H];C+=1;G+=y;D-=a;H=e[D&l][G&b]|0;r[C]=m[H];C+=1;G+=y;D-=a}A+=a;D=z+=y}f&&this.Rd();(this.ac||
this.ld)&&this.oh()&&this.zd();e=c;for(c=1;c<u;c+=1)for(f=2<this.c?this.M?1:0===this.L?this.c/this.R*c|0:c<u/2?this.L/this.R*c*2|0:this.L+this.c/this.R*c|0:this.Kd?1:(this.ie+1)/this.R*c|0,t+=B,this.Ed(t),a/=this.j,y/=this.j,p*=this.j,b=d,.125>p?d=15:.25>p?d=7:.5>p?d=3:1>p?d=1:(e=this.X,d=0),d!==b&&(e=this.X),b=this.Ab&~d,l=this.Cb&~d,z=-(this.F/2*-a+this.D/2*y)+this.ke,A=-(this.F/2*y+this.D/2*a)+this.je,C=0,D=z,v=0;v<this.D;v+=1){G=A;for(x=0;x<n;x+=1)H=e[D&l][G&b]|0,H>=f&&(r[C]=m[H]),C+=1,G+=y,D-=
a,H=e[D&l][G&b]|0,H>=f&&(r[C]=m[H]),C+=1,G+=y,D-=a,H=e[D&l][G&b]|0,H>=f&&(r[C]=m[H]),C+=1,G+=y,D-=a,H=e[D&l][G&b]|0,H>=f&&(r[C]=m[H]),C+=1,G+=y,D-=a,H=e[D&l][G&b]|0,H>=f&&(r[C]=m[H]),C+=1,G+=y,D-=a,H=e[D&l][G&b]|0,H>=f&&(r[C]=m[H]),C+=1,G+=y,D-=a,H=e[D&l][G&b]|0,H>=f&&(r[C]=m[H]),C+=1,G+=y,D-=a,H=e[D&l][G&b]|0,H>=f&&(r[C]=m[H]),C+=1,G+=y,D-=a;A+=a;D=z+=y}};q.prototype.AH=function(a,c,d,f){var n=this.F>>3,m=this.te,r=this.Wd,v,x=1,u=1,t=0,B=this.Ab&~d,b=this.Cb&~d,l=a,e=this.ia;1<this.j&&(x=this.R);
a=1/this.ia;this.P&&(a/=ViewConstants.hf);var p=1/this.ia;var y=-(this.D/2*a)+this.ke;var z=-(this.F/2*p)+this.je;1<this.R&&1<this.j&&(t=.4/(this.R-1),u=.6);this.Ed(u);var A=0;var C=y;for(v=0;v<this.D;v+=1){var D=l[C&b];var G=z;this.O&&(G+=.5*(C|0));for(C=0;C<n;C+=1){var H=D[G&B];r[A]=m[H];A+=1;G+=p;H=D[G&B];r[A]=m[H];A+=1;G+=p;H=D[G&B];r[A]=m[H];A+=1;G+=p;H=D[G&B];r[A]=m[H];A+=1;G+=p;H=D[G&B];r[A]=m[H];A+=1;G+=p;H=D[G&B];r[A]=m[H];A+=1;G+=p;H=D[G&B];r[A]=m[H];A+=1;G+=p;H=D[G&B];r[A]=m[H];A+=1;G+=
p}C=y+=a}f&&this.Rd();(this.ac||this.ld)&&this.oh()&&this.zd();l=c;for(c=1;c<x;c+=1)for(f=2<this.c?this.M?1:0===this.L?this.c/this.R*c|0:c<x/2?this.L/this.R*c*2|0:this.L+this.c/this.R*c|0:this.Kd?1:(this.ie+1)/this.R*c|0,u+=t,this.Ed(u),a/=this.j,p/=this.j,e*=this.j,B=d,d=.125>e?15:.25>e?7:.5>e?3:1>e?1:0,d!==B&&(l=this.X),B=this.Ab&~d,b=this.Cb&~d,y=-(this.D/2*a)+this.ke,z=-(this.F/2*p)+this.je,A=0,C=y,v=0;v<this.D;v+=1){D=l[C&b];G=z;this.O&&(G+=.5*(C|0));for(C=0;C<n;C+=1)H=D[G&B]|0,H>=f&&(r[A]=m[H]),
A+=1,G+=p,H=D[G&B]|0,H>=f&&(r[A]=m[H]),A+=1,G+=p,H=D[G&B]|0,H>=f&&(r[A]=m[H]),A+=1,G+=p,H=D[G&B]|0,H>=f&&(r[A]=m[H]),A+=1,G+=p,H=D[G&B]|0,H>=f&&(r[A]=m[H]),A+=1,G+=p,H=D[G&B]|0,H>=f&&(r[A]=m[H]),A+=1,G+=p,H=D[G&B]|0,H>=f&&(r[A]=m[H]),A+=1,G+=p,H=D[G&B]|0,H>=f&&(r[A]=m[H]),A+=1,G+=p;C=y+=a}};q.prototype.Cj=function(a,c,d,f,n){var m=Math.sin(this.kb/180*Math.PI)/this.ia,r=Math.cos(this.kb/180*Math.PI)/this.ia,v=this.F,x=this.D,u=-(this.F/2*-m+this.D/2*r)+this.ke,t=-(this.F/2*r+this.D/2*m)+this.je,B=
u+v*-m,b=t+v*r,l=u+x*r;x=t+x*m;m=l+v*-m;r=x+v*r;v=l;var e=x;r<e&&(e=r);t<e&&(e=t);b<e&&(e=t);r>x&&(x=r);t>x&&(x=t);b>x&&(x=b);m>v&&(v=m);u>v&&(v=u);B>v&&(v=B);m<l&&(l=m);u<l&&(l=u);B<l&&(l=B);0>(e|0)||(x|0)>=this.width||0>(l|0)||(v|0)>=this.height?0===this.kb?this.Yg&&!this.O&&1<=this.ia&&1===this.R&&(this.ia|0)!==this.ia?(this.Ed(1),this.width!==this.ga?this.Fl(a,e,l,x,v,this.te[0],f,n):this.Fl(a,e,l,x,v,this.Ml,f,n)):this.yH(a,c,d,f):this.xH(a,c,d,f):0===this.kb?this.Yg&&!this.O&&1<=this.ia&&1===
this.R&&(this.ia|0)!==this.ia?(this.Ed(1),this.Fl(a,e,l,x,v,this.te[0],f,n)):this.AH(a,c,d,f):this.cH(a,c,d,f)};q.prototype.Fl=function(a,c,d,f,n,m,r,v){var x=this.te,u=this.Nj,t=this.Gi,B=this.Hi,b=(this.ia|0)<<1,l=this.Sc.width,e=l*b,p=f-c,y=n-d,z=-(c-Math.floor(c))*this.ia,A=-(d-Math.floor(d))*this.ia,C=this.width-1,D=this.height-1,G,H=0,I,E=b>>1,F;d|=0;c|=0;p=(p|0)+2;y=(y|0)+2;f=c+p;n=d+y;switch(E){case 1:var P=e;for(F=p<<1;d<n;d+=1){if((d&D)!==d)u.fill(m,H,H+F),H+=l,u.fill(m,H,H+F);else{var K=
a[d];var Q=H;for(G=c;G<f;G+=1){var J=(G&C)!==G?m:x[K[G]];u[H]=J;u[H+1]=J;H+=2}H=Q+l;u.copyWithin(H,Q,Q+F)}H=P;P+=e}break;case 2:P=e;for(F=p<<2;d<n;d+=1){if((d&D)!==d)u.fill(m,H,H+F),H+=l,u.fill(m,H,H+F),H+=l,u.fill(m,H,H+F),H+=l,u.fill(m,H,H+F);else{K=a[d];Q=H;for(G=c;G<f;G+=1)J=(G&C)!==G?m:x[K[G]],u[H]=J,u[H+1]=J,u[H+2]=J,u[H+3]=J,H+=4;H=Q+l;u.copyWithin(H,Q,Q+F);H+=l;Q+=l;u.copyWithin(H,Q,Q+F);H+=l;Q+=l;u.copyWithin(H,Q,Q+F)}H=P;P+=e}break;default:for(P=e,F=p*b;d<n;d+=1){if((d&D)!==d)for(K=0;K<
E;K+=1)u.fill(m,H,H+F),H+=l,u.fill(m,H,H+F),H+=l;else{K=a[d];Q=H;for(G=c;G<f;G+=1)for(J=(G&C)!==G?m:x[K[G]],I=0;I<E;I+=1)u[H]=J,u[H+1]=J,H+=2;H=Q+l;for(K=1;K<b;K+=1)u.copyWithin(H,Q,Q+F),Q+=l,H+=l}H=P;P+=e}}t.putImageData(B,0,0,0,0,p*b,y*b);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.Sc,0,0,p*b,y*b,z,A,p*this.ia,y*this.ia);this.context.imageSmoothingEnabled=!1;r||v||(this.ac||this.ld)&&this.oh()?(this.nc=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),
this.Wd=new Uint32Array(this.nc.data.buffer),r&&this.Rd(),(this.ac||this.ld)&&this.oh()&&this.zd()):this.Jj=!1};q.prototype.El=function(a,c,d,f,n,m,r,v,x){var u=this.te,t=this.Nj,B=this.Gi,b=this.Hi,l=(this.ia|0)<<1,e=this.Sc.width,p=e*l,y=n-d,z=m-f,A=-(d-Math.floor(d))*this.ia,C=-(f-Math.floor(f))*this.ia,D=this.width-1,G=this.height-1,H,I=0,E=this.vb,F=l>>1,P=ViewConstants.Sa[3]+128,K=ViewConstants.Sa[4]+128,Q=ViewConstants.Sa[5]+128,J=ViewConstants.Sa[6]+128,W;f|=0;d|=0;y=(y|0)+2;z=(z|0)+2;n=d+
y;m=f+z;switch(F){case 1:var Z=p;for(W=y<<1;f<m;f+=1){if((f&G)!==f)t.fill(r,I,I+W),I+=e,t.fill(r,I,I+W);else{var T=c[f];var M=a[f];var fa=I;for(H=d;H<n;H+=1){if((H&D)!==H)var X=r;else{X=T[H];var ia=M[H];ia===K||ia===J?(X>=E&&(ia=P),X=u[ia]):ia===P||ia===Q?(X<E&&(ia=K),X=u[ia]):X=u[X]}t[I]=X;t[I+1]=X;I+=2}I=fa+e;t.copyWithin(I,fa,fa+W)}I=Z;Z+=p}break;case 2:Z=p;for(W=y<<2;f<m;f+=1){if((f&G)!==f)t.fill(r,I,I+W),I+=e,t.fill(r,I,I+W),I+=e,t.fill(r,I,I+W),I+=e,t.fill(r,I,I+W);else{T=c[f];M=a[f];fa=I;for(H=
d;H<n;H+=1)(H&D)!==H?X=r:(X=T[H],ia=M[H],ia===K||ia===J?(X>=E&&(ia=P),X=u[ia]):ia===P||ia===Q?(X<E&&(ia=K),X=u[ia]):X=u[X]),t[I]=X,t[I+1]=X,t[I+2]=X,t[I+3]=X,I+=4;I=fa+e;t.copyWithin(I,fa,fa+W);I+=e;fa+=e;t.copyWithin(I,fa,fa+W);I+=e;fa+=e;t.copyWithin(I,fa,fa+W)}I=Z;Z+=p}break;default:for(Z=p,W=y*l;f<m;f+=1){if((f&G)!==f)for(T=0;T<F;T+=1)t.fill(r,I,I+W),I+=e,t.fill(r,I,I+W),I+=e;else{T=c[f];M=a[f];fa=I;for(H=d;H<n;H+=1)for((H&D)!==H?X=r:(X=T[H],ia=M[H],ia===K||ia===J?(X>=E&&(ia=P),X=u[ia]):ia===
P||ia===Q?(X<E&&(ia=K),X=u[ia]):X=u[X]),ia=0;ia<F;ia+=1)t[I]=X,t[I+1]=X,I+=2;I=fa+e;for(T=1;T<l;T+=1)t.copyWithin(I,fa,fa+W),fa+=e,I+=e}I=Z;Z+=p}}B.putImageData(b,0,0,0,0,y*l,z*l);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.Sc,0,0,y*l,z*l,A,C,y*this.ia,z*this.ia);this.context.imageSmoothingEnabled=!1;v||x||(this.ac||this.ld)&&this.oh()?(this.nc=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.Wd=new Uint32Array(this.nc.data.buffer),v&&
this.Rd(),(this.ac||this.ld)&&this.oh()&&this.zd()):this.Jj=!1};q.prototype.tH=function(a,c,d,f){var n=this.F>>3,m=this.te,r=this.Wd,v,x,u=ViewConstants.Sa[3]+128,t=ViewConstants.Sa[4]+128,B=ViewConstants.Sa[5]+128,b=ViewConstants.Sa[6]+128,l=1,e=1,p=0,y=this.vb,z=this.Ab&~d,A=this.Cb&~d,C=~d,D=~d,G=c,H=this.ia;1<this.j&&(l=this.R);var I=Math.sin(this.kb/180*Math.PI)/this.ia;var E=Math.cos(this.kb/180*Math.PI)/this.ia;var F=-(this.F/2*-I+this.D/2*E)+this.ke;var P=-(this.F/2*E+this.D/2*I)+this.je;
1<this.R&&1<this.j&&(p=.4/(this.R-1),e=.6);this.Ed(e);var K=this.width<this.ga?m[0]|0:this.Ml|0;var Q=0;var J=F;for(v=0;v<this.D;v+=1){var W=P;for(x=0;x<n;x+=1){if((W&C)===(W&z)&&(J&D)===(J&A)){var Z=G[J&A][W&z];var T=a[J&A][W&z];T===t||T===b?(Z>=y&&(T=u),Z=m[T]|0):T===u||T===B?(Z<y&&(T=t),Z=m[T]|0):Z=m[Z]|0;r[Q]=Z}else r[Q]=K;Q+=1;W+=E;J-=I;(W&C)===(W&z)&&(J&D)===(J&A)?(Z=G[J&A][W&z],T=a[J&A][W&z],T===t||T===b?(Z>=y&&(T=u),Z=m[T]|0):T===u||T===B?(Z<y&&(T=t),Z=m[T]|0):Z=m[Z]|0,r[Q]=Z):r[Q]=K;Q+=1;
W+=E;J-=I;(W&C)===(W&z)&&(J&D)===(J&A)?(Z=G[J&A][W&z],T=a[J&A][W&z],T===t||T===b?(Z>=y&&(T=u),Z=m[T]|0):T===u||T===B?(Z<y&&(T=t),Z=m[T]|0):Z=m[Z]|0,r[Q]=Z):r[Q]=K;Q+=1;W+=E;J-=I;(W&C)===(W&z)&&(J&D)===(J&A)?(Z=G[J&A][W&z],T=a[J&A][W&z],T===t||T===b?(Z>=y&&(T=u),Z=m[T]|0):T===u||T===B?(Z<y&&(T=t),Z=m[T]|0):Z=m[Z]|0,r[Q]=Z):r[Q]=K;Q+=1;W+=E;J-=I;(W&C)===(W&z)&&(J&D)===(J&A)?(Z=G[J&A][W&z],T=a[J&A][W&z],T===t||T===b?(Z>=y&&(T=u),Z=m[T]|0):T===u||T===B?(Z<y&&(T=t),Z=m[T]|0):Z=m[Z]|0,r[Q]=Z):r[Q]=K;Q+=
1;W+=E;J-=I;(W&C)===(W&z)&&(J&D)===(J&A)?(Z=G[J&A][W&z],T=a[J&A][W&z],T===t||T===b?(Z>=y&&(T=u),Z=m[T]|0):T===u||T===B?(Z<y&&(T=t),Z=m[T]|0):Z=m[Z]|0,r[Q]=Z):r[Q]=K;Q+=1;W+=E;J-=I;(W&C)===(W&z)&&(J&D)===(J&A)?(Z=G[J&A][W&z],T=a[J&A][W&z],T===t||T===b?(Z>=y&&(T=u),Z=m[T]|0):T===u||T===B?(Z<y&&(T=t),Z=m[T]|0):Z=m[Z]|0,r[Q]=Z):r[Q]=K;Q+=1;W+=E;J-=I;(W&C)===(W&z)&&(J&D)===(J&A)?(Z=G[J&A][W&z],T=a[J&A][W&z],T===t||T===b?(Z>=y&&(T=u),Z=m[T]|0):T===u||T===B?(Z<y&&(T=t),Z=m[T]|0):Z=m[Z]|0,r[Q]=Z):r[Q]=K;
Q+=1;W+=E;J-=I}P+=I;J=F+=E}f&&this.Rd();(this.ac||this.ld)&&this.oh()&&this.zd();G=c;for(a=1;a<l;a+=1)for(c=2<this.c?0===this.L?this.c/this.R*a|0:a<l/2?this.L/this.R*a*2|0:this.L+this.c/this.R*a|0:this.Kd?1:(this.ie+1)/this.R*a|0,e+=p,this.Ed(e),I/=this.j,E/=this.j,H*=this.j,v=d,.125>H?d=15:.25>H?d=7:.5>H?d=3:1>H?d=1:(G=this.X,d=0),d!==v&&(G=this.X),z=this.Ab&~d,A=this.Cb&~d,C=~d,D=~d,F=-(this.F/2*-I+this.D/2*E)+this.ke,P=-(this.F/2*E+this.D/2*I)+this.je,Q=0,J=F,v=0;v<this.D;v+=1){W=P;for(x=0;x<n;x+=
1)(W&C)===(W&z)&&(J&D)===(J&A)&&(Z=G[J&A][W&z]|0,Z>=c&&(r[Q]=m[Z])),Q+=1,W+=E,J-=I,(W&C)===(W&z)&&(J&D)===(J&A)&&(Z=G[J&A][W&z]|0,Z>=c&&(r[Q]=m[Z])),Q+=1,W+=E,J-=I,(W&C)===(W&z)&&(J&D)===(J&A)&&(Z=G[J&A][W&z]|0,Z>=c&&(r[Q]=m[Z])),Q+=1,W+=E,J-=I,(W&C)===(W&z)&&(J&D)===(J&A)&&(Z=G[J&A][W&z]|0,Z>=c&&(r[Q]=m[Z])),Q+=1,W+=E,J-=I,(W&C)===(W&z)&&(J&D)===(J&A)&&(Z=G[J&A][W&z]|0,Z>=c&&(r[Q]=m[Z])),Q+=1,W+=E,J-=I,(W&C)===(W&z)&&(J&D)===(J&A)&&(Z=G[J&A][W&z]|0,Z>=c&&(r[Q]=m[Z])),Q+=1,W+=E,J-=I,(W&C)===(W&z)&&
(J&D)===(J&A)&&(Z=G[J&A][W&z]|0,Z>=c&&(r[Q]=m[Z])),Q+=1,W+=E,J-=I,(W&C)===(W&z)&&(J&D)===(J&A)&&(Z=G[J&A][W&z]|0,Z>=c&&(r[Q]=m[Z])),Q+=1,W+=E,J-=I;P+=I;J=F+=E}};q.prototype.vH=function(a,c,d,f){var n=this.F>>3,m=this.te,r=this.Wd,v,x,u=ViewConstants.Sa[3]+128,t=ViewConstants.Sa[4]+128,B=ViewConstants.Sa[5]+128,b=ViewConstants.Sa[6]+128,l=1,e=1,p=0,y=this.vb,z=this.Ab&~d,A=this.Cb&~d,C=c,D=this.ia;1<this.j&&(l=this.R);var G=Math.sin(this.kb/180*Math.PI)/this.ia;var H=Math.cos(this.kb/180*Math.PI)/
this.ia;var I=-(this.F/2*-G+this.D/2*H)+this.ke;var E=-(this.F/2*H+this.D/2*G)+this.je;1<this.R&&1<this.j&&(p=.4/(this.R-1),e=.6);this.Ed(e);var F=0;var P=I;for(v=0;v<this.D;v+=1){var K=E;for(x=0;x<n;x+=1){var Q=C[P&A][K&z];var J=a[P&A][K&z];J===t||J===b?(Q>=y&&(J=u),Q=m[J]|0):J===u||J===B?(Q<y&&(J=t),Q=m[J]|0):Q=m[Q]|0;r[F]=Q;F+=1;K+=H;P-=G;Q=C[P&A][K&z];J=a[P&A][K&z];J===t||J===b?(Q>=y&&(J=u),Q=m[J]|0):J===u||J===B?(Q<y&&(J=t),Q=m[J]|0):Q=m[Q]|0;r[F]=Q;F+=1;K+=H;P-=G;Q=C[P&A][K&z];J=a[P&A][K&z];
J===t||J===b?(Q>=y&&(J=u),Q=m[J]|0):J===u||J===B?(Q<y&&(J=t),Q=m[J]|0):Q=m[Q]|0;r[F]=Q;F+=1;K+=H;P-=G;Q=C[P&A][K&z];J=a[P&A][K&z];J===t||J===b?(Q>=y&&(J=u),Q=m[J]|0):J===u||J===B?(Q<y&&(J=t),Q=m[J]|0):Q=m[Q]|0;r[F]=Q;F+=1;K+=H;P-=G;Q=C[P&A][K&z];J=a[P&A][K&z];J===t||J===b?(Q>=y&&(J=u),Q=m[J]|0):J===u||J===B?(Q<y&&(J=t),Q=m[J]|0):Q=m[Q]|0;r[F]=Q;F+=1;K+=H;P-=G;Q=C[P&A][K&z];J=a[P&A][K&z];J===t||J===b?(Q>=y&&(J=u),Q=m[J]|0):J===u||J===B?(Q<y&&(J=t),Q=m[J]|0):Q=m[Q]|0;r[F]=Q;F+=1;K+=H;P-=G;Q=C[P&A][K&
z];J=a[P&A][K&z];J===t||J===b?(Q>=y&&(J=u),Q=m[J]|0):J===u||J===B?(Q<y&&(J=t),Q=m[J]|0):Q=m[Q]|0;r[F]=Q;F+=1;K+=H;P-=G;Q=C[P&A][K&z];J=a[P&A][K&z];J===t||J===b?(Q>=y&&(J=u),Q=m[J]|0):J===u||J===B?(Q<y&&(J=t),Q=m[J]|0):Q=m[Q]|0;r[F]=Q;F+=1;K+=H;P-=G}E+=G;P=I+=H}f&&this.Rd();(this.ac||this.ld)&&this.oh()&&this.zd();C=c;for(a=1;a<l;a+=1)for(c=2<this.c?0===this.L?this.c/this.R*a|0:a<l/2?this.L/this.R*a*2|0:this.L+this.c/this.R*a|0:this.Kd?1:(this.ie+1)/this.R*a|0,e+=p,this.Ed(e),G/=this.j,H/=this.j,D*=
this.j,v=d,.125>D?d=15:.25>D?d=7:.5>D?d=3:1>D?d=1:(C=this.X,d=0),d!==v&&(C=this.X),z=this.Ab&~d,A=this.Cb&~d,I=-(this.F/2*-G+this.D/2*H)+this.ke,E=-(this.F/2*H+this.D/2*G)+this.je,F=0,P=I,v=0;v<this.D;v+=1){K=E;for(x=0;x<n;x+=1)Q=C[P&A][K&z]|0,Q>=c&&(r[F]=m[Q]),F+=1,K+=H,P-=G,Q=C[P&A][K&z]|0,Q>=c&&(r[F]=m[Q]),F+=1,K+=H,P-=G,Q=C[P&A][K&z]|0,Q>=c&&(r[F]=m[Q]),F+=1,K+=H,P-=G,Q=C[P&A][K&z]|0,Q>=c&&(r[F]=m[Q]),F+=1,K+=H,P-=G,Q=C[P&A][K&z]|0,Q>=c&&(r[F]=m[Q]),F+=1,K+=H,P-=G,Q=C[P&A][K&z]|0,Q>=c&&(r[F]=
m[Q]),F+=1,K+=H,P-=G,Q=C[P&A][K&z]|0,Q>=c&&(r[F]=m[Q]),F+=1,K+=H,P-=G,Q=C[P&A][K&z]|0,Q>=c&&(r[F]=m[Q]),F+=1,K+=H,P-=G;E+=G;P=I+=H}};q.prototype.wH=function(a,c,d,f){var n=this.F>>3,m=this.te,r=this.Wd,v,x=ViewConstants.Sa[3]+128,u=ViewConstants.Sa[4]+128,t=ViewConstants.Sa[5]+128,B=ViewConstants.Sa[6]+128,b=1,l=1,e=0,p=this.vb,y=this.Ab&~d,z=this.Cb&~d,A=c,C=this.ia;1<this.j&&(b=this.R);var D=1/this.ia;this.P&&(D/=ViewConstants.hf);var G=1/this.ia;var H=-(this.D/2*D)+this.ke;var I=-(this.F/2*G)+
this.je;1<this.R&&1<this.j&&(e=.4/(this.R-1),l=.6);this.Ed(l);var E=0;var F=H;for(v=0;v<this.D;v+=1){var P=A[F&z];var K=a[F&z];var Q=I;this.O&&(Q+=.5*(F|0));for(F=0;F<n;F+=1){var J=P[Q&y];var W=K[Q&y];W===u||W===B?(J>=p&&(W=x),J=m[W]|0):W===x||W===t?(J<p&&(W=u),J=m[W]|0):J=m[J]|0;r[E]=J;E+=1;Q+=G;J=P[Q&y];W=K[Q&y];W===u||W===B?(J>=p&&(W=x),J=m[W]|0):W===x||W===t?(J<p&&(W=u),J=m[W]|0):J=m[J]|0;r[E]=J;E+=1;Q+=G;J=P[Q&y];W=K[Q&y];W===u||W===B?(J>=p&&(W=x),J=m[W]|0):W===x||W===t?(J<p&&(W=u),J=m[W]|0):
J=m[J]|0;r[E]=J;E+=1;Q+=G;J=P[Q&y];W=K[Q&y];W===u||W===B?(J>=p&&(W=x),J=m[W]|0):W===x||W===t?(J<p&&(W=u),J=m[W]|0):J=m[J]|0;r[E]=J;E+=1;Q+=G;J=P[Q&y];W=K[Q&y];W===u||W===B?(J>=p&&(W=x),J=m[W]|0):W===x||W===t?(J<p&&(W=u),J=m[W]|0):J=m[J]|0;r[E]=J;E+=1;Q+=G;J=P[Q&y];W=K[Q&y];W===u||W===B?(J>=p&&(W=x),J=m[W]|0):W===x||W===t?(J<p&&(W=u),J=m[W]|0):J=m[J]|0;r[E]=J;E+=1;Q+=G;J=P[Q&y];W=K[Q&y];W===u||W===B?(J>=p&&(W=x),J=m[W]|0):W===x||W===t?(J<p&&(W=u),J=m[W]|0):J=m[J]|0;r[E]=J;E+=1;Q+=G;J=P[Q&y];W=K[Q&
y];W===u||W===B?(J>=p&&(W=x),J=m[W]|0):W===x||W===t?(J<p&&(W=u),J=m[W]|0):J=m[J]|0;r[E]=J;E+=1;Q+=G}F=H+=D}f&&this.Rd();(this.ac||this.ld)&&this.oh()&&this.zd();A=c;for(a=1;a<b;a+=1)for(c=2<this.c?0===this.L?this.c/this.R*a|0:a<b/2?this.L/this.R*a*2|0:this.L+this.c/this.R*a|0:this.Kd?1:(this.ie+1)/this.R*a|0,l+=e,this.Ed(l),D/=this.j,G/=this.j,C*=this.j,v=d,.125>C?d=15:.25>C?d=7:.5>C?d=3:1>C?d=1:(A=this.X,d=0),d!==v&&(A=this.X),y=this.Ab&~d,z=this.Cb&~d,H=-(this.D/2*D)+this.ke,I=-(this.F/2*G)+this.je,
E=0,F=H,v=0;v<this.D;v+=1){P=A[F&z];Q=I;this.O&&(Q+=.5*(F|0));for(F=0;F<n;F+=1)J=P[Q&y]|0,J>=c&&(r[E]=m[J]),E+=1,Q+=G,J=P[Q&y]|0,J>=c&&(r[E]=m[J]),E+=1,Q+=G,J=P[Q&y]|0,J>=c&&(r[E]=m[J]),E+=1,Q+=G,J=P[Q&y]|0,J>=c&&(r[E]=m[J]),E+=1,Q+=G,J=P[Q&y]|0,J>=c&&(r[E]=m[J]),E+=1,Q+=G,J=P[Q&y]|0,J>=c&&(r[E]=m[J]),E+=1,Q+=G,J=P[Q&y]|0,J>=c&&(r[E]=m[J]),E+=1,Q+=G,J=P[Q&y]|0,J>=c&&(r[E]=m[J]),E+=1,Q+=G;F=H+=D}};q.prototype.uH=function(a,c,d,f){var n=this.F>>3,m=this.te,r=this.Wd,v,x=ViewConstants.Sa[3]+128,u=ViewConstants.Sa[4]+
128,t=ViewConstants.Sa[5]+128,B=ViewConstants.Sa[6]+128,b=1,l=1,e=0,p=this.vb,y=this.Ab&~d,z=this.Cb&~d,A=~d,C=~d,D=c,G=this.ia;1<this.j&&(b=this.R);var H=1/this.ia;this.P&&(H/=ViewConstants.hf);var I=1/this.ia;var E=-(this.D/2*H)+this.ke;var F=-(this.F/2*I)+this.je;1<this.R&&1<this.j&&(e=.4/(this.R-1),l=.6);this.Ed(l);var P=this.width<this.ga?m[0]|0:this.Ml|0;var K=0;var Q=E;for(v=0;v<this.D;v+=1){if((Q&C)===(Q&z)){var J=D[Q&z];var W=a[Q&z];var Z=F;this.O&&(Z+=.5*(Q|0));for(Q=0;Q<n;Q+=1){if((Z&A)===
(Z&y)){var T=J[Z&y];var M=W[Z&y];M===u||M===B?(T>=p&&(M=x),T=m[M]|0):M===x||M===t?(T<p&&(M=u),T=m[M]|0):T=m[T]|0}else T=P;r[K]=T;K+=1;Z+=I;(Z&A)===(Z&y)?(T=J[Z&y],M=W[Z&y],M===u||M===B?(T>=p&&(M=x),T=m[M]|0):M===x||M===t?(T<p&&(M=u),T=m[M]|0):T=m[T]|0):T=P;r[K]=T;K+=1;Z+=I;(Z&A)===(Z&y)?(T=J[Z&y],M=W[Z&y],M===u||M===B?(T>=p&&(M=x),T=m[M]|0):M===x||M===t?(T<p&&(M=u),T=m[M]|0):T=m[T]|0):T=P;r[K]=T;K+=1;Z+=I;(Z&A)===(Z&y)?(T=J[Z&y],M=W[Z&y],M===u||M===B?(T>=p&&(M=x),T=m[M]|0):M===x||M===t?(T<p&&(M=u),
T=m[M]|0):T=m[T]|0):T=P;r[K]=T;K+=1;Z+=I;(Z&A)===(Z&y)?(T=J[Z&y],M=W[Z&y],M===u||M===B?(T>=p&&(M=x),T=m[M]|0):M===x||M===t?(T<p&&(M=u),T=m[M]|0):T=m[T]|0):T=P;r[K]=T;K+=1;Z+=I;(Z&A)===(Z&y)?(T=J[Z&y],M=W[Z&y],M===u||M===B?(T>=p&&(M=x),T=m[M]|0):M===x||M===t?(T<p&&(M=u),T=m[M]|0):T=m[T]|0):T=P;r[K]=T;K+=1;Z+=I;(Z&A)===(Z&y)?(T=J[Z&y],M=W[Z&y],M===u||M===B?(T>=p&&(M=x),T=m[M]|0):M===x||M===t?(T<p&&(M=u),T=m[M]|0):T=m[T]|0):T=P;r[K]=T;K+=1;Z+=I;(Z&A)===(Z&y)?(T=J[Z&y],M=W[Z&y],M===u||M===B?(T>=p&&(M=
x),T=m[M]|0):M===x||M===t?(T<p&&(M=u),T=m[M]|0):T=m[T]|0):T=P;r[K]=T;K+=1;Z+=I}}else r.fill(P,K,K+this.F+1),K+=this.F;Q=E+=H}f&&this.Rd();(this.ac||this.ld)&&this.oh()&&this.zd();D=c;for(a=1;a<b;a+=1)for(c=2<this.c?0===this.L?this.c/this.R*a|0:a<b/2?this.L/this.R*a*2|0:this.L+this.c/this.R*a|0:this.Kd?1:(this.ie+1)/this.R*a|0,l+=e,this.Ed(l),H/=this.j,I/=this.j,G*=this.j,v=d,.125>G?d=15:.25>G?d=7:.5>G?d=3:1>G?d=1:(D=this.X,d=0),d!==v&&(D=this.X),y=this.Ab&~d,z=this.Cb&~d,A=~d,C=~d,E=-(this.D/2*H)+
this.ke,F=-(this.F/2*I)+this.je,K=0,Q=E,v=0;v<this.D;v+=1){if((Q&C)===(Q&z))for(J=D[Q&z],Z=F,this.O&&(Z+=.5*(Q|0)),Q=0;Q<n;Q+=1)(Z&A)===(Z&y)&&(T=J[Z&y]|0,T>=c&&(r[K]=m[T])),K+=1,Z+=I,(Z&A)===(Z&y)&&(T=J[Z&y]|0,T>=c&&(r[K]=m[T])),K+=1,Z+=I,(Z&A)===(Z&y)&&(T=J[Z&y]|0,T>=c&&(r[K]=m[T])),K+=1,Z+=I,(Z&A)===(Z&y)&&(T=J[Z&y]|0,T>=c&&(r[K]=m[T])),K+=1,Z+=I,(Z&A)===(Z&y)&&(T=J[Z&y]|0,T>=c&&(r[K]=m[T])),K+=1,Z+=I,(Z&A)===(Z&y)&&(T=J[Z&y]|0,T>=c&&(r[K]=m[T])),K+=1,Z+=I,(Z&A)===(Z&y)&&(T=J[Z&y]|0,T>=c&&(r[K]=
m[T])),K+=1,Z+=I,(Z&A)===(Z&y)&&(T=J[Z&y]|0,T>=c&&(r[K]=m[T])),K+=1,Z+=I;else K+=n<<3;Q=E+=H}};q.prototype.Bj=function(a,c,d,f,n){var m=Math.sin(this.kb/180*Math.PI)/this.ia,r=Math.cos(this.kb/180*Math.PI)/this.ia,v=this.F,x=this.D,u=-(this.F/2*-m+this.D/2*r)+this.ke,t=-(this.F/2*r+this.D/2*m)+this.je,B=u+v*-m,b=t+v*r,l=u+x*r;x=t+x*m;m=l+v*-m;r=x+v*r;v=l;var e=x;r<e&&(e=r);t<e&&(e=t);b<e&&(e=t);r>x&&(x=r);t>x&&(x=t);b>x&&(x=b);m>v&&(v=m);u>v&&(v=u);B>v&&(v=B);m<l&&(l=m);u<l&&(l=u);B<l&&(l=B);0>(e|
0)||(x|0)>=this.width||0>(l|0)||(v|0)>=this.height?0===this.kb?this.Yg&&1<=this.ia&&1===this.R&&(this.ia|0)!==this.ia?(this.Ed(1),this.width!==this.ga?this.El(a,c,e,l,x,v,this.te[0],f,n):this.El(a,c,e,l,x,v,this.Ml,f,n)):this.uH(a,c,d,f):this.tH(a,c,d,f):0===this.kb?this.Yg&&1<=this.ia&&1===this.R&&(this.ia|0)!==this.ia?(this.Ed(1),this.El(a,c,e,l,x,v,this.te[0],f,n)):this.wH(a,c,d,f):this.vH(a,c,d,f)};q.prototype.$t=function(){var a;if(this.Jj){if(!this.nc.data.buffer){var c=this.nc.data;var d=this.Gk;
var f=d.length;for(a=0;a<f;)c[a]=d[a],a+=1,c[a]=d[a],a+=1,c[a]=d[a],a+=1,c[a]=d[a],a+=1}this.context.putImageData(this.nc,0,0)}};q.prototype.Ow=function(a){this.Wd.fill(a)};window.LifeConstants=k;window.Life=q}(),function(){function w(g,h){var q=0,k=0,a=g.length,c=!1,d=!1,f=!1,n=0,m=new Uint32Array(a),r=new Uint16Array(a),v=new Uint32Array(a),x=0,u=0;-1!==g.indexOf("&")&&(g=g.replace(/&amp;/g,"&"),g=g.replace(/&lt;/g,"<"),g=g.replace(/&gt;/g,">"),a=g.length);for(;q<a;){var t=g.charCodeAt(q);switch(t){case 32:case 13:case 9:case 123:case 125:!d&&
c&&(m[n]=k,r[n]=q-k,v[n]=(x<<1)+1&u,n+=1,c=!1);break;case 44:h?!d&&c&&(m[n]=k,r[n]=q-k,v[n]=(x<<1)+1&u,n+=1,c=!1):c||(c=!0,u=0,d=!1,k=q);break;case 10:c&&(m[n]=k,r[n]=q-k,v[n]=(x<<1)+1&u,n+=1,c=!1);d=!1;h&&(0<n&&"\n"!==g[m[n-1]]&&(m[n]=q,r[n]=1,v[n]=0,n+=1),f=!1);break;case 58:case 61:h?d||(c&&(m[n]=k,r[n]=q-k,v[n]=(x<<1)+1&u,n+=1,c=!1),m[n]=q,r[n]=1,v[n]=0,n+=1):c||(c=!0,u=0,d=!1,k=q);break;case 34:h?d||(f=!f,c||(c=!0,k=q)):c||(c=!0,u=0,k=q);break;case 35:h?f||d||(c&&(m[n]=k,r[n]=q-k,v[n]=(x<<1)+
1&u,n+=1,c=!1),d=!0):c||(c=!0,u=0,d=!1,k=q);break;default:d||(c?48<=t&&57>=t?x=10*x+t-48:u=0:(c=!0,k=q,48<=t&&57>=t?(u=-1,x=t-48):u=0))}q+=1}c&&(m[n]=k,r[n]=q-k,v[n]=(x<<1)+1&u,n+=1);this.j=m.slice(0,n);this.B=r.slice(0,n);this.N=v.slice(0,n);this.current=0;this.source=g}w.prototype.nG=function(){0<this.current&&--this.current};w.prototype.bq=function(){for(;this.current<this.j.length&&10!==this.source.charCodeAt(this.j[this.current]);)this.current+=1;this.current<this.j.length&&(this.current+=1)};
w.prototype.Vv=function(){for(;this.current<this.j.length&&10===this.source.charCodeAt(this.j[this.current]);)this.current+=1};w.prototype.vK=function(){var g=!1;this.current<this.j.length&&10!==this.source.charCodeAt(this.j[this.current])&&(g=!0);return g};w.prototype.Mr=function(){var g=!1;this.current<this.j.length&&10===this.source.charCodeAt(this.j[this.current])&&(g=!0);return g};w.prototype.S=function(){var g="";this.current<this.j.length&&(g=this.source.substr(this.j[this.current],this.B[this.current]),
this.current+=1);return g};w.prototype.ND=function(){var g;for(g=this.S();"\n"===g;)g=this.S();return g};w.prototype.Ca=function(){var g="";this.current<this.j.length&&(g=this.source.substr(this.j[this.current],this.B[this.current]));return g};w.prototype.GD=function(){return this.fa(Keywords.lo,-1,!1)};w.prototype.Zq=function(g,h){return this.fa(g,h,!0)};w.prototype.fa=function(g,h,q){var k=-1,a=this.current;for(-1!==h&&0<=h&&h<this.j.length&&(a=h);a<this.j.length&&-1===k;){if(g.length===this.B[a]){var c=
0;for(h=!0;h&&c<g.length;)g[c]!==this.source[this.j[a]+c]?h=!1:c+=1}else h=!1;h&&(q&&0!==a&&10!==this.source.charCodeAt(this.j[a-1])&&(h=!1),h&&(k=a));a+=1}-1!==k&&(this.current=a);return k};w.prototype.lm=function(g){return!isNaN(parseFloat(g))&&isFinite(Number(g))};w.prototype.aa=function(g){var h=!1,q=g.indexOf("/");-1!==q&&(h=g.substr(0,q),g=g.substr(q+1),h=this.lm(h)&&this.lm(g));return h};w.prototype.xx=function(g){var h=0;if(this.aa(g)){var q=g.indexOf("/");var k=g.substr(0,q);g=g.substr(q+
1);0!==Number(g)&&(h=Number(k)/Number(g))}else this.lm(g)&&(h=parseFloat(g));return h};w.prototype.I=function(){var g=0;this.current<this.j.length&&(0!==this.N[this.current]?(g=this.N[this.current]>>1,this.current+=1):(g=this.S(),g=this.xx(g)));return g};w.prototype.H=function(){var g=!1;if(this.current<this.j.length)if(this.N[this.current])g=!0;else{var h=this.source.substr(this.j[this.current],this.B[this.current]);this.aa(h)?g=!0:g=this.lm(h)}return g};w.prototype.tJ=function(){var g=!1;var h=
this.current+1;h<this.j.length&&(this.N[h]?g=!0:(h=this.source.substr(this.j[h],this.B[h]),this.aa(h)?g=!0:g=this.lm(h)));return g};w.prototype.fJ=function(){this.current=this.j.length};window.Script=w}(),function(){function w(c){this.v=c;this.io=this.ii=this.lp=!1;this.Ug=a.Nz;this.ik=a.Np;this.bb=this.Wb=-1;this.angle=this.y=this.x=0;this.depth=this.R=this.zoom=1;this.Ac=0;this.xc=60;this.step=1;this.vd=this.mc=0;this.Kf="";this.ps=this.Tk=this.Yv=this.bt=this.vl=this.ul=this.BB=this.qG=this.Hs=
this.nm=this.Um=this.xi=this.di=this.gg=this.Yh=this.ki=this.ce=this.mh=this.Lf=this.ig=this.cd=this.Qm=this.Qh=this.Oh=this.Mh=this.af=!1}function g(c,d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A){this.coords=c;this.Xy=d;this.ya=this.zoom=f;this.Ua=n;this.Kg=m;this.alpha=r;this.size=v;this.lc=x;this.gh=u;this.ud=t;this.angle=B;this.Il=b;this.Gm=l;this.bn=e;this.cn=p;this.Jf=y;this.Zl=z;this.$l=A;-2E3===this.Ua?(this.ya=this.zoom/4,this.Ua=4*this.zoom):(this.ya=this.zoom,this.zoom=this.ya*Math.pow(this.Ua/this.ya,
.5))}function h(c,d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A,C,D,G){this.EC=c;this.GC=d;this.$G=f;this.aH=n;this.ya=this.zoom=m;this.Ua=r;this.Kg=v;this.alpha=x;this.size=u;this.ZD=t;this.lc=B;this.gh=b;this.ud=l;this.angle=e;this.Il=p;this.Gm=y;this.bn=z;this.cn=A;this.Jf=C;this.Zl=D;this.$l=G;-2E3===this.Ua?(this.ya=this.zoom/4,this.Ua=4*this.zoom):(this.ya=this.zoom,this.zoom=this.ya*Math.pow(this.Ua/this.ya,.5))}function q(c,d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A){this.message="";this.x=c;this.y=d;this.ya=
this.zoom=f;this.Ua=n;this.Kg=m;this.alpha=r;this.size=v;this.lc=x;this.gh=u;this.ud=t;this.angle=B;this.Il=b;this.Gm=l;this.bn=e;this.cn=p;this.Jf=y;this.Zl=z;this.$l=A;-2E3===this.Ua?(this.ya=this.zoom/4,this.Ua=4*this.zoom):(this.ya=this.zoom,this.zoom=this.ya*Math.pow(this.Ua/this.ya,.5))}function k(){this.Ta=[];this.qc=[];this.Df=[];this.uf=[];this.Ff=[];this.current=new w(this);this.Ra=new w(this);this.B=new w(this);this.N=!1;this.xk=0;this.fr=this.aa=!1}var a={Nz:0,play:1,stop:2,Np:12,zF:0,
yF:200};w.prototype.set=function(c){this.lp=c.lp;this.ii=c.ii;this.io=c.io;this.Ug=c.Ug;this.ik=c.ik;this.Wb=c.Wb;this.bb=c.bb;this.x=c.x;this.y=c.y;this.Mh=c.Mh;this.Oh=c.Oh;this.Qh=c.Qh;this.af=c.af;this.angle=c.angle;this.zoom=c.zoom;this.R=c.R;this.depth=c.depth;this.Ac=c.Ac;this.xc=c.xc;this.step=c.step;this.mc=c.mc;this.vd=c.vd;this.Kf=c.Kf;this.Qm=c.Qm;this.cd=c.cd};w.prototype.j=function(){var c="";switch(this.Ug){case a.play:c=Keywords.Op;break;case a.stop:c=Keywords.Pp}return c};w.prototype.dM=
function(c){this.ii?(this.Ug!==a.Nz&&(c[c.length]=[Keywords.Op,"overwrites "+this.j()]),this.Ug=a.play):c[c.length]=[Keywords.Op,"only valid at POI"]};w.prototype.hM=function(c){this.ii?(this.Ug!==a.Nz&&(c[c.length]=[Keywords.Pp,"overwrites "+this.j()]),this.Ug=a.stop):c[c.length]=[Keywords.Pp,"only valid at POI"]};w.prototype.eM=function(c){this.ii?(this.io&&(c[c.length]=[Keywords.js,"already defined"]),this.io=!0):c[c.length]=[Keywords.js,"only valid at POI"]};w.prototype.jM=function(c,d){this.ii?
(this.ik!==a.Np&&(d[d.length]=[Keywords.ks+" "+c,"overwrites "+this.ik]),this.ik=c):d[d.length]=[Keywords.ks,"only valid at POI"]};w.prototype.B=function(c,d,f){var n=c.vd+0,m=d.vd+0,r=c.angle+0,v=d.angle+0,x=1,u=1,t=1,B=1,b=1;f>m&&(f=m);m-n===ViewConstants.pM&&(n=m);m!==n&&(x=Math.round((f-n)/(m-n)*1E6)/1E6,u=this.v.XC(x)+0);d.Mh||d.af?t=x:t=u;d.Oh||d.af?B=x:B=u;d.Qh||d.af?b=x:b=u;this.x=c.x+t*(d.x-c.x);this.y=c.y+B*(d.y-c.y);this.zoom=c.zoom*Math.pow(d.zoom/c.zoom,b);180<v-r?r+=360:-180>v-r&&(v+=
360);this.angle=(r+u*(v-r))%360;this.R=c.R+x*(d.R-c.R)|0;this.depth=c.depth+x*(d.depth-c.depth);this.Ac=d.Ac;this.xc=d.xc;this.step=d.step;this.mc=c.mc+x*(d.mc-c.mc)|0;this.vd=f;this.Kf=d.Kf;this.af=d.af;this.lp=d.lp};k.prototype.EI=function(c,d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A){return new g(c,d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A)};k.prototype.Nb=function(){this.Ff=[]};k.prototype.EH=function(c){this.Ff[this.Ff.length]=c};k.prototype.zI=function(c,d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A,C,D,G){return new h(c,
d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A,C,D,G)};k.prototype.$a=function(){this.uf=[]};k.prototype.BH=function(c){this.uf[this.uf.length]=c};k.prototype.CI=function(c,d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A){return new q(c,d,f,n,m,r,v,x,u,t,B,b,l,e,p,y,z,A)};k.prototype.wb=function(){this.Df=[]};k.prototype.LC=function(c){this.Df[this.Df.length]=c};k.prototype.Bp=function(){return this.Df.length+this.uf.length+this.Ff.length};k.prototype.eI=function(){this.wb();this.$a();this.Nb()};k.prototype.TK=function(c){var d=
"",f="";0<=c&&c<this.Ff.length&&(c=this.Ff[c],c.Gm&&(f="*"),d=c.Xy?"FILL\t":"LINE\t",d+="X1"+f+" "+c.coords[0]+"\tY1"+f+" "+c.coords[1]);return d};k.prototype.UK=function(c){var d="",f="";0<=c&&c<this.Ff.length&&(d=this.Ff[c],c=d.zoom,0<=c&&1>c&&(c=-1/c),d.Il&&(f="*"),d="Z "+c.toFixed(1)+"\tA"+f+" "+d.angle.toFixed(1));return d};k.prototype.VK=function(c){var d="";0<=c&&c<this.Ff.length&&(c=this.Ff[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.lc&&(d+="\tT1 "+c.lc+"\tT2 "+c.gh,0<c.ud&&(d+="\tFade "+c.ud)));
return d};k.prototype.WK=function(c){var d="";0<=c&&c<this.Ff.length&&(d=this.Ff[c].Kg);return d};k.prototype.RH=function(c){var d="",f="";0<=c&&c<this.uf.length&&(c=this.uf[c],c.Gm&&(f="*"),d="X1"+f+" "+c.EC+"\tY1"+f+" "+c.GC,d+="\tX2"+f+" "+c.$G+"\tY2"+f+" "+c.aH);return d};k.prototype.SH=function(c){var d="",f="";0<=c&&c<this.uf.length&&(d=this.uf[c],c=d.zoom,0<=c&&1>c&&(c=-1/c),d.Il&&(f="*"),d="Z "+c.toFixed(1)+"\tA"+f+" "+d.angle.toFixed(1));return d};k.prototype.TH=function(c){var d="";0<=c&&
c<this.uf.length&&(c=this.uf[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.lc&&(d+="\tT1 "+c.lc+"\tT2 "+c.gh,0<c.ud&&(d+="\tFade "+c.ud)));return d};k.prototype.mt=function(c){var d="";0<=c&&c<this.uf.length&&(d=this.uf[c].Kg);return d};k.prototype.$J=function(c){var d="",f="",n="";if(0<=c&&c<this.Df.length){var m=this.Df[c];c=m.zoom;0<=c&&1>c&&(c=-1/c);m.Gm&&(f="*");m.Il&&(n="*");d="X"+f+" "+m.x+"\tY"+f+" "+m.y;d+="\tZ "+c.toFixed(1)+"\tA"+n+" "+m.angle.toFixed(1)}return d};k.prototype.aK=function(c){var d=
"";0<=c&&c<this.Df.length&&(c=this.Df[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.lc&&(d+="\tT1 "+c.lc+"\tT2 "+c.gh,0<c.ud&&(d+="\tFade "+c.ud)));return d};k.prototype.bK=function(c){var d="";0<=c&&c<this.Df.length&&(c=this.Df[c],d="Size "+c.size+'\t"'+c.message+'"');return d};k.prototype.cK=function(c){var d="";0<=c&&c<this.Df.length&&(d=this.Df[c].Kg);return d};k.prototype.Rc=function(){this.Df.sort(function(c,d){return c.zoom-d.zoom})};k.prototype.nc=function(){this.uf.sort(function(c,d){return c.zoom-
d.zoom})};k.prototype.Sc=function(){this.Ff.sort(function(c,d){return c.zoom-d.zoom})};k.prototype.rM=function(){this.Rc();this.nc();this.Sc()};k.prototype.fa=function(c,d){var f,n=c.a,m=n.context,r=n.width/2-n.za-n.Vb,v=n.height/2-n.sa-n.Sb,x=n.zoom*n.sc,u=n.zoom*n.sc*(n.P?ViewConstants.hf:1),t=n.F/2,B=n.D/2,b=c.a.counter,l=n.O?-(n.height>>2):0,e=0,p=0,y=0,z=0,A=0;n.O&&(r+=v/2);d&&(m.strokeStyle=ViewConstants.VH);for(f=0;f<this.uf.length;f+=1){var C=this.uf[f];var D=!0;-1!==C.lc&&(b<C.lc||b>C.gh)&&
(D=!1);if(D){var G=C.size*x/C.zoom;d&&(e=1,24<=G&&(e=2,48<=G&&(e=3)));if(x>=C.ya&&x<=C.Ua){var H=Math.log(x/C.ya)/Math.log(C.Ua/C.ya);H=.25>=H?4*H:.75<=H?4*(1-H):1;var I=1;-1!==C.lc&&0<C.ud&&(b-C.lc<C.ud?I=(b-C.lc+1)/C.ud:C.gh-b<C.ud&&(I=(C.gh-b+1)/C.ud));D=!0;var E=1;if(-1!==C.Jf){var F=Math.sqrt((-(r+l)-C.bn)*(-(r+l)-C.bn)+(-v-C.cn)*(-v-C.cn));F>C.Jf?D=!1:0<C.Jf&&.75<F/C.Jf&&(E=4*(1-F/C.Jf))}D&&(m.globalAlpha=H*C.alpha*I*E,E=C.GC+v-(c.lb>>1)+.5,H=C.EC+r+l-(c.hb>>1)+.5,C.Gm||(H+=n.Vb,E+=n.Sb),-1!==
C.lc?(H+=C.Zl*(c.rb-C.lc),E+=C.$l*(c.rb-C.lc)):(H+=C.Zl*c.rb,E+=C.$l*c.rb),0!==n.kb&&(I=Math.sqrt(H*H+E*E),D=180/Math.PI*Math.atan2(E,H),D+=n.kb,H=I*Math.cos(Math.PI/180*D),E=I*Math.sin(Math.PI/180*D)),n.O&&(H-=E/2),D=E*u+B,F=H*x+t,H=(C.$G-C.EC)*x,I=(C.aH-C.GC)*u,n.O&&(H-=I/2),E=0===C.ZD?0:Math.sqrt(H*H+I*I)*C.ZD,m.save(),m.translate(F,D),D=C.angle,C.Il||(D+=n.kb),m.rotate(D/180*Math.PI),m.lineWidth=G,d||(m.strokeStyle=C.Kg),m.lineCap="round",m.lineJoin="round",0<E&&(C=Math.atan2(I,H),p=Math.cos(.85*
Math.PI+C),y=Math.sin(.85*Math.PI+C),z=Math.cos(.85*-Math.PI+C),A=Math.sin(.85*-Math.PI+C)),0<e&&m.translate(e,e),m.beginPath(),m.moveTo(0,0),m.lineTo(H,I),0<E&&(m.moveTo(H,I),m.lineTo(H+E*p,I+E*y),m.moveTo(H,I),m.lineTo(H+E*z,I+E*A)),m.stroke(),m.restore())}}}m.globalAlpha=1};k.prototype.Pb=function(c){this.fa(c,!0);this.fa(c,!1)};k.prototype.qa=function(c,d){var f,n=c.a,m=n.context,r=n.width/2-n.za-n.Vb,v=n.height/2-n.sa-n.Sb,x=n.zoom*n.sc,u=n.zoom*n.sc*(n.P?ViewConstants.hf:1),t=n.F/2,B=n.D/2,
b=c.a.counter,l=n.O?-(n.height>>2):0,e=0;d&&(m.strokeStyle=ViewConstants.BF,m.fillStyle=ViewConstants.BF);n.O&&(r+=v/2);for(f=0;f<this.Ff.length;f+=1){var p=this.Ff[f];var y=p.coords;var z=y.length;var A=!0;-1!==p.lc&&(b<p.lc||b>p.gh)&&(A=!1);if(A){var C=p.size*x/p.zoom;d&&(e=1,24<=C&&(e=2,48<=C&&(e=3)));if(x>=p.ya&&x<=p.Ua){var D=Math.log(x/p.ya)/Math.log(p.Ua/p.ya);D=.25>=D?4*D:.75<=D?4*(1-D):1;var G=1;-1!==p.lc&&0<p.ud&&(b-p.lc<p.ud?G=(b-p.lc+1)/p.ud:p.gh-b<p.ud&&(G=(p.gh-b+1)/p.ud));A=!0;var H=
1;if(-1!==p.Jf){var I=Math.sqrt((-(r+l)-p.bn)*(-(r+l)-p.bn)+(-v-p.cn)*(-v-p.cn));I>p.Jf?A=!1:0<p.Jf&&.75<I/p.Jf&&(H=4*(1-I/p.Jf))}if(A){m.globalAlpha=D*p.alpha*G*H;D=0;H=y[D]+r+l-(c.hb>>1)+.5;G=y[D+1]+v-(c.lb>>1)+.5;D+=2;p.Gm||(H+=n.Vb,G+=n.Sb);-1!==p.lc?(H+=p.Zl*(c.rb-p.lc),G+=p.$l*(c.rb-p.lc)):(H+=p.Zl*c.rb,G+=p.$l*c.rb);0!==n.kb&&(A=Math.sqrt(H*H+G*G),G=180/Math.PI*Math.atan2(G,H),G+=n.kb,H=A*Math.cos(Math.PI/180*G),G=A*Math.sin(Math.PI/180*G));n.O&&(H-=G/2);G=G*u+B;I=H*x+t;H=(y[D]-y[0])*x;A=(y[D+
1]-y[1])*u;n.O&&(H-=A/2);D+=2;m.save();m.translate(I,G);G=p.angle;p.Il||(G+=n.kb);m.rotate(G/180*Math.PI);m.lineWidth=C;d||(p.Xy?m.fillStyle=p.Kg:m.strokeStyle=p.Kg);m.lineCap="round";m.lineJoin="round";0<e&&m.translate(e,e);m.beginPath();m.moveTo(0,0);for(m.lineTo(H,A);D<z;)H=(y[D]-y[0])*x,A=(y[D+1]-y[1])*u,n.O&&(H-=A/2),D+=2,m.lineTo(H,A);p.Xy?m.fill():m.stroke();m.restore()}}}}m.globalAlpha=1};k.prototype.Zb=function(c){this.qa(c,!0);this.qa(c,!1)};k.prototype.Tb=function(c){var d,f=c.a,n=f.context,
m=f.width/2-f.za-f.Vb,r=f.height/2-f.sa-f.Sb,v=f.zoom*f.sc,x=f.zoom*f.sc*(f.P?ViewConstants.hf:1),u=f.F/2,t=f.D/2,B=ViewConstants.fK,b="px "+ViewConstants.dK,l=c.a.counter,e=f.O?-(f.height>>2):0;f.O&&(m+=r/2);for(d=0;d<this.Df.length;d+=1){var p=this.Df[d];var y=!0;-1!==p.lc&&(l<p.lc||l>p.gh)&&(y=!1);if(y){var z=p.size*v/p.zoom;var A=1;24<=z&&(A=2,48<=z&&(A=3));if(v>=p.ya&&v<=p.Ua){var C=Math.log(v/p.ya)/Math.log(p.Ua/p.ya);n.font=z+b;C=.25>=C?4*C:.75<=C?4*(1-C):1;var D=1;-1!==p.lc&&0<p.ud&&(l-p.lc<
p.ud?D=(l-p.lc+1)/p.ud:p.gh-l<p.ud&&(D=(p.gh-l+1)/p.ud));y=!0;var G=1;if(-1!==p.Jf){var H=Math.sqrt((-(m+e)-p.bn)*(-(m+e)-p.bn)+(-r-p.cn)*(-r-p.cn));H>p.Jf?y=!1:0<p.Jf&&.75<H/p.Jf&&(G=4*(1-H/p.Jf))}if(y){n.globalAlpha=C*p.alpha*D*G;y=p.x+m+e-(c.hb>>1)+.5;G=p.y+r-(c.lb>>1)+.5;p.Gm||(y+=f.Vb,G+=f.Sb);-1!==p.lc?(y+=p.Zl*(c.rb-p.lc),G+=p.$l*(c.rb-p.lc)):(y+=p.Zl*c.rb,G+=p.$l*c.rb);0!==f.kb&&(C=Math.sqrt(y*y+G*G),G=180/Math.PI*Math.atan2(G,y),G+=f.kb,y=C*Math.cos(Math.PI/180*G),G=C*Math.sin(Math.PI/180*
G));f.O&&(y-=G/2);C=p.message;D=C.indexOf("\\n");G=G*x+t;y=y*v+u;n.save();n.translate(y,G);G=p.angle;p.Il||(G+=f.kb);n.rotate(G/180*Math.PI);for(G=0;-1!==D;)y=C.substr(0,D),C=C.substr(D+2),D=n.measureText(y).width>>1,n.fillStyle=B,n.fillText(y,-D+A,G+A),n.fillStyle=p.Kg,n.fillText(y,-D,G),G+=z,D=C.indexOf("\\n");D=n.measureText(C).width>>1;n.fillStyle=B;n.fillText(C,-D+A,G+A);n.fillStyle=p.Kg;n.fillText(C,-D,G);n.restore()}}}}n.globalAlpha=1};k.prototype.my=function(c){this.Zb(c);this.Pb(c);this.Tb(c)};
k.prototype.tM=function(c){var d;for(d=this.Ta.length-1;0<=d;--d){var f=this.Ta[d];f.vd>c&&f.ps&&(this.xk=d,f.ps=!1)}};k.prototype.BL=function(){var c;for(c=0;c<this.Ta.length;c+=1)this.Ta[c].ps=!1;this.xk=0;this.aa=!1};k.prototype.Bt=function(){return new w(this)};k.prototype.XC=function(c){return-2*Math.pow(c,3)+3*Math.pow(c,2)+0*c};k.prototype.reset=function(){this.Ta=[];this.qc=[];this.N=!1;this.xk=0};k.prototype.gK=function(){return this.Ta[this.Ta.length-1]};k.prototype.hJ=function(c){var d=
this.Ea(c),f=this.Ta[d];c>f.mc?c=f.vd+1E3*(c-f.mc)/(f.xc*f.step):0<d?(d=this.Ta[d-1],c=d.vd+1E3*(c-d.mc)/(f.xc*f.step)):c=1E3*c/(f.xc*f.step);return c};k.prototype.FI=function(c,d,f,n,m,r,v,x,u,t,B){var b=this.Ra;b.x=c;b.y=d;b.zoom=f;b.angle=n;b.xc=x;b.step=u;b.R=m;b.depth=r;b.Ac=v;b.mc=t;this.N&&(B=this.B.vd);b.vd=B-1E3;this.update(null,B,t);this.B.set(this.current);this.B.af=!1;this.B.vd=B;this.N=!0;return b.vd};k.prototype.$q=function(){return this.Ta[0]};k.prototype.DK=function(){return this.Ta.length};
k.prototype.add=function(c){if(c.ii)this.qc[this.qc.length]=c;else if(this.Ta[this.Ta.length]=c,c.ig||c.Lf||c.ce||c.mh||c.af)this.fr=!0};k.prototype.WC=function(c){var d=!1;this.xk>=this.Ta.length-1&&c>=this.Ta[this.xk].vd&&(d=!0);return d};k.prototype.j=function(c){return c===(c|0)?String(c|0):String(c.toFixed(1))};k.prototype.OK=function(c){var d="";0<=c&&c<this.qc.length&&(c=this.qc[c],c.ig&&(d+=" X "+-c.x),c.Lf&&(d+=" Y "+-c.y),c.ce&&(d+=" ZOOM "+this.j(c.zoom)),c.mh&&(d+=" ANGLE "+c.angle));
return d.substr(1)};k.prototype.xF=function(c){var d="";0<=c&&c<this.qc.length&&(c=this.qc[c],c.io&&(d+=" POIRESET"),c.Ug===a.play?d+=" POIPLAY":c.Ug===a.stop&&(d+=" POISTOP"),c.ik!==a.Np&&(d+=" POITRANS "+c.ik));return d.substr(1)};k.prototype.PK=function(c){var d="";0<=c&&c<this.qc.length&&(c=this.qc[c],c.nm&&(d+=" LOOP "+(-1===c.bb?"OFF":c.bb)),c.Um&&(d+=" STOP "+(-1===c.Wb?"OFF":c.Wb)),c.di&&(d+=" GPS "+c.xc),c.xi&&(d+=" STEP "+c.step));return d.substr(1)};k.prototype.xF=function(c){var d="";
0<=c&&c<this.qc.length&&(c=this.qc[c],c.io&&(d+=" POIRESET"),c.Ug===a.play?d+=" POIPLAY":c.Ug===a.stop&&(d+=" POISTOP"),c.ik!==a.Np&&(d+=" POITRANS "+c.ik));return d.substr(1)};k.prototype.SK=function(c){var d="";0<=c&&c<this.qc.length&&(c=this.qc[c],c.gg&&(d+=" THEME "+c.Ac),c.Yh&&(d+=" DEPTH "+this.j(c.depth)),c.ki&&(d+=" LAYERS "+c.R));return d.substr(1)};k.prototype.RK=function(c){var d="";0<=c&&c<this.qc.length&&(c=this.qc[c],c.Hs&&(d+=" POIT "+c.mc));return d.substr(1)};k.prototype.QK=function(c){var d=
Keywords.od,f="";0<=c&&c<this.qc.length&&(c=this.qc[c],""!==c.Kf&&(f+=" "+d+c.Kf+d));return f.substr(1)};k.prototype.ZM=function(c){var d=Keywords.od,f="";if(0<=c&&c<this.Ta.length){var n=this.Ta[c];0<c?(c=this.Ta[c-1],f=n.mc===c.mc?"P "+this.j((n.vd-c.vd|0)/1E3):"T "+n.mc,n.af?f+=" F":(n.x!==c.x&&(f+=" X "+-n.x),n.y!==c.y&&(f+=" Y "+-n.y),n.zoom!==c.zoom&&(f+=" Z "+this.j(n.zoom))),n.angle!==c.angle&&(f+=" A "+n.angle),n.R!==c.R&&(f+=" L "+n.R),n.depth!==c.depth&&(f+=" D "+this.j(n.depth)),n.Ac!==
c.Ac&&(f+=" C "+n.Ac),n.xc!==c.xc&&(f+=" G "+n.xc),n.step!==c.step&&(f+=" S "+n.step),""!==n.Kf&&(f+=" "+d+n.Kf+d)):f="T "+n.mc+" X "+-n.x+" Y "+-n.y+" Z "+this.j(n.zoom)+" A "+n.angle+" L "+n.R+" D "+this.j(n.depth)+" C "+n.Ac+" G "+n.xc+" S "+n.step}return f};k.prototype.update=function(c,d,f){var n=this.Ta.length,m=!1,r=this.xk,v=r,x=!1;if(this.N)this.current.B(this.Ra,this.B,d),d>=this.B.vd&&(this.N=!1);else{for(;r<n&&!m;){var u=this.Ta[r];u.vd>=d||!u.ps?m=!0:r+=1}m?(this.Ta[r].ps=!0,0<r?(this.Ta[r].af&&
(this.Ta[r].x=this.current.x,this.Ta[r].y=this.current.y,this.Ta[r].zoom=this.current.zoom),this.current.B(this.Ta[r-1],this.Ta[r],d)):(r=0,this.current.set(this.Ta[r]))):(r=n-1,this.current.set(this.Ta[r]),f>=this.current.mc&&this.aa&&(x=!0),this.aa=!0);this.xk=r}this.xk!==v&&this.current.lp&&c&&c.m.JH();return x};k.prototype.Ea=function(c){for(var d=0,f=!1,n=this.Ta,m=this.Ta.length;d<m&&!f;)n[d].mc>=c?f=!0:d+=1;f||(d=m-1);return d};k.prototype.nJ=function(c){this.xk=this.Ea(c)};k.prototype.Dd=
function(c,d,f,n){if(0===this.Ta.length)f[f.length]=[c+" "+Keywords.hc,"no initial waypoint defined"];else switch(c){case Keywords.mf:d.ig&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+-d.x]);d.x=this.Ta[0].x;d.ig=!0;break;case Keywords.nf:d.Lf&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+-d.y]);d.y=this.Ta[0].y;d.Lf=!0;break;case Keywords.Qd:d.ce&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+this.j(1>d.zoom?-(1/d.zoom):d.zoom)]);d.zoom=
this.Ta[0].zoom;d.ce=!0;break;case Keywords.Jl:d.mh&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+d.angle]);d.angle=this.Ta[0].angle;d.mh=!0;break;case Keywords.zn:d.Yh&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+this.j(d.depth)]);d.depth=this.Ta[0].depth;d.Yh=!0;break;case Keywords.Qn:d.ki&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+d.R]);d.R=this.Ta[0].R;d.ki=!0;break;case Keywords.ql:d.gg&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":
"overwrites "+d.Ac]);d.Ac=this.Ta[0].Ac;d.gg=!0;break;case Keywords.In:d.di&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+d.xc]);d.xc=this.Ta[0].xc;d.di=!0;break;case Keywords.so:d.xi&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+d.step]);d.step=this.Ta[0].step;d.xi=!0;break;case Keywords.uj:d.Um&&(f[f.length]=[c+" "+Keywords.hc,n?"already defined":"overwrites "+(-1===d.Wb?"OFF":d.Wb)]);d.Wb=this.Ta[0].Wb;d.Um=!0;break;case Keywords.Zi:d.nm&&(f[f.length]=
[c+" "+Keywords.hc,n?"already defined":"overwrites "+(-1===d.bb?"OFF":d.bb)]);d.bb=this.Ta[0].bb;d.nm=!0;break;default:f[f.length]=[c+" "+Keywords.hc,"illegal command before "+Keywords.hc]}};k.prototype.oI=function(c,d){this.Dd(Keywords.mf,c,d,!1);this.Dd(Keywords.nf,c,d,!1);this.Dd(Keywords.Qd,c,d,!1);this.Dd(Keywords.Jl,c,d,!1);this.Dd(Keywords.Qn,c,d,!1);this.Dd(Keywords.zn,c,d,!1);this.Dd(Keywords.ql,c,d,!1);this.Dd(Keywords.In,c,d,!1);this.Dd(Keywords.so,c,d,!1);this.Dd(Keywords.Zi,c,d,!1);this.Dd(Keywords.uj,
c,d,!1)};k.prototype.YK=function(c){var d,f=this.Ta,n=this.Ta.length;for(d=1;d<n;d+=1){var m=f[d-1];var r=f[d];r.ig||(r.x=m.x);r.Lf||(r.y=m.y);r.ul||(r.Mh=m.Mh);r.vl||(r.Oh=m.Oh);r.bt||(r.Qh=m.Qh);r.mh||(r.angle=m.angle);r.ce||(r.zoom=m.zoom);r.ki||(r.R=m.R);r.Yh||(r.depth=m.depth);r.gg||(r.Ac=m.Ac);r.di||(r.xc=m.xc);r.xi||(r.step=m.step);r.Hs?r.mc<=m.mc&&(c[c.length]=[Keywords.Gs+" "+r.mc,"target generation must be later than previous ("+m.mc+")"]):r.mc=m.mc;r.vd=r.qG?1E3*r.vd+m.vd:m.vd+1E3*(r.mc-
m.mc)/(r.xc*r.step);r.Yv||(r.Qm=m.Qm);r.Tk||(r.cd=m.cd)}};window.Waypoint=w;window.WaypointManager=k;window.WaypointConstants=a}(),function(){function w(g,h){var q=this,k=g.getElementsByTagName("div")[0];this.mw=!1;this.qh=-1;this.lf=1;this.ZG=g;this.view=h;this.m=h.m;this.top=this.left=0;""!==g.style.left&&(this.left=parseInt(g.style.left,10));""!==g.style.top&&(this.top=parseInt(g.style.top,10));this.Hc=this.An=!1;this.cl=this.bl=-1;this.SA=0;registerEvent(k,"mousedown",function(a){q.B(q,a)},!1);
registerEvent(document,"mousemove",function(a){q.N(q,a)},!1);registerEvent(document,"mouseup",function(a){q.aa(q,a)},!1);registerEvent(k,"touchstart",function(a){q.j(q,a)},!1);registerEvent(k,"touchmove",function(a){q.j(q,a)},!1);registerEvent(k,"touchend",function(a){q.j(q,a)},!1);registerEvent(window,"resize",function(){q.UF(q)},!1)}w.prototype.Xo=function(g,h){for(var q=null,k=0;null===q&&k<g.length;)g[k].identifier===h?q=g[k]:k+=1;return q};w.prototype.reset=function(){this.Hc=!1;this.qh=-1};
w.prototype.j=function(g,h){var q=h.changedTouches;this.mw=!0;switch(h.type){case "touchstart":-1===g.qh&&(q=q[0],g.qh=q.identifier,g.es(g,q.pageX,q.pageY));break;case "touchend":q=g.Xo(q,g.qh);null!==q&&(g.gs(g,q.pageX,q.pageY),g.qh=-1);break;case "touchmove":q=g.Xo(q,g.qh),null!==q&&g.fs(g,q.pageX,q.pageY)}h.stopPropagation&&h.stopPropagation();h.cancelable&&h.preventDefault()};w.prototype.UF=function(g){var h=this.view;h.F=h.Ur;h.D=h.Tr;h.bG();h.Vq.style.transform="scale("+h.lf+","+h.lf+")";h.Vq.style.transformOrigin=
"top left";h.kv&&(this.m.Gg(!0),h.resize());g.gG(g.left+g.SA,g.top,g.ZG);g.SA=0};w.prototype.IM=function(g,h){this.gG(this.left+g,this.top+h,this.ZG)};w.prototype.gG=function(g,h,q){var k=window.innerWidth-q.clientWidth*this.lf,a=window.innerHeight-q.clientHeight*this.lf;k-=(window.innerWidth-document.body.clientWidth)*this.lf;g>k&&(g=k);h>a&&(h=a);0>g&&(g=0);0>h&&(h=0);q.style.left=g+"px";q.style.top=h+"px";q.style.position="fixed";this.left=g;this.top=h};w.prototype.es=function(g,h,q){g.pq(g,h,
q);g.Hc=!0;g.m.Zn=!0};w.prototype.gs=function(g,h,q){g.pq(g,h,q);g.Hc=!1;g.m.Zn=!1};w.prototype.fs=function(g,h,q){g.Hc&&g.IM(h-g.bl,q-g.cl);g.bl=h;g.cl=q};w.prototype.B=function(g,h){if(!g.mw){if(h.pageX||h.pageY){var q=h.pageX;var k=h.pageY}else q=h.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=h.clientY+document.body.scrollTop+document.documentElement.scrollTop;g.es(g,q,k)}h.stopPropagation&&h.stopPropagation();h.preventDefault()};w.prototype.aa=function(g,h){if(!g.mw&&
g.An&&g.Hc){if(h.pageX||h.pageY){var q=h.pageX;var k=h.pageY}else q=h.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=h.clientY+document.body.scrollTop+document.documentElement.scrollTop;g.gs(g,q,k)}h.stopPropagation&&h.stopPropagation();h.preventDefault()};w.prototype.N=function(g,h){if(!g.mw&&g.An&&g.Hc){if(h.pageX||h.pageY){var q=h.pageX;h=h.pageY}else q=h.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,h=h.clientY+document.body.scrollTop+document.documentElement.scrollTop;
g.fs(g,q,h)}};w.prototype.pq=function(g,h,q){g.bl=h|0;g.cl=q|0};window.PopupWindow=w}(),function(){function w(){this.key=new Uint8Array(256);this.B=this.j=0}w.prototype.cf=function(g){var h,q,k=this.key;for(h=0;256>h;h+=1)k[h]=h;for(h=q=0;256>h;h+=1){q=q+k[h]+g.charCodeAt(h%g.length)&255;var a=k[h];k[h]=k[q];k[q]=a}this.B=this.j=0};w.prototype.random=function(){var g,h=0,q=1,k=this.key,a=this.j,c=this.B;for(g=0;8>g;g+=1){a=a+1&255;c=c+k[a]&255;var d=k[a];k[a]=k[c];k[c]=d;h+=k[k[a]+k[c]&255]*q;q*=
256}this.j=a;this.B=c;return h/1.8446744073709552E19};window.Random=w}(),function(){function w(g,h){this.Yu=g;this.x=h.K(Float32,0,"Stars.x");this.y=h.K(Float32,0,"Stars.y");this.z=h.K(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.Ob=new Random;this.Ob.cf(Date.now().toString());this.sin=h.K(Float32,0,"Stars.sin");this.cos=h.K(Float32,0,"Stars.cos");this.j=Math.PI/180;this.N=180/Math.PI;this.l=h;this.B=!1}w.prototype.cf=function(g,h,q){var k,a=this.Yu,c=g*g+h*h;this.x=this.l.K(Float32,
a,"Stars.x");this.y=this.l.K(Float32,a,"Stars.y");this.z=this.l.K(Float32,a,"Stars.z");for(k=0;k<a;k+=1){var d=k/a*(k/a)*(k/a)*(k/a)*q+1;do{var f=3*(this.Ob.random()*g-g/2);var n=3*(this.Ob.random()*h-h/2)}while(f*f+n*n>c);this.x[k]=f;this.y[k]=n;this.z[k]=d}this.sin=this.l.K(Float32,2880,"Stars.sin");this.cos=this.l.K(Float32,2880,"Stars.cos");for(k=0;2880>k;)this.sin[k]=Math.sin(k/8*this.j),this.cos[k]=Math.cos(k/8*this.j),k+=1};w.prototype.yI=function(g,h,q,k,a,c,d,f){var n;this.B||(this.cf(8192,
8192,1024),this.B=!0);if(littleEndian){var m=f>>16&255;var r=f>>8&255;var v=f&255}else v=f>>24&255,r=f>>16&255,m=f>>8&255;for(n=0;n<this.Yu;n+=1){var x=this.x[n]+g;var u=this.y[n]+h;if(0!==k){var t=Math.sqrt(x*x+u*u);u=Math.atan2(u,x)*this.N;u+=k;0>u?u+=360:360<=u&&(u-=360);u*=8;u|=0;x=t*this.cos[u];u=t*this.sin[u]}t=this.z[n]/q*2;x=a/2+x/t|0;u=c/2+u/t|0;if(0<x&&x<a-1&&0<u&&u<c-1){x+=u*a;t=1536/t|0;255<t&&(t=255);t/=255;if(d[x]===f){u=v+(this.red-v)*t;var B=r+(this.green-r)*t;var b=m+(this.blue-m)*
t;u=littleEndian?-16777216|b<<16|B<<8|u:u<<24|b<<16|B<<8|255;d[x]=u}t/=2;u=v+(this.red-v)*t;B=r+(this.green-r)*t;b=m+(this.blue-m)*t;u=littleEndian?-16777216|b<<16|B<<8|u:u<<24|b<<16|B<<8|255;--x;d[x]===f&&(d[x]=u);x+=2;d[x]===f&&(d[x]=u);--x;x-=a;d[x]===f&&(d[x]=u);x+=a+a;d[x]===f&&(d[x]=u)}}};window.Stars=w}(),function(){window.ScriptParser={KC:"",Cw:0,On:function(w){switch(w){case Keywords.vy:case Keywords.Uy:case Keywords.Mz:case Keywords.TA:case Keywords.AB:case Keywords.uy:case Keywords.kB:case Keywords.mB:case Keywords.wy:case Keywords.lB:case Keywords.Lz:case Keywords.wh:case Keywords.Ki:case Keywords.Iy:case Keywords.oB:case Keywords.Bx:case Keywords.LA:case Keywords.IA:case Keywords.KA:case Keywords.FA:case Keywords.EA:case Keywords.GA:case Keywords.JA:case Keywords.rv:case Keywords.qv:case Keywords.yv:case Keywords.jy:case Keywords.hv:case Keywords.kq:case Keywords.wA:case Keywords.jv:case Keywords.uA:case Keywords.xA:case Keywords.yA:case Keywords.vA:case Keywords.zA:case Keywords.CF:case Keywords.wq:case Keywords.qx:case Keywords.sx:case Keywords.tx:case Keywords.rx:case Keywords.ux:case Keywords.vx:case Keywords.Dr:case Keywords.dz:case Keywords.fz:case Keywords.gz:case Keywords.ez:case Keywords.hz:case Keywords.iz:case Keywords.Hz:case Keywords.Jz:case Keywords.Iz:case Keywords.Ny:case Keywords.Ts:case Keywords.Gy:case Keywords.js:case Keywords.Pp:case Keywords.Op:case Keywords.gv:case Keywords.ks:case Keywords.hc:case Keywords.lg:case Keywords.Rb:case Keywords.sB:case Keywords.Co:case Keywords.Ss:case Keywords.hu:case Keywords.Xu:case Keywords.Dy:case Keywords.Ey:case Keywords.Es:case Keywords.uz:case Keywords.ot:case Keywords.Oy:case Keywords.uu:case Keywords.Gs:case Keywords.so:case Keywords.pA:case Keywords.dr:case Keywords.cr:case Keywords.JF:case Keywords.wB:case Keywords.Ga:case Keywords.Mx:case Keywords.mf:case Keywords.nf:case Keywords.tw:case Keywords.vw:case Keywords.Qd:case Keywords.ox:case Keywords.dE:case Keywords.Zi:case Keywords.at:case Keywords.Gz:case Keywords.Fz:case Keywords.NB:case Keywords.IB:case Keywords.GB:case Keywords.KB:case Keywords.MB:case Keywords.qt:case Keywords.lo:case Keywords.$p:case Keywords.Jl:case Keywords.ql:case Keywords.In:case Keywords.uj:case Keywords.Qn:case Keywords.zn:case Keywords.rq:case Keywords.cp:case Keywords.ms:case Keywords.ls:case Keywords.cz:case Keywords.Up:case Keywords.jo:case Keywords.Jp:case Keywords.Xq:case Keywords.Zr:case Keywords.Rz:case Keywords.gA:case Keywords.mA:case Keywords.Zz:case Keywords.Uz:case Keywords.iA:case Keywords.Vz:case Keywords.lA:case Keywords.kA:case Keywords.fA:case Keywords.bA:case Keywords.hA:case Keywords.dA:case Keywords.Wz:case Keywords.cA:case Keywords.Xz:case Keywords.aA:case Keywords.eA:case Keywords.$z:w=
!0;break;default:w=!1}return w},Un:function(w,g,h,q,k){var a=w.Ca();""===a||this.On(a)?g[g.length]=[h,q+" missing"]:(g[g.length]=[h+" "+a,q+" must be "+k],w.S())},bc:function(w,g,h,q,k){var a=!0,c=0,d=0,f=0,n=g.S();if(g.H()){c=g.I()|0;if(0>c||255<c)h[h.length]=[k+" "+n+" "+c,"RED out of range"];if(g.H()){d=g.I();if(0>d||255<d)h[h.length]=[k+" "+n+" "+c+" "+d,"GREEN out of range"];g.H()?(f=g.I(),0>f||255<f?h[h.length]=[k+" "+n+" "+c+" "+d+" "+f,"BLUE out of range"]:a=!1):this.Un(g,h,k+" "+n+" "+c+
" "+d,"BLUE","numeric")}else this.Un(g,h,k+" "+n+" "+c,"GREEN","numeric")}else{var m=g.Ca();var r=ColourManager.Ee[m.toLowerCase()];void 0!==r?(g.S(),c=r[1],d=r[2],f=r[3],a=!1):""===m||this.On(m)?h[h.length]=[k+" "+n,"name missing"]:(h[h.length]=[k+" "+n+" "+m,"name not known"],g.S())}if(!a)switch(-1!==w.ma[q]&&q!==ViewConstants.Lq&&q!==ViewConstants.Hq&&q!==ViewConstants.Mq&&(h[h.length]=[k+" "+n+" "+c+" "+d+" "+f,"overwrites "+(w.ma[q]>>16)+" "+(w.ma[q]>>8&255)+" "+(w.ma[q]&255)]),w.ma[q]=c<<16|
d<<8|f,q){case ViewConstants.Jq:w.xD=w.ma[q];w.sh=!0;break;case ViewConstants.Kq:w.yD=w.ma[q];w.sh=!0;break;case ViewConstants.Rt:w.ol.red=c;w.ol.green=d;w.ol.blue=f;break;case ViewConstants.St:w.rh=[c,d,f];break;case ViewConstants.Lt:w.Lk=[c,d,f];w.Si="rgb("+c+","+d+","+f+")";break;case ViewConstants.Lq:w.Vx="rgb("+c+","+d+","+f+")";break;case ViewConstants.Hq:w.Ux="rgb("+c+","+d+","+f+")";break;case ViewConstants.Mq:w.Wx="rgb("+c+","+d+","+f+")";break;case ViewConstants.Jt:w.Ul=[c,d,f];w.a.Ml=w.a.Zd?
-16777216|f<<16|d<<8|c:c<<24|d<<16|f<<8|255;break;case ViewConstants.Yx:w.Vl=[c,d,f];w.a.Nl=w.a.Zd?-16777216|f<<16|d<<8|c:c<<24|d<<16|f<<8|255;break;case ViewConstants.ay:w.Xl=[c,d,f];w.a.fB="rgb("+c+","+d+","+f+")";break;case ViewConstants.$x:w.Wl=[c,d,f];w.a.Qz="rgb("+c+","+d+","+f+")";break;case ViewConstants.Xx:w.Tl=[c,d,f];w.a.ht="rgb("+c+","+d+","+f+")";break;case ViewConstants.Ot:w.a.Vi=[c,d,f];break;case ViewConstants.Nt:w.a.Ui=[c,d,f];break;case ViewConstants.Mt:w.a.Ti=[c,d,f];break;case ViewConstants.Pt:w.a.Wi=
[c,d,f];break;case ViewConstants.Qt:w.a.Xi=[c,d,f];break;case ViewConstants.Pq:case ViewConstants.Nq:case ViewConstants.Qq:case ViewConstants.Sq:case ViewConstants.Rq:case ViewConstants.Oq:break;default:w.sh=!0}},nM:function(w){var g=w.a.jb[w.a.Je],h=w.ma;g.Jn=w.a.Bf;-1===h[ViewConstants.Pi]&&(w=h[ViewConstants.Xh],-1!==w?h[ViewConstants.Pi]=16777215-w:(w=h[ViewConstants.Og],h[ViewConstants.Pi]=-1!==w?16777215-w:16777215));-1===h[ViewConstants.Og]&&-1===h[ViewConstants.Xh]&&(h[ViewConstants.Og]=16777215-
h[ViewConstants.Pi]);w=h[ViewConstants.Og];-1===w&&(w=h[ViewConstants.Xh]);g.ab.red=w>>16;g.ab.green=w>>8&255;g.ab.blue=w&255;w=h[ViewConstants.Pi];g.qb.V.red=w>>16;g.qb.V.green=w>>8&255;g.qb.V.blue=w&255;w=h[ViewConstants.It];-1===w&&(w=h[ViewConstants.Pi]);g.qb.W.red=w>>16;g.qb.W.green=w>>8&255;g.qb.W.blue=w&255;w=h[ViewConstants.Xh];-1===w&&(w=h[ViewConstants.Og]);g.gb.W.red=w>>16;g.gb.W.green=w>>8&255;g.gb.W.blue=w&255;w=h[ViewConstants.Iq];-1===w&&(w=h[ViewConstants.Xh],-1===w&&(w=h[ViewConstants.Og]));
g.gb.V.red=w>>16;g.gb.V.green=w>>8&255;g.gb.V.blue=w&255;w=h[ViewConstants.Og];-1===w&&(w=h[ViewConstants.Xh]);g.Ci.red=w>>16;g.Ci.green=w>>8&255;g.Ci.blue=w&255;w=h[ViewConstants.Pi];g.kg.red=w>>16;g.kg.green=w>>8&255;g.kg.blue=w&255;w=h[ViewConstants.Xh];-1===w&&(w=h[ViewConstants.Og]);g.Dc.W.red=w>>16;g.Dc.W.green=w>>8&255;g.Dc.W.blue=w&255;w=h[ViewConstants.Iq];-1===w&&(w=h[ViewConstants.Xh],-1===w&&(w=h[ViewConstants.Og]));g.Dc.V.red=w>>16;g.Dc.V.green=w>>8&255;g.Dc.V.blue=w&255;w=h[ViewConstants.Kt];
-1===w?g.am=!0:(g.am=!1,g.Ub.W.red=w>>16,g.Ub.W.green=w>>8&255,g.Ub.W.blue=w&255);w=h[ViewConstants.Zx];-1===w&&(w=h[ViewConstants.Kt],-1===w&&(w=h[ViewConstants.Og]));g.Ub.V.red=w>>16;g.Ub.V.green=w>>8&255;g.Ub.V.blue=w&255;g.$L(h[ViewConstants.Jq],h[ViewConstants.Kq])},Uv:function(w,g){var h=w;w.length>g&&(h=w.substr(0,g-1)+"...");return h},FG:function(w,g,h,q){var k=w.indexOf("\\n");-1!==k&&(h?g[g.length]=[Keywords.kq+" "+Keywords.od+this.Uv(w,23)+Keywords.od,"only one line allowed"]:(k=w.substr(k+
2).indexOf("\\n"),-1===k||q||(g[g.length]=[Keywords.od+this.Uv(w,23),"only two lines allowed"])))},DA:function(w,g,h,q){var k=Keywords.ql+" ",a="overwrites ";k=h>=w.a.Je?k+Keywords.jq:k+h;a=q>=w.a.Je?a+Keywords.jq:a+q;g[g.length]=[k,a]},Po:function(w,g,h,q,k,a,c){var d=0,f=0,n=0;if(g.H())if(d=g.I()|0,0>d||255<d)h[h.length]=[k+" "+c+" "+d,"RED out of range"],a=!0;else if(g.H())if(f=g.I()|0,0>f||255<f)h[h.length]=[k+" "+c+" "+d+" "+f,"GREEN out of range"],a=!0;else if(g.H()){if(n=g.I()|0,0>n||255<n)h[h.length]=
[k+" "+c+" "+d+" "+f+" "+n,"BLUE out of range"],a=!0}else this.Un(g,h,k+" "+c+" "+d+" "+f,"BLUE","numeric"),a=!0;else this.Un(g,h,k+" "+c+" "+d,"GREEN","numeric"),a=!0;else{var m=g.Ca();var r=ColourManager.Ee[m.toLowerCase()];void 0!==r?(g.S(),d=r[1],f=r[2],n=r[3]):(a=!0,""===m||this.On(m)?h[h.length]=[k+" "+c,"name missing"]:(h[h.length]=[k+" "+c+" "+m,"name not known"],g.S()))}a||(-1!==w.kc[q]&&(h[h.length]=[k+" "+c+" "+d+" "+f+" "+n,"overwrites "+(w.kc[q]>>16)+" "+(w.kc[q]>>8&255)+" "+(w.kc[q]&
255)]),w.kc[q]=d<<16|f<<8|n)},zk:function(w,g){var h=Keywords.hg+String(g);w=w.m.AJ(g);-1!==w&&(h=w.toFixed(1));return h},iq:function(w,g){var h="",q=g.indexOf(Keywords.hg);if(-1===q)h=g;else{for(;-1!==q;)if(h+=g.substr(0,q),q+1<g.length){var k=g[q+1];g=g.substr(q+2);switch(k){case "B":h+=ViewConstants.ow;break;case "N":h+=w.Kp;break;case "R":h+=w.ub;break;case "A":h=""===w.hd?h+w.ub:h+w.hd;break;case "O":h+=w.bs;break;case "T":h+=ViewConstants.lJ;break;case "0":h+=this.zk(w,0);break;case "1":h+=
this.zk(w,1);break;case "2":h+=this.zk(w,2);break;case "3":h+=this.zk(w,3);break;case "4":h+=this.zk(w,4);break;case "5":h+=this.zk(w,5);break;case "6":h+=this.zk(w,6);break;case "7":h+=this.zk(w,7);break;case "8":h+=this.zk(w,8);break;case "9":h+=this.zk(w,9);break;case Keywords.hg:h+=Keywords.hg;break;default:h+=Keywords.hg+k}q=g.indexOf(Keywords.hg)}else g=g.substr(q+1),q=-1;h+=g}return h},mi:function(w,g,h,q){q[q.length]=w?g===Keywords.wh?[g+" "+h,"already defined"]:[g+" "+h,"overwrites "+Keywords.wh]:
g===Keywords.wh?[g+" "+h,"overwrites "+Keywords.Ki]:[g+" "+h,"already defined"]},Ai:function(w,g){var h="";w===(w|0)?h=String(w):h=w.toFixed(g);return h},SM:function(w){var g=w.substr(0,1);w=w.substr(1);var h=!1;if("B"===g||"S"===g){this.KC=g;g=0;for(h=!0;h&&g<w.length;)"0"<=w[g]&&"9">=w[g]?g+=1:h=!1;h&&(this.Cw=Number(w))}return h},SL:function(w,g){if("B"===this.KC){var h=w.Fh.length;w.Fh[h]=this.Cw;w.Fh[h+1]=g}else h=w.hj.length,w.hj[h]=this.Cw,w.hj[h+1]=g},HK:function(w,g,h){var q=new Script(g,
!1),k=!1,a=!1,c="",d="",f="",n="",m=!1,r="",v=0,x=!1,u=!1,t=w.jd,B=null,b=0,l=0,e="",p=w.T.Bt(),y=null,z=!1,A=!1,C=null,D=1,G=ViewConstants.UC,H=-1,I=-1,E=0,F=0,P=!1,K=!1,Q=0,J=0,W=-1,Z=0,T=0,M=null,fa=1,X=ViewConstants.UC,ia=ViewConstants.UH,ma=-1,ba=-1,V=0,da=0,ca=!1,na=!1,la=0,U=0,R=-1,aa=0,ha=0,ea=null,Y=1,L=ViewConstants.eK,N=-1,ka=-1,S=0,O=0,ja=!1,oa=!1,qa=0,ra=0,ta=-1,pa=0,sa=0,xa=!1,Ca=!1,za="numeric",wa=-1,Da=-1,Ea=-1,Ba=-1,ya=-1,Ja=-1,Ka=0,Na=0,Ga=0,La=0,ua=0,Aa=0,va=0,Ha=0,Ra=0,jb=0,Ma=
[],Ia=0,kb=new Pattern("decode",w.v),Xa=!1,Ya=!1,Za=!1,$a=!1,ab=!1,bb=!1,Sa=!1,cb=!1,db=!1,Ta=!1,Ua=!1,eb=!1,fb=!1,gb=!1,hb=!1;w.T.fr=!1;w.Wn=0;w.Oz=0;w.Ht=!1;w.sh=!1;w.ma[ViewConstants.Og]=-1;w.ma[ViewConstants.Pi]=-1;w.ma[ViewConstants.It]=-1;w.ma[ViewConstants.Xh]=-1;w.ma[ViewConstants.Iq]=-1;w.ma[ViewConstants.Jq]=-1;w.ma[ViewConstants.Kq]=-1;w.ma[ViewConstants.Rt]=-1;w.ma[ViewConstants.St]=-1;w.ma[ViewConstants.Jt]=-1;w.ma[ViewConstants.Ot]=-1;w.ma[ViewConstants.Nt]=-1;w.ma[ViewConstants.Mt]=
-1;w.ma[ViewConstants.Pt]=-1;w.ma[ViewConstants.Qt]=-1;w.ma[ViewConstants.Lt]=-1;w.ma[ViewConstants.Lq]=-1;w.ma[ViewConstants.Pq]=-1;w.ma[ViewConstants.Nq]=-1;w.ma[ViewConstants.Qq]=-1;w.ma[ViewConstants.Sq]=-1;w.ma[ViewConstants.Rq]=-1;w.ma[ViewConstants.Oq]=-1;w.ma[ViewConstants.Hq]=-1;w.ma[ViewConstants.Mq]=-1;w.kc=null;if(-1!==q.GD()){w.kc=w.a.l.K(Int32,256,"View.customColours");w.kc.fill(-1);for(c=q.S();""!==c;){za="numeric";if(m)c[c.length-1]===Keywords.od?(r=r+" "+c.substr(0,c.length-1),m=
!1,this.FG(r,t,a,xa),a?(""!==w.Fi&&(t[t.length]=[Keywords.kq+" "+Keywords.od+this.Uv(r,20)+Keywords.od,"overwrites "+Keywords.od+w.Fi+Keywords.od]),w.Fi=r,a=!1):xa?(ea.message=this.iq(w,r),xa=!1,w.T.LC(ea)):(p.Kf=this.iq(w,r),p.BB=!0)):r=r+" "+c;else if(c[0]===Keywords.od)r=c.substr(1),m=!0,c[c.length-1]===Keywords.od&&(m=!1,r=r.substr(0,r.length-1),this.FG(r,t,a,xa),a?(""!==w.Fi&&(t[t.length]=[Keywords.kq+" "+Keywords.od+this.Uv(r,20)+Keywords.od,"overwrites "+Keywords.od+w.Fi+Keywords.od]),w.Fi=
r,a=!1):xa?(ea.message=this.iq(w,r),xa=!1,w.T.LC(ea)):(p.Kf=this.iq(w,r),p.BB=!0));else{x=u=!1;w.Wn+=1;switch(c){case Keywords.kq:x=a=!0;break;case Keywords.xA:q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Su&&v<=ViewConstants.Mu&&(G=v,x=!0));break;case Keywords.CF:q.H()?(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(ua=v,u=!1,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(Z=ua,T=v,x=!0)))):(d=q.Ca(),d===Keywords.me&&(d=q.S(),T=Z=0,x=!0));break;case Keywords.zA:q.H()?(u=!0,v=q.I(),
v>=-w.a.ga/2&&v<=w.a.ga/2&&(u=!1,ua=v,q.H()&&(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(u=!1,Aa=v,q.H()&&(u=!0,v=q.I(),0<=v&&v<=w.a.ga/2&&(Q=ua,J=Aa,W=v,x=!0)))))):(d=q.Ca(),d===Keywords.Rb&&(d=q.S(),J=Q=0,W=-1,x=!0));break;case Keywords.vA:q.H()&&(u=!0,v=q.I(),0<=v&&360>v&&(F=v,P=!1,d=q.Ca(),d===Keywords.me&&(d=q.S(),P=!0),x=!0));break;case Keywords.yA:q.H()?(u=!0,v=q.I()|0,0<=v&&(ua=v,q.H()?(v=q.I()|0,v>=ua?(Aa=v,q.H()?(v=q.I()|0,0<=v&&v<=Aa-ua>>1?(H=ua,I=Aa,E=v,x=!0):(x=!0,t[t.length]=[c+" "+ua+
" "+Aa+" "+v,"third argument must from 0 to "+(Aa-ua>>1)])):u=!1):(x=!0,t[t.length]=[c+" "+ua+" "+v,"second argument must be >= first"])):u=!1)):(d=q.Ca(),d===Keywords.lg?(d=q.S(),I=H=-1,E=0,x=!0):u=!1);break;case Keywords.uA:q.H()&&(u=!0,v=q.I(),0<=v&&1>=v&&(D=v,x=!0));break;case Keywords.wA:case Keywords.jv:Ma=[];x=!0;va=-1E3;for(Ha=-2E3;x&&q.H();)ua=q.I(),q.H()?(Aa=q.I(),ua>=-w.a.ga&&ua<2*w.a.ga&&Aa>=-w.a.ga&&Aa<2*w.a.ga?(Ma[Ma.length]=ua,Ma[Ma.length]=Aa):(t[t.length]=[c+" "+ua+" "+Aa,"coordinate out of range"],
va=0,x=!1)):ua>=ViewConstants.ya&&ua<=ViewConstants.Ua?va=ua:ua>=ViewConstants.al&&ua<=ViewConstants.Yk?va=-(1/ua):(t[t.length]=[c+" "+ua,"zoom out of range"],va=0,x=!1);-1E3===va&&(4<Ma.length?(ua=Ma[Ma.length-2],ua>=ViewConstants.ya&&ua<=ViewConstants.Ua?va=ua:ua>=ViewConstants.al&&ua<=ViewConstants.Yk?va=-(1/ua):(t[t.length]=[c+" "+ua,"zoom out of range"],va=0,x=!1),x&&(ua=Ma[Ma.length-1],ua>=ViewConstants.ya&&ua<=ViewConstants.Ua?Ha=ua:ua>=ViewConstants.al&&ua<=ViewConstants.Yk?Ha=-(1/ua):(t[t.length]=
[c+" "+ua,"zoom out of range"],Ha=0,x=!1)),x&&(Ma=Ma.slice(0,Ma.length-2))):(t[t.length]=[c,"missing zoom value"],x=!1));x&&4>Ma.length&&(t[t.length]=[c,"requires at least 2 coordinate pairs"],x=!1);x?(d=q.Ca(),K=!1,d===Keywords.me&&(d=q.S(),K=!0,d=q.Ca()),C=w.T.EI(Ma,c===Keywords.jv,va,Ha,w.Wx,D,G,H,I,E,F,P,K,Q,J,W,Z,T),w.T.EH(C)):x=!0;break;case Keywords.sx:q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Su&&v<=ViewConstants.Mu&&(ua=v,u=!1,q.H()&&(u=!0,v=q.I(),0<=v&&1>=v&&(ia=v,X=ua,x=!0))));break;case Keywords.vx:q.H()?
(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(ua=v,u=!1,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(aa=ua,ha=v,x=!0)))):(d=q.Ca(),d===Keywords.me&&(d=q.S(),ha=aa=0,x=!0));break;case Keywords.ux:q.H()?(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(u=!1,ua=v,q.H()&&(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(u=!1,Aa=v,q.H()&&(u=!0,v=q.I(),0<=v&&v<=w.a.ga/2&&(la=ua,U=Aa,R=v,x=!0)))))):(d=q.Ca(),d===Keywords.Rb&&(d=q.S(),U=la=0,R=-1,x=!0));break;case Keywords.rx:q.H()&&(u=!0,v=
q.I(),0<=v&&360>v&&(da=v,ca=!1,d=q.Ca(),d===Keywords.me&&(d=q.S(),ca=!0),x=!0));break;case Keywords.tx:q.H()?(u=!0,v=q.I()|0,0<=v&&(ua=v,q.H()?(v=q.I()|0,v>=ua?(Aa=v,q.H()?(v=q.I()|0,0<=v&&v<=Aa-ua>>1?(ma=ua,ba=Aa,V=v,x=!0):(x=!0,t[t.length]=[c+" "+ua+" "+Aa+" "+v,"third argument must from 0 to "+(Aa-ua>>1)])):u=!1):(x=!0,t[t.length]=[c+" "+ua+" "+v,"second argument must be >= first"])):u=!1)):(d=q.Ca(),d===Keywords.lg?(d=q.S(),ba=ma=-1,V=0,x=!0):u=!1);break;case Keywords.qx:q.H()&&(u=!0,v=q.I(),
0<=v&&1>=v&&(fa=v,x=!0));break;case Keywords.wq:q.H()&&(u=!0,v=q.I(),v>=-w.a.ga&&v<2*w.a.ga&&(u=!1,ua=v,q.H()&&(u=!0,v=q.I(),v>=-w.a.ga&&v<2*w.a.ga&&(u=!1,Aa=v,q.H()&&(u=!0,v=q.I(),v>=-w.a.ga&&v<2*w.a.ga&&(u=!1,Ra=v,q.H()&&(u=!0,v=q.I(),v>=-w.a.ga&&v<2*w.a.ga&&(u=!1,jb=v,q.H()&&(u=!0,v=q.I(),va=-1E3,v>=ViewConstants.ya&&v<=ViewConstants.Ua?va=v:v>=ViewConstants.al&&v<=ViewConstants.Yk&&(va=-(1/v)),-1E3!==va&&(Ha=-2E3,q.H()&&(u=!0,v=q.I(),Ha=-1E3,v>=ViewConstants.ya&&v<=ViewConstants.Ua?Ha=v:v>=ViewConstants.al&&
v<=ViewConstants.Yk&&(Ha=-(1/v))),d=q.Ca(),na=!1,d===Keywords.me&&(d=q.S(),na=!0,d=q.Ca()),M=w.T.zI(ua,Aa,Ra,jb,va,Ha,w.Ux,fa,X,ia,ma,ba,V,da,ca,na,la,U,R,aa,ha),w.T.BH(M),x=!0))))))))));break;case Keywords.fz:q.H()&&(u=!0,v=q.I(),v>=ViewConstants.GE&&v<=ViewConstants.yE&&(L=v,x=!0));break;case Keywords.iz:q.H()?(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(ua=v,u=!1,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(pa=ua,sa=v,x=!0)))):(d=q.Ca(),d===Keywords.me&&(d=q.S(),
sa=pa=0,x=!0));break;case Keywords.hz:q.H()?(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(u=!1,ua=v,q.H()&&(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(u=!1,Aa=v,q.H()&&(u=!0,v=q.I(),0<=v&&v<=w.a.ga/2&&(qa=ua,ra=Aa,ta=v,x=!0)))))):(d=q.Ca(),d===Keywords.Rb&&(d=q.S(),ra=qa=0,ta=-1,x=!0));break;case Keywords.ez:q.H()&&(u=!0,v=q.I(),0<=v&&360>v&&(O=v,ja=!1,d=q.Ca(),d===Keywords.me&&(d=q.S(),ja=!0),x=!0));break;case Keywords.gz:q.H()?(u=!0,v=q.I()|0,0<=v&&(ua=v,q.H()?(v=q.I()|0,v>=ua?(Aa=v,q.H()?(v=q.I()|0,
0<=v&&v<=Aa-ua>>1?(N=ua,ka=Aa,S=v,x=!0):(x=!0,t[t.length]=[c+" "+ua+" "+Aa+" "+v,"third argument must from 0 to "+(Aa-ua>>1)])):u=!1):(x=!0,t[t.length]=[c+" "+ua+" "+v,"second argument must be >= first"])):u=!1)):(d=q.Ca(),d===Keywords.lg?(d=q.S(),ka=N=-1,S=0,x=!0):u=!1);break;case Keywords.dz:q.H()&&(u=!0,v=q.I(),0<=v&&1>=v&&(Y=v,x=!0));break;case Keywords.Dr:q.H()&&(u=!0,v=q.I(),v>=-w.a.ga&&v<2*w.a.ga&&(u=!1,ua=v,q.H()&&(u=!0,v=q.I(),v>=-w.a.ga&&v<2*w.a.ga&&(u=!1,Aa=v,q.H()&&(u=!0,v=q.I(),va=-1E3,
v>=ViewConstants.ya&&v<=ViewConstants.Ua?va=v:v>=ViewConstants.al&&v<=ViewConstants.Yk&&(va=-(1/v)),-1E3!==va&&(Ha=-2E3,q.H()&&(u=!0,v=q.I(),Ha=-1E3,v>=ViewConstants.ya&&v<=ViewConstants.Ua?Ha=v:v>=ViewConstants.al&&v<=ViewConstants.Yk&&(Ha=-(1/v))),-1E3!==Ha&&(d=q.Ca(),oa=!1,d===Keywords.me&&(d=q.S(),oa=!0,d=q.Ca()),d[0]===Keywords.od?(ea=w.T.CI(ua,Aa,va,Ha,w.Vx,Y,L,N,ka,S,O,ja,oa,qa,ra,ta,pa,sa),x=xa=!0):u=!1)))))));break;case Keywords.JF:x=w.a.Yg=!0;break;case Keywords.cz:x=w.a.Mi=!0;break;case Keywords.Up:x=
!1;d=q.S();if(""!==d){for(w.Tp=[];q.H();)v=q.I(),w.Tp[w.Tp.length]=v;w.DH(t,d,w.Tp);w.Tp=[];x=!0}break;case Keywords.jo:x=!1;d=q.S();if(""!==d&&(f=q.Ca(),""!==f)){q.S();for(n=q.Ca();""!==n&&!this.On(n)&&!q.H()&&-1!==w.v.Qo(kb,n,!1,w.a.l);)q.S(),f+=n,n=q.Ca();Aa=ua=0;q.H()&&(u=!0,ua=q.I());q.H()&&(u=!0,Aa=q.I());va=-1;n=q.Ca();if(""!==n){switch(n){case Keywords.bC:va=ViewConstants.Us;break;case Keywords.ZB:va=ViewConstants.SB;break;case Keywords.$B:va=ViewConstants.TB;break;case Keywords.aC:va=ViewConstants.UB;
break;case Keywords.eC:va=ViewConstants.XB;break;case Keywords.fC:va=ViewConstants.YB;break;case Keywords.dC:va=ViewConstants.WB;break;case Keywords.cC:va=ViewConstants.VB}-1!==va&&q.S()}-1===va&&(va=ViewConstants.Us);w.CH(t,d,f,ua,Aa,va);x=!0}break;case Keywords.Jp:f=q.Ca();if(""!==f){q.S();for(n=q.Ca();""!==n&&!this.On(n)&&!q.H()&&-1!==w.v.Qo(kb,n,!1,w.a.l);)q.S(),f+=n,n=q.Ca();Aa=ua=0;q.H()&&(u=!0,ua=q.I());q.H()&&(u=!0,Aa=q.I());va=-1;n=q.Ca();if(""!==n){switch(n){case Keywords.bC:va=ViewConstants.Us;
break;case Keywords.ZB:va=ViewConstants.SB;break;case Keywords.$B:va=ViewConstants.TB;break;case Keywords.aC:va=ViewConstants.UB;break;case Keywords.eC:va=ViewConstants.XB;break;case Keywords.fC:va=ViewConstants.YB;break;case Keywords.dC:va=ViewConstants.WB;break;case Keywords.cC:va=ViewConstants.VB}-1!==va&&q.S()}-1===va&&(va=ViewConstants.Us);w.GH(w.Hp,w.Wr,w.Gp,w.Xr,w.Vc,w.Sz,w.Tz,f,ua,Aa,va)||(t[t.length]=[Keywords.Jp+" "+f,"invalid name or rle"]);x=!0}break;case Keywords.Rz:q.H()&&(u=!0,v=q.I(),
-4096<=v&&4096>=v&&(w.Sz=v,u=!1,q.H()&&(u=!0,v=q.I(),-4096<=v&&4096>=v&&(w.Tz=v,x=!0))));break;case Keywords.Zr:if(q.H()){if(u=!0,v=q.I(),0<=v){w.Hp=v;w.Xr=0;w.Wr=-1;w.Gp=[];for(k=!0;k;)q.H()?(v=q.I(),w.Gp[w.Gp.length]=v):(d=q.Ca(),w.HH(d,w.Gp)?q.S():k=!1);x=!0}}else d=q.Ca(),d===Keywords.Xq&&(d=q.S(),q.H()&&(u=!0,v=q.I(),1<=v&&(w.Xr=v,w.Hp=0,w.Wr=-1,q.H()?(v=q.I(),0<=v&&(w.Hp=v,q.H()?(v=q.I(),v>=w.Hp+w.Xr&&(w.Wr=v,x=!0)):x=!0)):x=!0)));break;case Keywords.sG:x=p.lp=!0;break;case Keywords.gA:x=!0;
u=!1;za="paste mode";d=q.Ca();switch(d){case Keywords.mA:w.Vc=ViewConstants.kF;break;case Keywords.Zz:w.Vc=ViewConstants.Yz;break;case Keywords.Uz:w.Vc=ViewConstants.ZE;break;case Keywords.iA:w.Vc=ViewConstants.hF;break;case Keywords.Vz:w.Vc=ViewConstants.$E;break;case Keywords.lA:w.Vc=ViewConstants.jF;break;case Keywords.kA:w.Vc=ViewConstants.jA;break;case Keywords.fA:w.Vc=ViewConstants.Yr;break;case Keywords.bA:w.Vc=ViewConstants.dF;break;case Keywords.hA:w.Vc=ViewConstants.iF;break;case Keywords.dA:w.Vc=
ViewConstants.fF;break;case Keywords.Wz:w.Vc=ViewConstants.aF;break;case Keywords.cA:w.Vc=ViewConstants.eF;break;case Keywords.Xz:w.Vc=ViewConstants.bF;break;case Keywords.aA:w.Vc=ViewConstants.cF;break;case Keywords.eA:w.Vc=ViewConstants.gF;break;case Keywords.$z:w.Vc=ViewConstants.av;break;default:if(4===d.length){for(Ia=v=0;4>Ia&&x;){v<<=1;switch(d.substr(Ia,1)){case "1":v|=1;break;case "0":break;default:x=!1}Ia+=1}x&&(w.Vc=v)}else q.H()?(u=!0,v=q.I()|0,0<=v&&15>=v?w.Vc=v:x=!1):x=!1}x&&!u&&q.S();
break;case Keywords.Ny:x=w.ak=!0;break;case Keywords.Iz:w.gj=!1;x=!0;break;case Keywords.Hz:x=w.re=!0;break;case Keywords.Jz:w.$o=!1;x=!0;break;case Keywords.uz:q.H()&&(u=!0,v=q.I()|0,v>=ViewConstants.FE&&v<=ViewConstants.xE&&(w.a.ga=1<<v,x=!0));break;case Keywords.Es:d=q.Ca();d===Keywords.Rb?(d=q.S(),p.Qm=!1):p.Qm=!0;x=p.Yv=!0;break;case Keywords.ot:d=q.Ca();d===Keywords.Rb?(d=q.S(),p.af=!1):p.af=!0;x=!0;break;case Keywords.uu:q.H()&&(u=!0,v=q.I()|0,0<=v&&v<=w.Ku&&(w.L=v,x=!0));break;case Keywords.Oy:d=
q.Ca();d===Keywords.Rb?(d=q.S(),w.gi=!1):w.gi=!0;x=!0;break;case Keywords.dr:d=q.Ca();d===Keywords.Rb?(d=q.S(),p.cd=!1):p.cd=!0;x=p.Tk=!0;break;case Keywords.cr:q.H()&&(u=!0,v=q.I()|0,v>=ViewConstants.oK&&v<=ViewConstants.kK&&(w.a.Bf=v,x=w.Ht=!0));break;case Keywords.Ga:case Keywords.Mx:e=c;Ca=!1;if(q.H()){l=q.I()|0;if(0>l||255<l)t[t.length]=[c+" "+l,"STATE out of range"],Ca=!0;this.Po(w,q,t,l,c,Ca,l)}else switch(d=q.Ca(),d){case Keywords.UE:this.bc(w,q,t,ViewConstants.Og,e);break;case Keywords.VE:this.bc(w,
q,t,ViewConstants.Pi,e);break;case Keywords.$D:this.bc(w,q,t,ViewConstants.Xh,e);break;case Keywords.oE:d=q.S();this.Po(w,q,t,ViewConstants.pE,c,!1,d);break;case Keywords.sE:d=q.S();this.Po(w,q,t,ViewConstants.tE,c,!1,d);break;case Keywords.qE:d=q.S();this.Po(w,q,t,ViewConstants.rE,c,!1,d);break;case Keywords.hE:d=q.S();this.Po(w,q,t,ViewConstants.iE,c,!1,d);break;case Keywords.cw:this.bc(w,q,t,ViewConstants.Og,e);break;case Keywords.bw:this.bc(w,q,t,ViewConstants.Pi,e);break;case Keywords.CB:this.bc(w,
q,t,ViewConstants.It,e);break;case Keywords.ew:this.bc(w,q,t,ViewConstants.Xh,e);break;case Keywords.dw:this.bc(w,q,t,ViewConstants.Iq,e);break;case Keywords.EB:this.bc(w,q,t,ViewConstants.Kt,e);break;case Keywords.DB:this.bc(w,q,t,ViewConstants.Zx,e);break;case Keywords.dr:this.bc(w,q,t,ViewConstants.Jq,e);break;case Keywords.cr:this.bc(w,q,t,ViewConstants.Kq,e);break;case Keywords.Es:this.bc(w,q,t,ViewConstants.Rt,e);break;case Keywords.AB:this.bc(w,q,t,ViewConstants.St,e);break;case Keywords.uy:this.bc(w,
q,t,ViewConstants.Lt,e);break;case Keywords.Dr:this.bc(w,q,t,ViewConstants.Lq,e);break;case Keywords.wq:this.bc(w,q,t,ViewConstants.Hq,e);break;case Keywords.DF:this.bc(w,q,t,ViewConstants.Mq,e);break;case Keywords.ZC:this.bc(w,q,t,ViewConstants.Jt,e);break;case Keywords.aD:this.bc(w,q,t,ViewConstants.Yx,e);break;case Keywords.fG:this.bc(w,q,t,ViewConstants.ay,e);break;case Keywords.Jp:this.bc(w,q,t,ViewConstants.$x,e);break;case Keywords.OC:this.bc(w,q,t,ViewConstants.Xx,e);break;case Keywords.QD:this.bc(w,
q,t,ViewConstants.Ot,e);break;case Keywords.PD:this.bc(w,q,t,ViewConstants.Nt,e);break;case Keywords.OD:this.bc(w,q,t,ViewConstants.Mt,e);break;case Keywords.RD:this.bc(w,q,t,ViewConstants.Pt,e);break;case Keywords.SD:this.bc(w,q,t,ViewConstants.Qt,e);break;case Keywords.yG:this.bc(w,q,t,ViewConstants.Pq,e);break;case Keywords.wG:this.bc(w,q,t,ViewConstants.Nq,e);break;case Keywords.zG:this.bc(w,q,t,ViewConstants.Qq,e);break;case Keywords.CG:this.bc(w,q,t,ViewConstants.Sq,e);break;case Keywords.AG:this.bc(w,
q,t,ViewConstants.Rq,e);break;case Keywords.xG:this.bc(w,q,t,ViewConstants.Oq,e);break;default:l=-1;if(w.a.G){switch(d){case "N":l=1;break;case "E":l=2;break;case "NE":l=3;break;case "S":l=4;break;case "NS":l=5;break;case "ES":l=6;break;case "NES":l=7;break;case "W":l=8;break;case "NW":l=9;break;case "EW":l=10;break;case "NEW":l=11;break;case "SW":l=12;break;case "NSW":l=13;break;case "ESW":l=14;break;case "NESW":l=15}-1!==l&&(d=q.S(),this.Po(w,q,t,l,c,Ca,l))}-1===l&&(t[t.length]=[c+" "+d,"illegal element"],
d=q.S())}x=!0;break;case Keywords.$p:-1===q.GD()&&q.fJ();x=!0;--w.Wn;break;case Keywords.at:x=w.Ma=!0;break;case Keywords.Lz:x=w.Kz=!0;break;case Keywords.TA:x=w.Mv=!0;break;case Keywords.Mz:w.Ol=!1;x=!0;break;case Keywords.vy:x=w.eu=!0;break;case Keywords.Uy:x=w.tr=!0;break;case Keywords.Gz:w.Nc=!0;x=w.Wu=!0;break;case Keywords.Fz:x=w.dl=!0;break;case Keywords.wB:x=hb=gb=fb=eb=Ua=Ta=db=cb=Sa=bb=ab=$a=Za=Ya=Xa=!0;break;case Keywords.Rb:t[t.length]=[Keywords.Rb,"must follow LOOP or STOP"];x=!0;break;
case Keywords.lg:d=q.Ca();d===Keywords.hc?(d=q.S(),p.ii?(w.T.oI(p,t),w.bM()):t[t.length]=[Keywords.lg+" "+Keywords.hc,"only valid at a POI"]):t[t.length]=[Keywords.lg,"must be followed by INITIAL"];x=!0;break;case Keywords.hc:t[t.length]=[Keywords.hc,"must follow POI, ALL or a POI setting"];x=!0;break;case Keywords.qt:d=q.Ca();d===Keywords.Rb?(d=q.S(),w.Xe=!1):w.va&&(w.Xe=!0);x=!0;break;case Keywords.gv:q.H()&&(u=!0,v=q.I()|0,0<=v&&(p.ii?(p.mc=v,p.Hs=!0):t[t.length]=[Keywords.gv+" "+v,"only valid at a POI"],
x=!0));break;case Keywords.Op:p.dM(t);x=!0;break;case Keywords.Pp:p.hM(t);x=!0;break;case Keywords.js:p.eM(t);x=!0;break;case Keywords.ks:q.H()&&(u=!0,v=q.I(),v>=WaypointConstants.zF&&v<=WaypointConstants.yF&&(p.jM(v,t),x=!0));break;case Keywords.Gy:x=w.nu=!0;break;case Keywords.sB:d=q.Ca();d===Keywords.Rb?(d=q.S(),w.vi=!1):w.vi=!0;x=!0;break;case Keywords.Ts:q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(ya=v,u=!1,c+=" "+v,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&
(Ja=v,x=!0,w.ae&&(t[t.length]=[Keywords.Ts+" "+ya+" "+Ja,"overwrites "+Da+" "+Ea]),Da=ya,Ea=Ja,w.ae=!0))));break;case Keywords.Ss:q.H()&&(u=!0,v=q.I()|0,0<v&&(Ba=v,u=!1,c+=" "+v,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(ya=v,u=!1,c+=" "+v,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(Ja=v,x=!0,w.Do&&(t[t.length]=[Keywords.Ss+" "+Ba+" "+ya+" "+Ja,"overwrites "+wa+" "+Da+" "+Ea]),wa=Ba,Da=ya,Ea=Ja,w.Do=!0,w.ae=!0))))));break;case Keywords.Co:q.H()&&(u=!0,v=q.I(),
v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(Ga=v,u=!1,c+=" "+v,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(Na=v,u=!1,c+=" "+v,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(La=v,u=!1,c+=" "+v,q.H()&&(u=!0,v=q.I(),v>=ViewConstants.Tg&&v<=ViewConstants.Rg&&(Ka=v,x=!0,La>Ga?t[t.length]=[Keywords.Co+" W "+this.Ai(La,2)+" E "+this.Ai(Ga,2),"W is greater than E"]:Ka>Na?t[t.length]=[Keywords.Co+" N "+this.Ai(Ka,2)+" S "+this.Ai(Na,2),"N is greater than S"]:(w.zo&&(t[t.length]=
[Keywords.Co+" "+this.Ai(Ga,2)+" "+this.Ai(Na,2)+" "+this.Ai(La,2)+" "+this.Ai(Ka,2),"overwrites "+this.Ai(w.Zm,2)+" "+this.Ai(w.$m,2)+" "+this.Ai(w.Bo,2)+" "+this.Ai(w.Ao,2)]),w.zo=!0,w.ae=!0,w.Ao=Ka,w.Zm=Ga,w.$m=Na,w.Bo=La)))))))));break;case Keywords.uj:y=p;!p.ii&&0<w.T.DK&&(p=w.T.$q());q.H()?(u=!0,v=q.I()|0,0<v&&(!p.Um||w.km||Ua||(t[t.length]=-1===p.Wb?[Keywords.uj+" "+v,"overwrites "+Keywords.Rb]:[Keywords.uj+" "+v,"overwrites "+p.Wb]),p.Wb=v,p.Um=!0,Ua=w.km=!1,x=!0)):(d=q.Ca(),d===Keywords.Rb?
(d=q.S(),!p.Um||w.km||Ua||(t[t.length]=-1!==p.Wb||w.km?[Keywords.uj+" "+Keywords.Rb,"overwrites "+p.Wb]:[Keywords.uj+" "+Keywords.Rb,"overwrites "+Keywords.Rb]),p.Wb=-1,p.Um=!0,Ua=w.km=!1,x=!0):d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.uj,p,t,w.km),x=w.km=!0));p=y;break;case Keywords.Zi:y=p;!p.ii&&0<w.T.Ta.length&&(p=w.T.$q());q.H()?(u=!0,v=q.I()|0,0<v&&(!p.nm||w.Ln||Ta||(t[t.length]=-1===p.bb?[Keywords.Zi+" "+v,"overwrites "+Keywords.Rb]:[Keywords.Zi+" "+v,"overwrites "+p.bb]),p.bb=v,p.nm=!0,Ta=
w.Ln=!1,x=!0)):(d=q.Ca(),d===Keywords.Rb?(d=q.S(),!p.nm||w.Ln||Ta||(t[t.length]=-1===p.bb?[Keywords.Zi+" "+Keywords.Rb,"overwrites "+Keywords.Rb]:[Keywords.Zi+" "+Keywords.Rb,"overwrites "+p.bb]),p.bb=-1,p.nm=!0,Ta=w.Ln=!1,x=!0):d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.Zi,p,t,w.Ln),x=w.Ln=!0));p=y;break;case Keywords.Jl:q.H()?(u=!0,v=q.I()|0,0<=v&&359>=v&&(!p.mh||w.wr||$a||(t[t.length]=[Keywords.Jl+" "+v,"overwrites "+p.angle]),p.angle=v,p.mh=!0,$a=w.wr=!1,x=!0)):(d=q.Ca(),d===Keywords.hc&&(d=q.S(),
w.T.Dd(Keywords.Jl,p,t,w.wr),x=w.wr=!0));break;case Keywords.Qn:q.H()?(u=!0,v=q.I()|0,v>=ViewConstants.Ru&&v<=ViewConstants.Lu&&(!p.ki||w.zr||ab||(t[t.length]=[Keywords.Qn+" "+v,"overwrites "+p.R]),p.R=v,p.ki=!0,ab=w.zr=!1,x=!0)):(d=q.Ca(),d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.Qn,p,t,w.zr),x=w.zr=!0));break;case Keywords.zn:q.H()?(u=!0,v=q.I(),v>=ViewConstants.Qu&&v<=ViewConstants.wE&&(!p.Yh||w.xr||bb||(t[t.length]=[Keywords.zn+" "+v,"overwrites "+p.depth]),p.depth=v,p.Yh=!0,bb=w.xr=!1,x=!0)):
(d=q.Ca(),d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.zn,p,t,w.xr),x=w.xr=!0));break;case Keywords.tw:q.H()&&(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(w.Gb=v,x=!0));break;case Keywords.vw:q.H()&&(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(w.Hb=v,x=!0));break;case Keywords.mf:q.H()?(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(!p.ig||w.Br||Xa||(t[t.length]=[Keywords.mf+" "+v,"overwrites "+-p.x]),p.x=-v,p.ig=!0,Xa=w.Br=!1,x=!0)):(d=q.Ca(),d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.mf,p,t,w.Br),x=w.Br=!0));break;
case Keywords.nf:q.H()?(u=!0,v=q.I(),v>=-w.a.ga/2&&v<=w.a.ga/2&&(!p.Lf||w.Cr||Ya||(t[t.length]=[Keywords.nf+" "+v,"overwrites "+-p.y]),p.y=-v,p.Lf=!0,Ya=w.Cr=!1,x=!0)):(d=q.Ca(),d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.nf,p,t,w.Cr),x=w.Cr=!0));break;case Keywords.dE:x=w.cE=!0;break;case Keywords.MB:q.H()&&(u=!0,v=q.I(),v>=ViewConstants.ya&&v<=ViewConstants.Ua?(w.gw=!0,w.LB=v,x=!0):v>=ViewConstants.al&&v<=ViewConstants.Yk&&(w.gw=!0,w.LB=-(1/v),x=!0));break;case Keywords.ox:case Keywords.Qd:q.H()?
(u=!0,v=q.I(),v>=ViewConstants.ya&&v<=ViewConstants.Ua?(!p.ce||w.Mn||Za||(t[t.length]=1>p.zoom?[Keywords.Qd+" "+v,"overwrites "+-(1/p.zoom)]:[Keywords.Qd+" "+v,"overwrites "+p.zoom]),p.zoom=v,p.ce=!0,Za=w.Mn=!1,x=!0):v>=ViewConstants.al&&v<=ViewConstants.Yk&&(p.ce&&!w.Mn&&(t[t.length]=1>p.zoom?[Keywords.Qd+" "+v,"overwrites "+-(1/p.zoom)]:[Keywords.Qd+" "+v,"overwrites "+p.zoom]),p.zoom=-(1/v),p.ce=!0,w.Mn=!1,x=!0)):(d=q.Ca(),d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.Qd,p,t,w.Mn),x=w.Mn=!0));break;
case Keywords.In:q.H()?(u=!0,v=q.I()|0,v>=ViewConstants.Sg&&v<=ViewConstants.pm&&(!p.di||w.yr||cb||(t[t.length]=[Keywords.In+" "+v,"overwrites "+p.xc]),p.xc=v,p.di=!0,cb=w.yr=!1,x=!0)):(d=q.Ca(),d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.In,p,t,w.yr),x=w.yr=!0));break;case Keywords.NB:d=q.Ca();d===Keywords.Rb?(d=q.S(),w.Hd||(w.mb=!1,w.rl=!1)):w.Hd||(w.mb=!0,w.rl=!0);x=!0;break;case Keywords.KB:x=w.JB=!0;break;case Keywords.GB:d=q.Ca();d===Keywords.Rb?(d=q.S(),w.Hd||(w.mb=!1,w.rl=!1,w.wj=!1,w.m.wj=
!1)):w.Hd||(w.mb=!0,w.rl=!0,w.wj=!0,w.m.wj=!0);x=!0;break;case Keywords.IB:q.H()&&(u=!0,v=q.I()|0,v>=ViewConstants.KE&&v<=ViewConstants.CE&&(w.ye=v,x=!0));break;case Keywords.ql:q.H()?(u=!0,v=q.I()|0,0<=v&&v<w.a.Je&&(!p.gg||w.Xk||Sa||this.DA(w,t,v,p.Ac),p.Ac=v,p.gg=!0,Sa=w.Xk=!1,x=!0)):(d=q.Ca(),d===Keywords.jq?(d=q.S(),w.sh?(p.gg&&!w.Xk&&this.DA(w,t,w.a.Je,p.Ac),p.Ac=w.a.Je,p.gg=!0,w.Xk=!1):t[t.length]=[Keywords.ql+" "+Keywords.jq,"no custom THEME defined"],x=!0):(v=w.xM(d),-1!==v?(d=q.S(),!p.gg||
w.Xk||Sa||this.DA(w,t,v,p.Ac),p.Ac=v,p.gg=!0,Sa=w.Xk=!1,x=!0):d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.ql,p,t,w.Xk),x=w.Xk=!0)));break;case Keywords.KF:x=w.a.Kd=!0;break;case Keywords.lo:t[t.length]=[c,"already in a script block"];x=!0;break;case Keywords.lB:w.dd=!w.dd;x=!0;break;case Keywords.mB:w.Yo.current=w.Ho([!0],!0,w);x=!0;break;case Keywords.wy:w.Os.current=w.yC([!0],!0,w);x=!0;break;case Keywords.kB:w.qw([!0],!0,w);w.bf&&(w.bf.current=[w.eh],w.m.Jh=!0);x=!0;break;case Keywords.jy:q.H()&&
(u=!0,v=q.I()|0,v>=ViewConstants.EE&&v<=ViewConstants.vE&&(x=!0,w.a.ts=v));break;case Keywords.Xu:x=w.Kc=!0;break;case Keywords.hu:x=w.Wc=!0;break;case Keywords.Dy:q.H()&&(u=!0,v=q.I(),0<=v&&1>=v&&(x=!0,w.nd=v));break;case Keywords.Ey:w.Wg=!1;x=!0;break;case Keywords.Iy:x=w.a.be=!0;break;case Keywords.oB:w.a.be=!1;x=!0;break;case Keywords.Bx:x=w.a.ld=!0;break;case Keywords.KA:q.H()&&(u=!0,v=q.I()|0,v>=ViewConstants.JE&&v<=ViewConstants.BE&&(w.Bv=v,x=!0));break;case Keywords.FA:q.H()&&(u=!0,v=q.I()|
0,v>=ViewConstants.IE&&v<=ViewConstants.AE&&(w.vv=v,x=!0));break;case Keywords.EA:q.H()&&(u=!0,v=q.I()|0,v>=ViewConstants.Tu&&v<=ViewConstants.Nu&&(w.tv=v,x=!0));break;case Keywords.GA:x=w.xv=!0;break;case Keywords.JA:x=w.Av=!0;break;case Keywords.rv:d=q.Ca();switch(d){case Keywords.me:d=q.S();x=!0;w.rs=!0;break;case Keywords.lg:d=q.S();q.H()&&(u=!0,v=q.I()|0,0<=v&&100>=v&&(w.gl=v,x=!0));break;case Keywords.qv:d=q.S();q.H()&&(u=!0,v=q.I()|0,0<=v&&100>=v&&(w.hl=v,x=!0));break;case Keywords.yv:d=q.S();
q.H()&&(u=!0,v=q.I()|0,0<=v&&100>=v&&(w.Hm=v,x=!0));break;default:this.SM(d)&&(d=q.S(),q.H()&&(u=!0,v=q.I()|0,0<=v&&100>=v&&(this.SL(w,v),x=!0)))}break;case Keywords.LA:x=w.Cv=!0;break;case Keywords.IA:w.zv=q.S();x=w.HA=!0;break;case Keywords.wh:d=q.Ca();switch(d){case Keywords.mf:p.ul&&this.mi(p.Mh,Keywords.wh,Keywords.mf,t);p.Mh=!0;p.ul=!0;d=q.S();break;case Keywords.nf:p.vl&&this.mi(p.Oh,Keywords.wh,Keywords.nf,t);p.Oh=!0;p.vl=!0;d=q.S();break;case Keywords.Qd:p.JC&&this.mi(p.Qh,Keywords.wh,Keywords.Qd,
t);p.Qh=!0;p.bt=!0;d=q.S();break;case Keywords.lg:p.ul&&this.mi(p.Mh,Keywords.wh,Keywords.mf,t);p.vl&&this.mi(p.Oh,Keywords.wh,Keywords.nf,t);p.JC&&this.mi(p.Qh,Keywords.wh,Keywords.Qd,t);p.Mh=!0;p.ul=!0;p.Oh=!0;p.vl=!0;p.Qh=!0;p.bt=!0;d=q.S();break;default:this.Un(q,t,Keywords.wh,"argument",Keywords.lg+", "+Keywords.mf+", "+Keywords.nf+" or "+Keywords.Qd)}x=!0;break;case Keywords.Ki:d=q.Ca();switch(d){case Keywords.mf:p.ul&&this.mi(p.Mh,Keywords.Ki,Keywords.mf,t);p.Mh=!1;p.ul=!0;d=q.S();break;case Keywords.nf:p.vl&&
this.mi(p.Oh,Keywords.Ki,Keywords.nf,t);p.Oh=!1;p.vl=!0;d=q.S();break;case Keywords.Qd:p.JC&&this.mi(p.Qh,Keywords.Ki,Keywords.Qd,t);p.Qh=!1;p.bt=!0;d=q.S();break;case Keywords.lg:p.ul&&this.mi(p.Mh,Keywords.Ki,Keywords.mf,t);p.vl&&this.mi(p.Oh,Keywords.Ki,Keywords.nf,t);p.JC&&this.mi(p.Qh,Keywords.Ki,Keywords.Qd,t);p.Mh=!1;p.ul=!0;p.Oh=!1;p.vl=!0;p.Qh=!1;p.bt=!0;d=q.S();break;default:this.Un(q,t,Keywords.Ki,"argument",Keywords.lg+", "+Keywords.mf+", "+Keywords.nf+" or "+Keywords.Qd)}x=!0;break;case Keywords.hv:A=
!0;w.T.add(p);p=w.T.Bt();p.ii=!0;d=q.Ca();d===Keywords.hc&&(d=q.S(),-1!==w.xn&&(t[t.length]=[Keywords.hv+" "+Keywords.hc,"overrides previous initial POI"]),w.xn=w.T.qc.length);w.fI();x=!0;break;case Keywords.Gs:q.H()&&(u=!0,v=q.I()|0,0<=v&&(z||(z=!0),0<v&&(w.T.add(p),p=w.T.Bt()),p.mc=v,x=p.Hs=!0));break;case Keywords.so:q.H()?(u=!0,v=q.I()|0,v>=ViewConstants.Sn&&v<=ViewConstants.zg&&(!p.xi||w.Ar||db||(t[t.length]=[Keywords.so+" "+v,"overwrites "+p.step]),p.step=v,p.xi=!0,db=w.Ar=!1,x=!0)):(d=q.Ca(),
d===Keywords.hc&&(d=q.S(),w.T.Dd(Keywords.so,p,t,w.Ar),x=w.Ar=!0));break;case Keywords.pA:q.H()&&(u=!0,v=q.I(),0<=v&&(z||(z=!0),w.T.add(p),p=w.T.Bt(),v<ViewConstants.iG&&(v=ViewConstants.iG),p.vd=v,x=p.qG=!0));break;case Keywords.rq:q.H()&&(u=!0,v=q.I()|0,w.Hd||(-1===w.Ke||eb||(t[t.length]=[Keywords.rq+" "+v,"overwrites "+w.Ke]),w.Ke=v),eb=!1,x=!0);break;case Keywords.cp:q.H()&&(u=!0,v=q.I()|0,w.Hd||(-1===w.$g||fb||(t[t.length]=[Keywords.cp+" "+v,"overwrites "+w.$g]),w.$g=v),fb=!1,x=!0);break;case Keywords.ms:q.H()&&
(u=!0,v=q.I()|0,-1===w.Gf||gb||(t[t.length]=[Keywords.ms+" "+v,"overwrites "+w.Gf]),w.Gf=v,gb=!1,x=!0);break;case Keywords.ls:q.H()&&(u=!0,v=q.I()|0,-1===w.oi||hb||(t[t.length]=[Keywords.ls+" "+v,"overwrites "+w.oi]),w.oi=v,hb=!1,x=!0);break;default:t[t.length]=[c,"unknown or misspelt command"],x=!0}x||(u?t[t.length]=[c+" "+v,"argument out of range"]:this.Un(q,t,c,"argument",za))}""!==c&&(c=q.S())}m&&(t[t.length]=[Keywords.od+r,"unterminated string"]);z&&w.ae&&(B=w.zo?Keywords.Co:w.Do?Keywords.Ss:
Keywords.Ts,t[t.length]=[B,"can not be used with Waypoints"],w.ae=!1,w.zo=!1,w.Do=!1);w.zo||!w.ae&&!w.Do||(w.Do&&(0<w.a.Bf&&(wa*=w.a.Bf),p.bb=wa),w.Ao=Ea,w.Zm=Da,w.$m=Ea,w.Bo=Da);if(z||A){w.T.add(p);p=w.T.$q();z?w.Qc=!0:-1!==w.xn&&(w.Mg=w.xn,y=w.T.qc[w.xn],y.ig&&(p.ig=y.ig,p.x=y.x),y.Lf&&(p.Lf=y.Lf,p.y=y.y),y.ce&&(p.ce=y.ce,p.zoom=y.zoom),y.mh&&(p.mh=y.mh,p.angle=y.angle),y.Yh&&(p.Yh=y.Yh,p.depth=y.depth),y.ki&&(p.ki=y.ki,p.R=y.R),y.gg&&(p.gg=y.gg,p.Ac=y.Ac),y.di&&(p.di=y.di,p.xc=y.xc),y.xi&&(p.xi=
y.xi,p.step=y.step),y.oG&&(p.oG=y.oG,p.stop=y.stop),y.mE&&(p.mE=y.mE,p.loop=y.loop));if(z){for(Ia=0;Ia<w.T.Ta.length;Ia+=1)p=w.T.Ta[Ia],p.af&&(p.ig||p.Lf||p.ce)&&(r="",p.ig?(r="X "+p.x,p.Lf?r=p.ce?r+(", Y "+p.y+" and ZOOM "+p.zoom):r+(" and Y "+p.y):p.ce&&(r+=" and ZOOM "+p.zoom)):p.Lf?(r="Y "+p.y,p.ce&&(r+=" and ZOOM "+p.zoom)):p.ce&&(r="ZOOM "+p.zoom),t[t.length]=[Keywords.ot,"overwrites "+r]);p=w.T.$q()}A&&p.Ug===WaypointConstants.play&&w.va&&(w.Xe=!0)}p.af&&(w.uc=!0);p.ig&&(w.a.za=w.a.width/2-
p.x);p.Lf&&(w.a.sa=w.a.height/2-p.y);p.ce&&(w.a.zoom=p.zoom);p.mh&&(w.a.angle=p.angle);p.Yh&&(w.a.oe=p.depth/ViewConstants.yn+ViewConstants.Qu);p.ki&&(w.a.R=p.R);p.gg&&(w.FB=p.Ac);p.di&&(w.rg=p.xc);p.xi&&(w.Ba=p.step);p.BB&&w.m.notification.notify(p.Kf,15,1E3,15,!1);w.Wb=p.Wb;w.bb=p.bb;p.ce&&(w.iy=!0);p.ig&&(w.gy=!0);p.Lf&&(w.hy=!0);p.Tk&&(w.a.ac=p.cd);p.Yv&&(w.ti=p.Qm);for(Ia=0;Ia<h;Ia+=1)-1!==w.kc[Ia]&&(b+=1);if(0<b){w.it=!0;for(Ia=0;Ia<h;Ia+=1)w.v.ro[Ia]?-1===w.kc[Ia]?(w.it=!1,w.vn[Ia]=ViewConstants.mG):
w.vn[Ia]=ViewConstants.lG:w.vn[Ia]=ViewConstants.tB;w.Mo=w.it?"(custom)":w.Mo+" (custom*)"}else w.kc=null;w.sh&&(this.nM(w),w.yM&&(w.yM.upper=w.a.Je));w.Ma&&(B="not possible due to "+Keywords.at,w.Xe&&(t[t.length]=[Keywords.qt,B],w.Xe=!1),-1!==w.Wb&&(t[t.length]=[Keywords.uj+" "+w.Wb,B]),-1!==w.bb&&(t[t.length]=[Keywords.Zi+" "+w.bb,B]));0!==w.Gb&&w.hb+ViewConstants.zg+2*Math.abs(w.Gb)>=w.a.ga&&(t[t.length]=[Keywords.tw+" "+w.Gb,"pattern does not fit on grid at view offset"],w.Gb=0);0!==w.Hb&&w.lb+
ViewConstants.zg+2*Math.abs(w.Hb)>=w.a.ga&&(t[t.length]=[Keywords.vw+" "+w.Hb,"pattern does not fit on grid at view offset"],w.Hb=0);w.Oz=t.length}""!==w.Fi&&(w.Fi=this.iq(w,w.Fi));w.uc&&(w.nt=!0);w.Wc&&w.Kc&&(t[t.length]=[Keywords.hu,"not valid with "+Keywords.Xu],w.Wc=!1);var Qa=0,Va=!1;-1!==w.Ke&&(Qa=ViewConstants.Gc,w.Ke>=ViewConstants.HE&&w.Ke<Qa&&(w.Ke=Qa),w.Nc&&(Qa=ViewConstants.qK),w.Ke<Qa||w.Ke>w.fk)&&(t[t.length]=[Keywords.rq+" "+w.Ke,"argument out of range"],Va=!0);-1!==w.$g&&(Qa=ViewConstants.bj,
w.Nc&&(Qa=ViewConstants.pK),w.$g<Qa||w.$g>ViewConstants.Ou)&&(t[t.length]=[Keywords.cp+" "+w.$g,"argument out of range"],Va=!0);w.Hd&&(-1!==w.Gf&&(w.Gf>=ViewConstants.HE&&w.Gf<ViewConstants.Gc&&(w.Gf=ViewConstants.Gc),w.Gf<ViewConstants.Gc||w.Gf>w.fk)&&(t[t.length]=[Keywords.ms+" "+w.Gf,"argument out of range"],w.Gf=-1,Va=!0),-1!==w.oi&&(w.oi<ViewConstants.bj||w.oi>ViewConstants.Ou)&&(t[t.length]=[Keywords.ls+" "+w.oi,"argument out of range"],w.oi=-1,Va=!0));if(Va||t.length)-1!==w.Ke&&w.Ke<ViewConstants.Gc&&
(w.Ke=ViewConstants.Gc),-1!==w.$g&&w.$g<ViewConstants.rm&&(w.$g=ViewConstants.rm),w.Nc=!1;w.i.h=w.Nc;w.m.Nc=w.Nc;w.m.dl=w.dl;w.Nc&&(w.Xe=!1,w.mb=!1,w.wj=!1,w.Wc=!1,w.Ho([!1],!0,w),w.yC([!1],!0,w),w.qw([!1],!0,w),w.dd=!1,w.ak=!1);w.Kz&&(w.element.style="display:none",w.element.parentNode&&w.element.parentNode.parentNode&&w.element.parentNode.parentNode.className===DocConfig.Zt&&(w.element.parentNode.parentNode.style="display:none;"));w.T.rM()}}}(),function(){function w(b,l,e,p,y){this.name=b;this.pattern=
l;this.JL=e;this.width=p;this.height=y}function g(b){var l;this.Vu=this.Wq=this.Mv=this.JB=this.tr=this.eu=!1;this.v=new PatternManager;this.jj=this.nr=!1;this.oz="";this.$f=!1;this.Fu=this.Du=this.sp=this.Hr=this.Gr=this.qp=this.Eu=this.Er=this.up=this.tp=this.Fr=this.yb=this.rp="";this.Xb=!1;this.rr=this.kr=this.xu=this.pr=this.qr=this.zu=this.yu=this.wu=this.vu=this.mr=this.sr=this.Cj=this.Jj=this.Fj=this.Kj=this.Ej=this.Ij=this.Hj=this.Gj=this.Dj=this.Gi=this.Hi=this.sf=this.lr=null;this.lf=1;
this.vv=this.Bv=t.Rp;this.tv=50;this.Av=this.xv=this.rs=!1;this.Hm=this.hl=this.gl=-1;this.Fh=[];this.hj=[];this.BC=!1;this.Vq=this.Ky=this.Fx=this.Wy=this.px=null;this.gr=18;this.ep="18px "+t.ID;this.hm="18px "+t.oC;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.Ol=!0;this.$v=this.ph=this.tk=this.rk=this.uk=this.sk=this.qj=!1;this.Ef=[];for(l=0;10>l;l+=1)this.Ef[l]=null;this.qd=!1;this.ff=this.gf=this.og=0;this.Dg=t.Ip;this.kh=this.Bq=!1;this.tb=null;this.ed=!1;this.Vo=
new BoundingBox(0,0,0,0);this.zb=new BoundingBox(0,0,0,0);this.qm=new BoundingBox(0,0,0,0);this.Ob=new Random;this.Ob.cf(Date.now().toString());this.ij=50;this.eG=this.dG=0;this.Zj=this.sb=!1;this.ym=2;this.Sf=[];this.Vn=this.rc=0;this.un=[];this.ad=0;this.Sd=[];this.Ad=0;this.qa=[];this.qa[t.Us]=[1,0,0,1];this.qa[t.SB]=[-1,0,0,-1];this.qa[t.TB]=[-1,0,0,1];this.qa[t.UB]=[1,0,0,-1];this.qa[t.XB]=[0,1,1,0];this.qa[t.YB]=[0,-1,-1,0];this.qa[t.WB]=[0,-1,1,0];this.qa[t.VB]=[0,1,-1,0];this.nk=[];this.Tp=
[];this.kj=[];this.Cg=[];this.Vc=t.Yr;this.Hp=0;this.Wr=-1;this.Gp=[];this.Tz=this.Sz=this.Xr=0;this.bk=!1;this.$k=0;this.Cu=!1;this.$c=this.Bm=this.wm=this.Am=this.xm=0;this.Bu=!1;this.U=null;this.Go=0;this.Hk=!0;this.bh=0;this.Af=1;this.Cs=this.$y=this.hk=this.hs=!1;this.li=7;this.po=!0;this.Vj=this.Uj=0;this.Fn=!1;this.L=this.Ku=63;this.Ln=this.km=this.yr=this.Ar=this.Xk=this.zr=this.xr=this.wr=this.Mn=this.Cr=this.Br=this.Kz=!1;this.ag=this.rb=0;this.Ea=null;this.Pc=this.Oc=0;this.AC=!1;this.xn=
this.vk=this.wk=-1;this.zv=Date.now().toString();this.Cv=this.HA=!1;this.gm=t.tl;this.si=!0;this.Wc=!1;this.Wg=!0;this.nd=t.CD;this.cE=this.Kc=!1;this.element=b;this.dd=!1;this.Bo=this.Zm=this.$m=this.Ao=this.Ft=this.Ct=this.Et=this.Dt=0;this.jf=this.Do=this.ae=this.zo=!1;this.$o=!0;this.Sk=!1;this.ci=0;this.Rk=!1;this.Fm=this.Em=0;this.Xg=!1;this.u="";this.Hb=this.Gb=0;this.ty=this.sy=this.Uo=this.bm=this.Gn=this.Ok=this.rB=this.qB=this.Rm=this.qo=this.Tm=this.Sm=this.Mg=-1;this.Iu=this.Xt=!1;this.Is=
this.fh=-1;this.Eq=this.rn=!1;this.zt=-1;this.to=this.Xm=null;this.Js="";this.uo=this.yk=0;this.wM=32768;this.xt=!1;this.Ox=this.Px=0;this.Nx=!0;this.nt=this.uc=this.Pj=!1;this.gn=0;this.YH=.01;this.vi=this.gi=!1;this.Lk=this.rh=null;this.Si=t.Si;this.Ul=[96,96,96];this.Vl=[128,128,128];this.Xl=[0,255,0];this.Wl=[255,0,0];this.Tl=[255,255,0];this.hw=null;this.Fi="";this.gj=!0;this.ti=this.va=this.re=!1;this.ol=null;this.Hd=!1;this.Y=1;this.ej=this.fj=0;this.Cd=this.az=!1;this.T=new WaypointManager;
this.Ir="";this.pz=-1;this.yg=this.Qc=!1;this.Ba=1;this.xy=this.Oz=this.Wn=0;this.fk=t.nK;this.oi=this.Gf=this.$g=this.Ke=this.Ri=-1;this.bs=this.Kp="";this.cs=this.fl=this.lb=this.hb=0;this.bo=null;this.Cm=this.hd=this.ub=this.dj="";this.Ht=this.sh=!1;this.ma=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.yD=this.xD=-1;this.Vx=t.jE;this.Ux=t.mt;this.Wx=t.AF;this.Mo="";this.iI=0;this.Ee=[];this.it=!1;this.kc=null;this.vn=[];this.jd=[];this.dc=1;
this.ja=0;this.Bs=!1;this.Cp=100;this.gd=10;this.$=[64,200,290,530,700];this.Jg=!1;this.ea=[];this.pu=[];this.qu=[];this.Wb=-1;this.Oe=!1;this.bb=-1;this.nu=this.mg=this.Xe=this.fd=this.dl=this.Wu=this.Nc=this.Rh=this.ak=this.Ma=this.ze=this.Lc=!1;this.vB=this.Ay=this.tA=-1;this.a=null;this.elapsedTime=0;this.JI=this.LI=512;this.F=640;this.D=512;this.Ur=640;this.Tr=512;this.kv=!1;this.Mj=640;this.dv=!0;this.eh=this.nB=this.ni=this.Ya=this.Mp=!1;this.Om=this.Ym=this.zi=this.Mc=this.Oo=this.fo=this.yj=
this.Rd=this.Nd=this.ec=null;this.B=[];this.j=this.td=this.xg=this.cq=this.Eh=this.Ch=this.Ra=this.wf=this.Tf=this.Rf=this.Pf=this.Yf=this.Zf=this.Qe=this.Be=this.Vf=this.ge=this.he=this.ao=this.mk=this.zd=this.aa=this.$n=this.rd=this.xb=this.Zg=this.Yl=this.Sc=this.Tj=this.Sj=this.Dm=this.yd=this.Km=this.Aj=this.En=this.Td=this.Wf=this.Hn=this.Os=this.lk=this.Yo=this.Or=this.os=this.fq=this.hp=this.ek=this.Uq=this.$r=this.Kl=this.jp=this.Sp=this.Nj=this.Gk=this.Ek=this.Fk=this.ur=this.kp=this.xh=
this.Bj=this.em=this.Aq=this.im=this.Qp=this.fn=this.Jo=this.xq=this.Nr=this.ns=this.pp=this.mm=this.N=this.wg=this.Pk=this.Tq=this.hn=this.Ql=this.ee=this.fe=this.vg=this.Fq=this.Rn=this.ei=this.Ji=this.fa=this.Te=this.pd=this.Re=this.Ue=this.rf=this.Ve=this.qf=this.We=this.Gh=this.yi=this.Di=this.Vk=this.Vm=this.om=this.hh=this.jn=this.Nb=this.Tb=this.Pb=this.wb=this.Ah=this.Dh=this.Bh=this.yh=this.Lj=this.$a=this.pf=this.nc=this.vf=this.Zb=this.tf=this.wp=this.Ep=this.il=this.qs=this.Vp=this.bf=
this.Yd=this.bd=this.tc=this.Bd=this.Bi=this.Cl=this.El=this.Bl=this.Dl=null;this.ji=this.Pn=-1;this.wheelDelta=0;this.yc=this.Uc=this.Jm=null;this.rg=60;this.i=this.m=null;this.Qi=this.Fe=this.Ro=0;this.Vt=this.ED=1;this.fy=60;this.So=this.Ut=1;this.ey=.1;this.FB=-1;this.oj=this.Le=this.aB=0;this.Zp=1;this.rl=this.mb=this.hy=this.gy=this.iy=!1;this.ye=t.DD;this.Fl=this.Gl=this.HB=this.wl=0;this.gw=this.wj=!1;this.ys=this.LB=0;this.le=this.fg=!1;this.ds=-1}function h(b,l,e,p,y){var z,A=l.parentNode,
C=null;for(z=0;z<B.xd.length&&!C;)B.xd[z][0].tabIndex===l.tabIndex?C=B.xd[z][1]:z+=1;C||(C=new g(y),C.Hd=p,u.Jr&&!p&&(C.fk=e&-8,C.fk<t.Gc&&(C.fk=t.Gc)),l.tabIndex=B.xd.length+1,C.Zo(l),"none"===A.style.display&&(B.lv=new PopupWindow(A,C)),B.xd[B.xd.length]=[l,C,B.lv]);p||C.ui(b,!1)}function q(b){b=b.parentNode;for(var l=!1;!l;)"div"!==b.localName||b.className!==u.Yt&&b.className!==u.Zt||(l=!0),l||(b=b.parentNode);return b}function k(){var b=B.Xv(),l=b[1],e=b[2];b[0].parentNode.style.display="none";
e.An=!1;l.Ya&&(l.xb.current=l.wd(t.Ie,!0,l))}function a(b){k();b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function c(b){b=b.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();b=b.replace(/\n[ ]+/g,"\n");return b=b.replace(/\n\t+/g,"\n")}function d(b){var l=q(b).getElementsByTagName(u.Lp)[0];b=B.xd[0];l.value&&(l.innerHTML=l.value);
l=c(l);b[1].wC(b[1]);b[1].m.notification.clear(!0,!0);b[1].m.notification.clear(!1,!0);b[1].ui(l,!1)}function f(b){var l=28,e=18,p=B.Xv()[2];b.Vq.style.transform="scale("+b.lf+","+b.lf+")";b.Vq.style.transformOrigin="top left";b.resize();p.An=!0;p.UF(p);1!==b.i.jh&&(l=l*b.i.jh|0,e=e*b.i.jh|0,b.px.style.height=l+"px",b.px.style.fontSize=e+"px",b.Ky.style.height=l+"px",b.Ky.style.fontSize=e+"px",b.Fx.style.height=l+"px",b.Fx.style.fontSize=e+"px",b.Wy.style.height=l+"px",b.Wy.style.lineHeight=l+"px");
b.yc.canvas.focus();b.yc.canvas.blur();return b.Vu=!1}function n(b){var l=q(b);l=l.getElementsByTagName(u.Lp)[0];b=c(l);var e=B.Xv(),p;if(e)(p=e[2])&&p.reset(),p=e[1],p.element=l,p.wC(p);else{e=document.createElement("canvas");e.width=t.Gc;e.height=t.rm+80;e.style.display="block";var y=document.createElement("a");y.setAttribute("href","#");y.innerHTML="&nbsp;X&nbsp;";y.style.textDecoration="none";y.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";y.style.color="#FFFFFF";y.style.backgroundColor=
"#C75050";y.style.cssFloat="right";y.style.height="28px";y.style.fontSize="18px";var z=document.createElement("a");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";z.style.visibility="hidden";z.style.cssFloat="left";z.style.height="28px";z.style.fontSize="18px";var A=document.createElement("div");A.style.textAlign="center";A.style.color="rgb(83,100,130)";A.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";A.style.fontSize=
"18px";A.style.height="28px";var C=document.createTextNode("LifeViewer");A.style.cursor="default";A.appendChild(C);registerEvent(y,"click",a,!1);registerEvent(y,"touchend",a,!1);var D=document.createElement("div");D.style.display="none";D.style.position="fixed";D.style.border="1px solid rgb(128,128,128)";D.style.zIndex="101";D.style.left="2048px";D.style.top="0px";D.style.textAlign="right";D.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";D.style.margin="1px";var G=
document.createElement("div");G.className=u.Zt;G.style.backgroundColor="#FFFFFF";G.style.height="28px";G.style.lineHeight="28px";G.style.margin="0px";G.style.border="0px";G.appendChild(z);G.appendChild(y);G.appendChild(A);D.appendChild(G);D.appendChild(e);document.body.appendChild(D);h(b,e,t.Gc,!0,l);B.pB=B.xd.length-1;e=B.Xv();p=e[1];p.hw=C;p.px=y;p.Ky=z;p.Fx=A;p.Wy=G;p.Vq=D}l=e[0].parentNode;""!==l.style.display&&(l.style.display="");p.F=t.Gc;p.D=t.rm+80;p.resize();p.m.notification.clear(!0,!0);
p.m.notification.clear(!1,!0);p.Vu=!0;p.ui(b,!0);p.Vu||f(p)}function m(b,l){var e=l[0],p=l[1];l=l[2];if(b&&b.pe){if(null!==p){p=p.getElementsByTagName("a")[0];var y=document.createElement("a");y.setAttribute("href","#");y.innerHTML="Show in Viewer";registerEvent(y,"click",v,!1);p?(l=document.createTextNode(" / "),p.parentNode.appendChild(l),p.parentNode.appendChild(y)):l.parentNode.appendChild(y)}u.La&&(B.se[B.se.length]=new w(b.name,e,b.C+b.Ko,b.width,b.height))}}function r(b,l,e,p,y){l=e.create("",
b,l,m,null,[b,p,y],!1,null);e.Ju||m(l,[b,p,y])}function v(b){n(this);b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function x(){var b=document.getElementsByTagName("div"),l,e;var p=new Allocator;var y=new PatternManager;var z=document.getElementsByTagName("meta");for(l=0;l<z.length;l+=1){var A=z[l];if(A.name===u.tagName&&(u.Ly=!1,u.Jr=!1,A=A.content,(e=A.match(/\S+/g))&&2<=e.length&&6>=e.length))for(u.Yt=e[0],u.Lp=e[1],A=2;A<e.length;A+=1)switch(e[A]){case u.PJ:u.Ly=!0;break;
case u.iK:u.Jr=!0;break;case u.xK:u.La=!0;break;case u.xJ:u.fullScreen=!0;break;default:if("/"===e[A][0])u.QA=e[A];else if("."===e[A][0])u.$F=e[A];else{var C=e[A];!isNaN(parseFloat(C))&&isFinite(Number(C))&&(u.cv=parseFloat(C)|0)}}}AliasManager.cf();for(z=0;z<b.length;z+=1)(A=b[z],A.className===u.Yt)?(l=A.getElementsByTagName(u.Lp)[0],A=A.getElementsByTagName("canvas")[0],(e=l.getElementsByTagName(u.Lp)[0])&&(l=e),typedArrays&&l&&(e=c(l),u.La&&r(e,p,y,null,null),A&&A.getContext?(-1<u.cv&&l.clientHeight>
u.cv&&(l.style.height=u.cv+"px"),h(e,A,l.offsetWidth,!1,l)):u.Ly&&A&&(A.style.display="none"))):typedArrays&&A.className===u.Zt&&A.parentNode.className!==u.Yt&&(l=A.getElementsByTagName(u.Lp)[0])&&(e=c(l),r(e,p,y,A,l));b=document.getElementsByTagName("a");for(z=0;z<b.length;z+=1)p=b[z],""!==p.accessKey&&-1!==t.OH.indexOf(p.accessKey)&&(p.accessKey="")}var u={tagName:"LifeViewer",xJ:"fullscreen",PJ:"hide",xK:"multi",iK:"limit",Yt:"rle",Lp:"code",cv:37,Ly:!0,fullScreen:!1,Jr:!1,La:!1,Zt:"codebox",QA:"",
$F:"",se:[]},t={OH:"0123456789rtyopasghjklxcbn",Qk:0,gu:1,HD:2,Rp:64,JE:1,BE:1024,IE:1,AE:1024,Tu:1,Nu:100,zM:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],Ls:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],Ip:0,nF:1,oF:2,lF:3,qF:4,pF:5,rF:6,sF:7,mF:8,TE:9,JK:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),cu:15,CK:5,Qj:1E8,Us:0,SB:1,TB:2,UB:3,XB:4,YB:5,WB:6,VB:7,kF:0,Yz:1,ZE:2,hF:3,$E:4,jF:5,jA:6,Yr:7,dF:8,iF:9,fF:10,aF:11,eF:12,bF:13,cF:14,gF:15,av:3,BG:[1,
3,7,6],hf:Math.sqrt(3),tI:65536,vI:500,wI:17,VD:13750737,WD:15066597,ku:7368816,lu:5263440,iG:.016,pM:16,SE:16384,CD:.7,Yu:1E4,XL:"Script errors",Tg:-2,Rg:2,KE:2,CE:4,DD:4,EG:16.7,FE:9,xE:14,KI:13,jr:null,EE:1,vE:16,BD:3,Og:0,Pi:1,It:2,Xh:3,Iq:4,Jq:5,Kq:6,Rt:7,St:8,Jt:9,Ot:10,Nt:11,Mt:12,Pt:13,Qt:14,Lt:15,Lq:16,Kt:17,Zx:18,Pq:19,Nq:20,Qq:21,Sq:22,Rq:23,Oq:24,Hq:25,Mq:26,Yx:27,ay:28,$x:29,Xx:30,EK:0,FK:1,QJ:2,pE:3,tE:4,rE:5,iE:6,Sa:[0,6,2,5,3,4,1],kG:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),
nN:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),MK:0,LK:160,vF:10,rA:100,uF:20,uJ:18.5,jG:1E3/60,aN:!1,du:1800,lJ:"LifeViewer",cB:"LifeViewer Image",HG:"LifeViewer",ow:571,GG:"Chris Rowett",Ru:1,Lu:10,Dz:0,zp:1,Ie:2,gk:3,sm:0,yp:1,tm:2,yw:1.25,TJ:.99,Qu:0,wE:10,yn:10,uE:32,ya:.0625,Ua:64,al:-16,Yk:-1,Sg:1,pm:60,Sn:1,zg:64,ID:"Courier",oC:"Arial",dh:"18px Arial",ah:"14px Arial",Wv:"9px Arial",mt:"rgb(240,255,255)",VH:"rgb(0,0,0)",AF:"rgb(240,255,255)",BF:"rgb(0,0,0)",UC:2,Su:1,Mu:64,UH:.2,
jE:"rgb(240,255,255)",fK:"rgb(0,0,0)",eK:18,GE:4,yE:128,dK:"Arial",fp:"rgb(32,255,255)",hr:"#000000",Si:"rgb(255,96,96)",iu:"rgb(128,128,128)",qK:64,pK:64,HE:480,Gc:560,nK:4096,LJ:80,bj:240,Ou:4096,rm:480,EF:560,ct:132,zw:292,tB:0,lG:1,mG:2,oK:0,kK:16,tl:0,gE:1,dB:2,vr:3,rG:4,lD:5,PC:6,DE:7,VC:8},B={l:new Allocator,xd:[],pB:-1,lv:null,se:[],Xv:function(){var b=null;-1!==this.pB&&(b=this.xd[this.pB]);return b},BJ:function(b){var l=null;0<=b&&b<this.xd.length&&(l=this.xd[b][1]);return l},jN:function(){return this.xd.length},
YM:function(){var b=0,l;for(l=0;l<this.xd.length;l+=1){var e=this.xd[l][1];e.Ya&&(b+=1)}return b},yL:function(){var b,l=0;for(b=0;b<this.xd.length;b+=1){var e=this.xd[b][1];e.xb.current=e.wd(t.Dz,!0,e);e.m.Gg(!0);l+=1}return l},uM:function(){var b,l=0;for(b=0;b<this.xd.length;b+=1){var e=this.xd[b][1];e.Ya&&!e.tr&&(e.xb.current=e.wd(t.Ie,!0,e),l+=1)}return l},pG:function(b){var l,e=0;for(l=0;l<this.xd.length;l+=1){var p=this.xd[l][1];p!==b&&p.Ya&&!p.tr&&(p.xb.current=p.wd(t.Ie,!0,p),e+=1)}return e}};
g.prototype.At=function(){var b,l=this.Ef,e=this.og,p=[];for(b=0;10>b;b+=1){var y=b===e?"current ":"activate ";y+="clipboard";null!==l[b]?(y+=" ("+l[b].width+" x "+l[b].height+", "+l[b].count+" cell",1!==l[b].count&&(y+="s"),y+=")"):y+=" (empty)";p[b]=y}this.Fq.A=p};g.prototype.lE=function(b){window.confirm("Open last saved pattern?")&&d(b.element)};g.prototype.Rc=function(){var b=1<<t.cu,l=this.ad>>t.cu;l===this.un.length&&(this.un[l]=this.a.l.K(Int16,b,"View.currentEdit"+l));return this.un[l]};
g.prototype.Zc=function(b,l,e){var p=this.a.getState(b,l,!1),y=this.ad,z=t.cu;var A=y>>z;var C=1<<z,D=C-1,G=this.un,H=(this.a.width>>1)-(this.hb>>1),I=(this.a.height>>1)-(this.lb>>1);var E=this.a.c;var F=2<E&&!(this.a.Ja||this.a.G||this.a.ba||this.a.M),P=!1;0<p&&F&&(p=E-p);-1===E&&(E=this.a.Ia?7:2);0>e?e=0:e>=E&&(e=E-1);if(e!==p){if(!this.re){A>=G.length&&this.Rc();E=G[A];y&=D;F=e<<8|p;if(0<y)if(4<=y){var K=E[y-1];16384<=K?E[y-3]===F&&E[y-2]===l-I&&E[y-4]===b-H-(K-16384)-2&&(E[y-1]+=1,P=!0):E[y-2]===
F&&E[y-1]===l-I&&E[y-3]===b-H-1&&(E[y]=16384,y+=1,this.ad+=1,y===C&&this.Rc(),P=!0)}else A=this.ad,K=G[A-1>>z][A-1&D],16384<=K?E[A-3>>z][A-3&D]===F&&E[A-2>>z][A-2&D]===l-I&&E[A-4>>z][A-4&D]===b-H-(K-16384)-2&&(E[A-1>>z][A-1&D]+=1,P=!0):G[A-2>>z][A-2&D]===F&&G[A-1>>z][A-1&D]===l-I&&G[A-3>>z][A-3&D]===b-H-1&&(E[y]=16384,y+=1,this.ad+=1,y===C&&(E=this.Rc()),P=!0);P||(E[y]=b-H,y+=1,this.ad+=1,y===C&&(E=this.Rc(),y=0),E[y]=e<<8|p,y+=1,this.ad+=1,y===C&&(E=this.Rc(),y=0),E[y]=l-I,this.ad+=1,y+1===C&&this.Rc())}this.Ri=
-1;return this.a.pj(b,l,e,!0)}};g.prototype.nA=function(b,l){var e=0,p=(this.a.width>>1)-(this.hb>>1),y=(this.a.height>>1)-(this.lb>>1);if(b)if(l)for(e=b.length;0<e;){var z=b[e-1];16384<=z&&--e;e-=3;l=b[e]+p;var A=b[e+1]&255;var C=b[e+2]+y;this.a.pj(l,C,A,!0);if(16384<=z)for(z-=16384;0<=z;)l+=1,this.a.pj(l,C,A,!0),--z}else for(;e<b.length;)if(l=b[e]+p,A=b[e+1]>>8,C=b[e+2]+y,this.a.pj(l,C,A,!0),e+=3,z=b[e],16384<=z)for(e+=1,z-=16384;0<=z;)l+=1,this.a.pj(l,C,A,!0),--z};g.prototype.jB=function(b){for(var l=
this.rc-1,e=this.zb,p=!1;0<=l&&!p;)this.Sf[l].th<=b?("advance outside"===this.Sf[l].action&&--l,p=!0):--l;p&&(this.rc=l+1,b=this.rc>=this.Vn?this.Sf[this.rc-1]:this.Sf[this.rc],b.selection?(e.f=b.selection.f,e.g=b.selection.g,e.o=b.selection.o,e.s=b.selection.s,this.sb=!0):this.sb=!1,this.kh=!1,this.Ei())};g.prototype.Ei=function(){var b=this.rc,l=this.Vn,e=this.Sf;if(1<b){var p="undo ";var y=e[b-1];if(null===y.Dn){var z=y.th;1<b&&(z=e[b-2].th);this.a.counter===z?p+=y.action:(p=1<this.a.counter-z?
p+"play":p+"step",p+=" from "+z)}else p=""===y.action?p+"edit":p+y.action;this.yj.A=p}b<l&&(p="redo ",y=e[b],null===y.Dn?(z=y.th,z===this.a.counter?p+=y.action:(p=1<z-this.a.counter?p+"play":p+"step",p+=" to "+z)):p=""===y.action?p+"edit":p+y.action,this.fo.A=p)};g.prototype.vp=function(b){var l=this.sb?this.zb:null;return null===b&&null===l?!0:null===b&&null!==l||null!==b&&null===l?!1:b.f===l.f&&b.g===l.g&&b.o===l.o&&b.s===l.s?!0:!1};g.prototype.xl=function(b,l,e,p){var y=!1;if(0<this.rc){var z=
this.Sf[this.rc-1];z.th===b&&null===l&&""===e&&this.vp(z.selection)&&(y=!0)}y||(this.Sf[this.rc]={th:b,Dn:l,action:e,selection:p},this.rc+=1)};g.prototype.pb=function(b){var l=this.a.counter,e=null,p=null,y=this.zb,z=null,A=t.cu,C=1<<A,D=C-1;A=this.ad>>A;if(!this.re){this.Ya&&(0<this.rc&&(z=this.Sf[this.rc-1]),z&&z.selection&&(p=new BoundingBox(z.selection.f,z.selection.g,z.selection.o,z.selection.s)),this.xl(l,e,"",p),p=null);this.sb&&(p=new BoundingBox(y.f,y.g,y.o,y.s));if(0<this.ad){e=this.a.l.K(Int16,
this.ad,"View.editCells"+this.rc);for(z=y=0;y<A;)e.set(this.un[y].slice(),z),y+=1,z+=C;this.ad&D&&e.set(this.un[y].slice(0,this.ad&D),z);this.ad=0}this.xl(l,e,b,p);this.Vn=this.rc;this.Ei()}};g.prototype.iC=function(b){var l=b.a.counter,e=b.rc,p=b.zb,y=1,z=!1;if(!b.re){this.Ya&&(b.xb.current=b.wd(t.Ie,!0,b),e=b.rc);if(0<e)for(;0<y;){var A=b.Sf[e-1];var C=A.th;var D=A.selection;z||"advance outside"!==A.action||(z=!0,y=3);null===A.Dn&&1<e&&(C=b.Sf[e-2].th);1<e&&(D=b.Sf[e-2].selection);C<l?(0===C?b.reset(b):
b.vs(C),l=b.a.counter):b.nA(A.Dn,!0);D?(p.f=D.f,p.g=D.g,p.o=D.o,p.s=D.s,b.sb=!0):b.sb=!1;b.kh=!1;"reverse playback"===A.action&&(b.a.Yc=!0);--e;b.rc=e;--y}else 0<l&&b.reset(b);this.Ei();this.a.Zh();this.a.Ia&&this.a.co()}};g.prototype.OA=function(b){var l=b.a.counter,e=b.zb,p=1,y=!1;if(!b.re){for(;0<p&&b.rc<b.Vn;){var z=b.Sf[b.rc];y||"advance outside"!==z.action||(y=!0,p=3);z.th===l&&null===z.Dn&&""===z.action&&(b.rc+=1);z.th>l?(b.RL(z.th),l=b.a.counter):b.nA(z.Dn,!1);z.selection?(e.f=z.selection.f,
e.g=z.selection.g,e.o=z.selection.o,e.s=z.selection.s,b.sb=!0):b.sb=!1;b.kh=!1;"reverse playback"===z.action&&(b.a.Yc=!0);b.rc+=1;--p}this.Ei();this.a.Zh();this.a.Ia&&this.a.co()}};g.prototype.zl=function(b,l,e,p){var y=[],z,A=this.a.c,C=this.qa[p];p=C[0];var D=C[1],G=C[2];C=C[3];var H=new Pattern("rleToCellList",this.v),I=2<A&&!(this.a.Ja||this.a.G||this.a.ba||this.a.M);b+=" ";if(-1!==this.v.Qo(H,b,!1,this.a.l)){if(-1!==this.v.Qo(H,b,!0,this.a.l))for(z=0;z<H.height;z+=1){var E=H.Vg[z];for(b=0;b<
H.width;b+=1){var F=E[b];I&&0<F&&(F=A-F);y[y.length]=l+b*p+z*D;y[y.length]=e+b*G+z*C;y[y.length]=F}}}else y[0]="error";return y};g.prototype.aw=function(b){var l=0,e=b.indexOf("["),p=b.indexOf("]");if(-1!==e&&-1!==p&&e<p&&p===b.length-1){for(e+=1;e<p&&0<=l;){var y=b.charCodeAt(e)-48;0>y||9<y?l=-1:(l=10*l+y,e+=1)}0<l&&(this.Cu=!0)}return l};g.prototype.lI=function(b){var l=0>this.xm?-this.xm:this.xm,e=0>this.Am?-this.Am:this.Am;l=2*(l<e?e:l);b<l&&(b=l);return b};g.prototype.kI=function(b){var l=0>
this.wm?-this.wm:this.wm,e=0>this.Bm?-this.Bm:this.Bm;l=2*(l<e?e:l);b<l&&(b=l);return b};g.prototype.HH=function(b,l){var e,p=!1;for(e=0;!p&&e<this.nk.length;)b===this.nk[e].name?p=!0:e+=1;if(p)for(b=this.nk[e].NI,e=0;e<b.length;e+=1)l[l.length]=b[e];return p};g.prototype.DH=function(b,l,e){var p,y=!1;if(ScriptParser.On(l))b[b.length]=[Keywords.Up+" "+l,"name is reserved word"];else{for(p=0;!y&&p<this.nk.length;)l===this.nk[p].name?y=!0:p+=1;if(y)b[b.length]=[Keywords.Up+" "+l,"name already defined"];
else{y=!1;for(p=0;!y&&p<e.length;)1>e[p]?y=!0:p+=1;y?b[b.length]=[Keywords.Up+" "+l+" "+e[p],"invalid delta"]:(b=e.slice(),this.nk[this.nk.length]={name:l,NI:b})}}};g.prototype.CH=function(b,l,e,p,y,z){var A,C=!1;if(ScriptParser.On(l))b[b.length]=[Keywords.jo+" "+l,"name is reserved word"];else if(-1!==l.indexOf("["))b[b.length]=[Keywords.jo+" "+l,"name can not contain ["];else{for(A=0;!C&&A<this.kj.length;)l===this.kj[A].name?C=!0:A+=1;C?b[b.length]=[Keywords.jo+" "+l,"name already defined"]:(e=
this.zl(e,p,y,z),"error"!==e[0]?this.kj[this.kj.length]={name:l,cells:e}:b[b.length]=[Keywords.jo+" "+l,"invalid RLE"])}};g.prototype.GH=function(b,l,e,p,y,z,A,C,D,G,H){var I=0,E=!1,F=[],P=this.qa[H],K=P[0],Q=P[1],J=P[2],W=P[3];P=t.Qj;var Z=-t.Qj,T=t.Qj,M=-t.Qj,fa=C.indexOf("["),X=C,ia=0,ma=[];-1!==fa&&(X=C.substr(0,fa),ia=this.aw(C));for(;I<this.kj.length&&!E;)this.kj[I].name===X?(E=!0,F=this.kj[I].cells.slice()):I+=1;if(E)for(I=0;I<F.length;)C=F[I],H=F[I+1],F[I]=D+C*K+H*Q,F[I+1]=G+C*J+H*W,I+=3;
else F=this.zl(C,D,G,H),"error"!==F[0]&&(E=!0);-1===ia&&(E=!1);if(E&&0<F.length){for(I=0;I<F.length;)D=F[I],G=F[I+1],D<P&&(P=D),D>Z&&(Z=D),G<T&&(T=G),G>M&&(M=G),I+=3;D<this.xm&&(this.xm=D);D>this.Am&&(this.Am=D);G<this.wm&&(this.wm=G);G>this.Bm&&(this.Bm=G);K=Array.da(Uint8,M-T+1,Z-P+1,0,this.a.l,"View.rle"+this.Cg.length);for(I=0;I<F.length;)D=F[I],G=F[I+1],K[G-T][D-P]=F[I+2],I+=3;ma[0]=b;for(I=0;I<e.length;I+=1)ma[ma.length]=ma[ma.length-1]+e[I];this.Cg[this.Cg.length]={bi:ma,end:l,every:p,mode:y,
cells:F,map:K,f:P,g:T,width:Z-P+1,height:M-T+1,jJ:ia,deltaX:z,deltaY:A};0<p&&(this.bk=!0);ma[ma.length-1]>this.$k&&(this.$k=ma[ma.length-1])}return E};g.prototype.$K=function(){var b,l,e=this.a.width,p,y=this.a.J;for(b=0;b<this.Cg.length;b+=1){var z=this.Cg[b];var A=z.jJ;if(0<A){var C=z.cells;var D=(e>>1)-(z.width>>1);var G=(e>>1)-(z.height>>1);var H=0;y.f=D;y.o=D+z.width-1;y.g=G;y.s=G+z.height-1;for(this.a.counter=0;H<C.length;)this.a.pj(D+C[H]-z.f,G+C[H+1]-z.g,C[H+2],!0),H+=3;for(;0<A;)this.a.ef(!1,
!0,!0,this.Xb),this.a.$e(),--A;C=[];H=0;var I=p=t.Qj;for(l=y.g;l<=y.s;l+=1)for(A=y.f;A<=y.o;A+=1){var E=this.a.getState(A,l,!1);0!==E&&(C[H]=A-D+z.f,C[H+1]=l-G+z.g,C[H+2]=E,C[H]<p&&(p=C[H]),C[H+1]<I&&(I=C[H+1]),H+=3)}z.cells=C.slice();z.width=y.o-y.f+1;z.height=y.s-y.g+1;z.g=I;z.f=p;z.map=Array.da(Uint8,z.height,z.width,0,this.a.l,"View.rle"+b);for(H=0;H<C.length;)A=C[H],l=C[H+1],z.map[l-z.g][A-z.f]=C[H+2],H+=3;this.a.Cq(!1)}}this.Cu&&this.a.Cq(!1)};g.prototype.yl=function(b){var l=!1,e=this.a.counter;
var p=!1;if(this.a.ha||this.a.G)e=this.a.Of;0!==b.every&&(this.a.ha||this.a.G)&&null!==this.a.Ec&&e<this.a.$i&&(l=!1,p=!0);if(!p)if(0!==b.every&&e>=b.bi[0]&&0===(e-b.bi[0])%b.every)-1!==b.end&&e>b.end||(l=!0);else for(p=0;p<b.bi.length&&!l;)e===b.bi[p]?l=!0:p+=1;return l};g.prototype.PH=function(){for(var b=!1,l=0,e=this.Cg.length;l<e&&!b;)b=this.yl(this.Cg[l]),l+=1;return b};g.prototype.cj=function(){var b,l=this.a.counter;var e=0;var p=this.a.width,y=this.a.c-1;-2==y&&(y=this.a.Ia?6:1);for(b=0;b<
this.Cg.length;b+=1){var z=this.Cg[b];if(this.yl(z)){var A=z.mode;var C=(p>>1)-(this.hb>>1);var D=(p>>1)-(this.lb>>1);var G=z.map;if(0!==z.every&&(0!==z.deltaX||0!==z.deltaY)){var H=(l-z.bi[0])/z.every;C+=z.deltaX*H;D+=z.deltaY*H}C+=z.f;D+=z.g;for(z=0;z<G.length;z+=1){var I=G[z];if(this.a.G||this.a.ba)for(H=0;H<I.length;H+=1){var E=I[H];var F=this.a.getState(C+H,D+z,!1);switch(A){case t.kF:e=0;break;case t.Yz:e=E&F;break;case t.ZE:e=E&y-F;break;case t.hF:e=E;break;case t.$E:e=y-E&F;break;case t.jF:e=
F;break;case t.jA:e=E^F;break;case t.Yr:e=E|F;break;case t.dF:e=y-(E|F);break;case t.iF:e=y-(E^F);break;case t.fF:e=y-F;break;case t.aF:e=E|y-F;break;case t.eF:e=y-E;break;case t.bF:e=y-E|F;break;case t.cF:e=y-(E&F);break;case t.gF:e=1}0>e?e=0:e>=y&&(e=y-1);this.a.pj(C+H,D+z,e,!0)}else if(this.a.Ia)for(H=0;H<I.length;H+=1)E=I[H],A===t.av?e=E:(e=E&1,F=this.a.getState(C+H,D+z,!1),F&=1,e=0===(A&8>>(e+e|F))?0:1),this.a.pj(C+H,D+z,e,!0);else for(H=0;H<I.length;H+=1)E=I[H],e=0===E?0:1,F=this.a.getState(C+
H,D+z,!1),F=0===F?0:1,e=0===(A&8>>(e+e|F))?0:1,this.a.pj(C+H,D+z,e,!0)}}}if(this.bk||l<=this.$k)this.a.Z=1;this.YE()};g.prototype.YE=function(){var b,l=this.a.counter;for(b=0;b<this.rc;b+=1)this.Sf[b].th===l&&this.nA(this.Sf[b].Dn,!1);this.a.Zh()};g.prototype.Al=function(b){this.Ln=this.km=this.yr=this.Ar=this.Xk=this.zr=this.xr=this.wr=this.Mn=this.Cr=this.Br=b};g.prototype.fI=function(){this.Al(!1)};g.prototype.bM=function(){this.Al(!0)};g.prototype.hD=function(){this.pu=[];this.qu=[]};g.prototype.bI=
function(b){var l=b.Uc.toDataURL("image/png"),e;(e=document.getElementById("screenshot"))?e.src=l:(e=window.open("",t.cB))?(e.width=b.F+20,e.height=b.D+20,e.document.open(),e.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+t.cB+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+b.F+'" height="'+b.D+'" src="'+l+'" alt="'+t.cB+'"/>\n\t</body>\n</html>\n'),e.document.close(),b.m.notification.notify("Image Captured",15,300,15,!0)):b.m.notification.notify("Could not open Image window!",
15,t.du,15,!0)};g.prototype.rI=function(b){var l=this.a.Za,e=this.a.X,p=this.a.Fa,y=this.a.Yb,z=b.width,A=b.height,C=this.Oc,D=this.Pc,G=this.a.Ab,H=this.a.Ab>>4,I=this.a.Cb,E=null,F=z,P=A;var K=Math.round(-this.a.wa/2);var Q=Math.floor((this.a.wa-1)/2);var J=Math.round(-this.a.ta/2);var W=Math.floor((this.a.ta-1)/2);var Z=C-(this.a.width>>1);var T=Z+z-1;var M=D-(this.a.height>>1),fa=M+A-1;A=this.a.c;var X=!0;z=2===A&&this.a.oa;-1!==this.a.ua&&(0!==this.a.wa&&(Z<K||T>Q)&&(X=!1),0!==this.a.ta&&(M<
J||fa>W)&&(X=!1),X||(this.AC=!0,0!==this.a.wa?(C=Math.round(this.a.width/2)+K,F>Q-K+1&&(F=Q-K+1)):C=Math.round(this.a.width/2),0!==this.a.ta?(D=Math.round(this.a.height/2)+J,P>W-J+1&&(P=W-J+1)):D=Math.round(this.a.height/2)));b.P&&(0!==(C&1)&&(C+=1),0!==(D&1)&&(D+=1));b.ha&&(0===(C&1)&&--C,0===(D&1)&&--D);for(Q=0;Q<P;Q+=1){Z=b.pe[Q];T=l[Q+D&I];if(this.fd||this.a.G||this.a.ba||this.a.M)for(J=b.Vg[Q],E=e[Q+D&I],K=0;K<F;K+=1)W=J[K],0<W&&(W+=this.L),E[K+C&G]=W;else if(2<A)for(J=b.Vg[Q],E=e[Q+D&I],K=0;K<
F;K+=1)W=J[K],0<W&&!this.a.Ja&&(W=A+this.L-W),E[K+C&G]=W;z&&(E=e[Q+D&I]);for(K=0;K<F;K+=1)0!==(Z[K>>4]&1<<(~K&15))&&(T[K+C>>4&H]|=1<<(~(K+C)&15),z&&(E[K+C&G]=LifeConstants.vb))}if(y)for(Q=0;Q<P;Q+=1)for(J=b.Vg[Q],l=y[Q+D&I],K=0;K<F;K+=1)(W=J[K])&&(l[K+C&G]=t.Sa[W]+128);(this.a.G||this.a.ba||this.a.M)&&p.eb.set(e.eb)};g.prototype.fu=function(){var b=!1;-1!==this.a.ua&&0!==this.a.wa&&0!==this.a.ta&&(b=!0);return b};g.prototype.sw=function(){var b=!1;-1===this.a.ua||0!==this.a.wa&&0!==this.a.ta||(b=
!0);return b};g.prototype.pw=function(b,l,e){b=b[0];l&&(e.nd=b);return[b,100*b]};g.prototype.uC=function(b,l,e){l&&(e.Dg=b[0]);return[e.Dg,t.JK[e.Dg+.5|0]]};g.prototype.GI=function(b){b.Ma||(b.Dg=(b.Dg+.5|0)+1,b.Dg>=t.TE&&(b.Dg=0),b.ao.current=b.uC([b.Dg,b.Dg],!0,b))};g.prototype.VG=function(b,l,e){l&&(e.ij=b[0],e.ij<t.Tu&&(e.ij=t.Tu),e.ij>t.Nu&&(e.ij=t.Nu));return[e.ij,e.ij]};g.prototype.nn=function(b,l,e){l&&(e.bh=(e.a.c-e.li)*b[0]|0);b[1]=e.bh+"-"+(e.bh+e.li-1);return b};g.prototype.Dk=function(b,
l,e){var p=b[0],y=0;l?(e.yg=!0,e.a.zoom=t.ya*Math.pow(t.Ua/t.ya,b[0])/e.a.sc):(p=Math.log(e.a.zoom*e.a.sc/t.ya)/Math.log(t.Ua/t.ya),0>p?p=0:1<p&&(p=1));this.ae&&!this.jf?y=e.a.zoom*e.a.sc:y=e.a.zoom;y<t.ya?y=t.ya:y>t.Ua&&(y=t.Ua);1>y&&(y=-1/y);return[p,y]};g.prototype.WH=function(b){var l=b/6E4|0;b=b%6E4/1E3;var e="";0<l&&(e=l+":",10>b&&(e+="0"));return e+=b.toFixed(2)};g.prototype.Pg=function(b,l,e){var p=this.a.zoom,y=this.a.za,z=this.a.sa,A=6,C=this.qm,D=this.zb;var G=(this.a.width>>1)-(this.hb>>
1)+(this.Gb<<1);var H=(this.a.height>>1)-(this.lb>>1)+(this.Hb<<1);e===t.gu&&(C.f=D.f+G,C.o=D.o+G,C.f>C.o&&(G=C.o,C.o=C.f,C.f=G),C.g=D.g+H,C.s=D.s+H,C.g>C.s&&(G=C.s,C.s=C.g,C.g=G));this.mb?(e=this.a.Pg(e,C,this.rb,this.F*this.ye,this.D*this.ye,t.ya,t.Ua,t.yw,this.hb,this.lb,this.Ma&&this.fd,this.gi,this.vi,this.uc),e[0]/=this.ye):(D=t.LJ,this.Nc&&(D=0),e=this.a.Pg(e,C,this.rb,this.F,this.D-D,t.ya,t.Ua,t.yw,this.hb,this.lb,this.Ma&&this.fd,this.gi,this.vi,this.uc));this.uc&&!b?(24<this.a.zoom&&(A=
3),1<this.Ba&&(A=1),this.a.zoom=(this.a.zoom*(A-1)+e[0])/A,this.a.za=(this.a.za*(A-1)+e[1])/A,this.a.sa=(this.a.sa*(A-1)+e[2])/A,b=this.a.zoom>p?this.a.zoom/p-1:p/this.a.zoom-1,y=this.a.za>y?this.a.za-y:y-this.a.za,z=this.a.sa>z?this.a.sa-z:z-this.a.sa,this.gn=b,y>this.gn&&(this.gn=y),z>this.gn&&(this.gn=z),.01>=this.gn&&(this.a.zoom=e[0],this.a.za=e[1],this.a.sa=e[2])):(this.Sm=this.a.width/2-this.a.za,this.Tm=this.a.height/2-this.a.sa,this.qo=this.a.zoom,this.Rm=this.a.angle,this.Ok=this.a.width/
2-e[1],this.Gn=this.a.height/2-e[2],this.bm=e[0],this.Uo=this.Rm,this.Is=WaypointConstants.Np,l?this.fh=0:(this.fh=WaypointConstants.Np,this.jC()));this.tc&&(this.tc.current=this.Dk([this.a.zoom,this.a.zoom],!1,this));this.Bd&&(this.Bd.current=this.Zs([this.a.angle,this.a.angle],!1,this))};g.prototype.mI=function(b,l){-1!==this.a.ua&&this.Xg?(this.Oc=(this.a.width>>1)+this.Gb,this.Pc=(this.a.height>>1)+this.Hb):(this.Oc=Math.round((this.a.width-b)/2)+this.Gb,this.Pc=Math.round((this.a.height-l)/2)+
this.Hb);!this.Ma&&this.a.Ia||!this.v.$j||-1===this.a.c||(this.Ma=this.fd=!0)};g.prototype.As=function(b){var l=b;0>b&&(b=-b);var e=b+String();1E9<=b?e="1B+":1E8<=b?e=(b/1E6|0)+"M":1E7<=b?e=(Math.floor(Number(b/1E5))/10).toFixed(1)+"M":1E6<=b?e=(Math.floor(Number(b/1E4))/100).toFixed(2)+"M":1E5<=b&&(e=(b/1E3|0)+"K");0>l&&(e="-"+e);return e};g.prototype.tq=function(b,l){var e=this.m.bl,p=this.m.cl;l=b+l;var y=-this.a.angle,z=Math.sin(y/180*Math.PI);y=Math.cos(y/180*Math.PI);0>l?l=0:1<l&&(l=1);b=t.ya*
Math.pow(t.Ua/t.ya,b);l=t.ya*Math.pow(t.Ua/t.ya,l);l<t.ya?l=t.ya:l>t.Ua&&(l=t.Ua);e-=this.F/2;p-=this.D/2;e=(e-l/b*e)/l;b=(p-l/b*p)/l;this.a.za-=e*y+b*-z;this.a.sa-=e*z+b*y;l=Math.log(l/t.ya)/Math.log(t.Ua/t.ya);this.tc.current=this.Dk([l,l],!0,this)};g.prototype.Gx=function(b,l){var e=t.zg;b.a.oa&&(e=4*b.a.Qa.Nh+1,-1!==b.a.ua&&(e+=2*b.a.Qa.Nh),b.a.Qa.type===this.v.kf&&(e=-1!==b.a.ua?e+b.a.ta/2:e+(b.a.J.s-b.a.J.g+1)/2),e<t.zg&&(e=t.zg));for(;b.a.dI(l,e);)b.Fe+=b.a.width>>2,b.Qi+=b.a.height>>2,b.Le+=
b.a.width>>2,b.oj+=b.a.height>>2,b.a.O&&(b.Fe-=b.a.height>>3,b.Le-=b.a.height>>3),b.Oc+=b.a.width>>2,b.Pc+=b.a.height>>2,l.f+=b.a.width>>2,l.o+=b.a.width>>2,l.g+=b.a.height>>2,l.s+=b.a.height>>2};g.prototype.gD=function(b){var l=!1,e=b.zb,p=b.qm,y=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),z=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);p.f=e.f+y;p.g=e.g+z;p.o=e.o+y;p.s=e.s+z;b.Gx(b,p);y=(b.a.width>>1)-(b.hb>>1);z=(b.a.height>>1)-(b.lb>>1);0>e.f+y&&(e.f=-y,l=!0);e.f+y>=b.a.width&&(e.f=b.a.width-1-y,l=!0);0>e.o+y&&
(e.o=-y,l=!0);e.o+y>=b.a.width&&(e.o=b.a.width-1-y,l=!0);0>e.g+z&&(e.g=-z,l=!0);e.g+z>=b.a.height&&(e.g=b.a.height-1-z,l=!0);0>e.s+z&&(e.s=-z,l=!0);e.s+z>=b.a.height&&(e.s=b.a.height-1-z,l=!0);return l};g.prototype.KM=function(b){b.Zg.current=b.yk/b.uo*100;b.Zg.h=!1;b.bf.Ce=0};g.prototype.LM=function(b,l){b.Zg.current=b.a.counter/l*100;b.Zg.h=!1;b.bf.Ce=0};g.prototype.JM=function(b){var l=!1,e=!1,p=0;b.Lc||-1===b.bb||(l=!0);!b.ze&&b.Qc&&(e=!0);if(l||e){var y=!1;if(e&&l)p=b.elapsedTime/b.T.hJ(b.bb);
else if(e){if(l=b.T.gK().vd)p=b.elapsedTime/l,1<p&&(y=!0)}else 0<b.bb&&(p=b.a.counter/b.bb);1<p&&(p=1);b.Zg.current=100*p}else y=!0;(b.Zg.h=y)?b.bf.Ce=b.i.Ce:b.bf.Ce=0};g.prototype.bJ=function(){this.ol.yI(this.a.width/2-this.a.je,this.a.height/2-this.a.ke,this.a.ia,this.a.kb,this.a.F,this.a.D,this.a.Wd,this.a.te[0])};g.prototype.LF=function(){var b=this.i.df-this.F/2,l=this.i.Ag-this.D/2,e=this.Pc-this.a.sa,p=this.Oc-this.a.za-(this.a.O?this.a.sa/2:0),y=this.a.zoom;var z=this.a.zoom*(this.a.P?t.hf:
1);var A=-1;-1!==this.i.df&&(0!==this.a.kb&&(A=Math.sqrt(b*b+l*l),l=180/Math.PI*Math.atan2(l,b),l-=this.a.kb,b=A*Math.cos(Math.PI/180*l),l=A*Math.sin(Math.PI/180*l)),z=l/z-e+this.a.Sb,b=b/y+(this.a.O?e/2+z/2:0)-p+this.a.Vb,this.a.P&&(b-=this.a.zoom/32*.2),p=b-Math.floor(b),e=z-Math.floor(z),b-=p,z-=e,this.a.P&&(0===(b+this.Oc+z+this.Pc&1)?1<p+e&&(b+=1):1>1-p+e&&(b+=1)),A=this.a.getState(b+this.Oc,z+this.Pc,this.fd&&this.Ma));return A};g.prototype.lw=function(b,l){var e=b-this.F/2,p=l-this.D/2;l=this.Pc-
this.a.sa;var y=this.Oc-this.a.za-(this.a.O?this.a.sa/2:0),z=0,A=0,C=0,D=0,G=this.a.zoom,H=this.a.zoom*(this.a.P?t.hf:1);-1!==b&&(0!==this.a.kb&&(b=Math.sqrt(e*e+p*p),p=180/Math.PI*Math.atan2(p,e),p-=this.a.kb,e=b*Math.cos(Math.PI/180*p),p=b*Math.sin(Math.PI/180*p)),z=p/H-l+this.a.Sb,A=e/G+(this.a.O?l/2+z/2:0)-y+this.a.Vb,this.a.P&&(A-=this.a.zoom/32*.2),D=A-Math.floor(A),C=z-Math.floor(z),A-=D,z-=C);this.a.P&&(0===(A+this.Oc+z+this.Pc&1)?1<D+C&&(A+=1):1>1-D+C&&(A+=1));this.Uj=A+this.Oc;this.Vj=z+
this.Pc};g.prototype.pv=function(b,l,e,p,y){var z=Math.abs(e-b),A=Math.abs(p-l),C=b<e?1:-1,D=l<p?1:-1,G=z-A,H=this.a.width,I=this.a.height,E;for(E=0|this.Zc(b,l,y);H!==this.a.width;)H<<=1,I<<=1,b+=H>>2,l+=H>>2,e+=H>>2,p+=H>>2,this.Fe+=H>>2,this.Qi+=I>>2,this.Le+=H>>2,this.oj+=I>>2,this.a.O&&(this.Fe-=I>>3,this.Le-=I>>3),this.Oc+=H>>2,this.Pc+=I>>2;for(;b!==e||l!==p;){var F=G+G;F>-A&&(G-=A,b+=C);F<z&&(G+=z,l+=D);for(E|=this.Zc(b,l,y);H!==this.a.width;)H<<=1,I<<=1,b+=H>>2,l+=H>>2,e+=H>>2,p+=H>>2,this.Fe+=
H>>2,this.Qi+=I>>2,this.Le+=H>>2,this.oj+=I>>2,this.a.O&&(this.Fe-=I>>3,this.Le-=I>>3),this.Oc+=H>>2,this.Pc+=I>>2}return E};g.prototype.fM=function(){var b=170,l=this.sf.PA,e=this.sf.Im,p=this.sr.Im;this.lr.setPosition(Menu.la,0,b-48);this.xh.mM(b-48);this.sf.setPosition(Menu.la,e,b);this.sr.setPosition(Menu.la,p,b);b+=l;this.Hi.setPosition(Menu.la,e,b);this.mr.setPosition(Menu.la,p,b);b+=l;"Oscillator"!==this.yb||this.$f||(this.Cj.setPosition(Menu.la,e,b),this.kr.setPosition(Menu.la,p,b),b+=l);
this.Gi.setPosition(Menu.la,e,b);this.vu.setPosition(Menu.la,p,b);b+=l;"Spaceship"!==this.yb||this.a.O||this.a.P||(this.Dj.setPosition(Menu.la,e,b),this.wu.setPosition(Menu.la,p,b),b+=l);"Still Life"!==this.yb&&(this.Gj.setPosition(Menu.la,e,b),this.yu.setPosition(Menu.la,p,b),b+=l,this.$f||this.a.O||this.a.P||(this.Fj.setPosition(Menu.la,e,b),this.xu.setPosition(Menu.la,p,b),b+=l));"Spaceship"===this.yb&&(this.a.O||this.a.P||(this.Hj.setPosition(Menu.la,e,b),this.zu.setPosition(Menu.la,p,b),b+=l),
this.Ij.setPosition(Menu.la,e,b),this.qr.setPosition(Menu.la,p,b),b+=l);"Still Life"!==this.yb&&(this.Ej.setPosition(Menu.la,e,b),this.pr.setPosition(Menu.la,p,b),b+=l);"Oscillator"!==this.yb||this.$f||(this.Jj.setPosition(Menu.la,e,b),this.rr.setPosition(Menu.la,p,b),b+=l,this.Kj.setPosition(Menu.la,e,b),this.Sy.setPosition(Menu.la,p,b))};g.prototype.NM=function(b){var l=0;this.Sd[this.Ad]=b;this.Ad+=1;this.Ad>=t.CK&&(this.Ad=0);for(b=0;b<this.Sd.length;b+=1)l+=this.Sd[b];l/=this.Sd.length;this.Rd.Va=
String(Math.round(l));this.Rd.h=!1};g.prototype.Kx=function(){var b;for(b=0;b<this.Sd.length;b+=1)this.Sd[b]=0;this.Ad=0;this.Rd.h=!0};g.prototype.lM=function(){var b=this.i.df-this.F/2,l=this.i.Ag-this.D/2,e=this.Pc-this.a.sa,p=this.Oc-this.a.za-(this.a.O?this.a.sa/2:0),y=this.a.zoom,z=this.a.zoom*(this.a.P?t.hf:1);var A=9999<this.a.ga?99999:9999;if(-1===this.i.df)this.Aj.Va="",this.Aj.h=!this.eh;else{if(0!==this.a.kb){var C=Math.sqrt(b*b+l*l);l=180/Math.PI*Math.atan2(l,b);l-=this.a.kb;b=C*Math.cos(Math.PI/
180*l);l=C*Math.sin(Math.PI/180*l)}z=l/z-e+this.a.Sb;b=b/y+(this.a.O?e/2+z/2:0)-p+this.a.Vb;this.a.P&&(b-=this.a.zoom/32*.2);p=b-Math.floor(b);e=z-Math.floor(z);b-=p;z-=e;this.a.P&&(0===(b+this.Oc+z+this.Pc&1)?1<p+e&&(b+=1):1>1-p+e&&(b+=1));e=this.a.getState(b+this.Oc,z+this.Pc,this.fd&&this.Ma);b+=this.Gb;z+=this.Hb;-1===this.a.ua||this.Xg||(b-=Math.floor((-1===this.wk?this.hb:this.wk)/2),z-=Math.floor((-1===this.vk?this.lb:this.vk)/2));b=b<-A||b>A?Number(b/1E3).toFixed(1)+"K":String(b);A=z<-A||
z>A?Number(z/1E3).toFixed(1)+"K":String(z);this.Aj.Va=b+","+A+"="+e;this.Aj.h=!1}this.Aj.enabled=this.eh||!this.Ya&&-1!==this.i.df?this.ja||this.dc||0===this.hb?!1:!0:!1;this.sb||this.Zj?(this.Km.enabled=!0,b=this.zb.o>this.zb.f?this.zb.o-this.zb.f+1:this.zb.f-this.zb.o+1,z=this.zb.s>this.zb.g?this.zb.s-this.zb.g+1:this.zb.g-this.zb.s+1,this.Km.Va=b+" x "+z):this.Km.enabled=!1};g.prototype.fL=function(b){if(!this.Nc&&!this.mb)if(0<this.ja)0<b?this.Rv(this,b/125*3):this.Qv(this,-b/125*3);else if(0<
this.dc)0<b?this.Pv(this,b/125*3):this.Ov(this,-b/125*3);else if(!this.Cd){var l=this.tc.current[0];this.tq(l,b/125*.05)}};g.prototype.EM=function(b){var l=b.a.counter,e=" ";if(b.a.ha||b.a.G)l=b.a.Of;b.Sk?(0>l&&(e=""),b.bf.lower[0]="+"+e+b.As(l),b.bf.A=["toggle generation statistics\ngeneration +"+l]):(0>l+b.ci&&(e=""),b.bf.lower[0]="T"+e+b.As(l+b.ci),b.bf.A=["toggle generation statistics\ngeneration "+(l+b.ci)]);b.a.ha?(b.Wf.Va=b.a.counter,b.Wf.A="absolute generation "+b.a.counter):b.Sk?(1E9<=l?
b.Wf.Va="1B+":b.Wf.Va=l,b.Wf.Va=l,b.Wf.A="generation "+l):(l+=b.ci,1E9<=l?b.Wf.Va="1B+":b.Wf.Va=l,b.Wf.A="absolute generation "+l);b.Hn.A=b.Wf.A};g.prototype.XM=function(b,l){var e=l.T.current;var p=!1,y=!1,z=!1,A=!1,C=!1,D,G=l.a.J,H=new BoundingBox(G.f,G.g,G.o,G.s);l.Cd=!1;l.az&&(l.az=!1,b=0);l.Ma||l.JM(l);l.Ba=l.Nd.current[0];l.Ya?(b>t.uJ&&(y=!0),b>t.jG&&(b=t.jG),!l.Ya||l.Qc&&!l.ze||(l.ag+=l.Ba*l.rg*b/1E3,l.rb+=l.rg*b/1E3,(l.rb|0)>l.a.counter?(l.rb+=l.Ba-1,l.ni=!0):l.elapsedTime+=b)):l.ni&&(C=!0,
l.rb=l.nB?l.a.counter+1:l.a.counter+l.Ba,l.ag=l.rb);l.kC();l.Qc&&!l.ze&&l.Ya?(l.T.fr&&(l.yg&&!l.T.WC(l.elapsedTime+b)&&(l.yg=!1,l.elapsedTime=l.T.FI(l.a.width/2-l.a.za,l.a.height/2-l.a.sa,l.a.zoom,l.a.angle,l.a.R,l.a.oe*t.yn,l.a.yf,l.rg,l.Ba,l.a.counter,l.elapsedTime)),e.af&&(l.Pg(!0,!1,t.Qk),l.yg=!1,e.x=l.a.width/2-l.a.za,e.y=l.a.height/2-l.a.sa,l.mb&&(l.a.zoom*=l.ye),e.zoom=l.a.zoom)),(z=l.T.update(l,l.elapsedTime+b,l.a.counter))?(e.af&&(e.af=!1,l.mb&&(l.a.zoom=e.zoom/l.ye),l.tc&&(l.tc.current=
l.Dk([l.a.zoom,l.a.zoom],!1,l))),l.rb+=l.rg*b/1E3,(l.rb|0)>l.a.counter&&(l.rb+=l.Ba-1,l.ni=!0)):(l.T.fr&&(l.Ya&&(l.Cd=!0),l.a.za=l.a.width/2-e.x,l.a.sa=l.a.height/2-e.y,l.a.zoom=e.zoom,l.mb&&(l.a.zoom=l.a.zoom/l.ye),l.tc&&(l.tc.current=l.Dk([l.a.zoom,l.a.zoom],!1,l)),l.a.angle=e.angle,l.Bd&&(l.Bd.current=[l.a.angle,l.a.angle]),l.a.R=e.R,l.Yd&&(l.Yd.current=[l.a.R,l.a.R]),l.a.oe=e.depth/t.yn+t.Qu,l.bd&&(l.bd.current=[Math.sqrt(l.a.oe),l.a.oe*t.yn])),l.rg=e.xc,l.ec&&(l.ec.current=[Math.sqrt((e.xc-t.Sg)/
(t.pm-t.Sg)),l.MD(e.xc)]),l.Ba=e.step,l.Nd.current=[l.Ba,l.Ba],e.mc>l.a.counter?(l.ni=!0,l.rb=e.mc):l.ni=!1,e.Kf!==l.Ir&&(""===e.Kf?l.m.notification.clear(!1,!1):l.m.notification.notify(ScriptParser.iq(this,e.Kf),15,21600,15,!1),l.Ir=e.Kf),e.Ac!==l.pz&&(l.Mm(e.Ac,l.a.Rl,l),l.pz=e.Ac)),l.ni||(l.elapsedTime+=b)):l.uc&&l.Ya&&(l.Cd=!0);l.Cd&&(l.fh=-1);e=0;if(l.ni){if(l.a.Z){var I=performance.now();var E=(l.rb|0)-l.a.counter;for(D=0;!A&&l.a.counter<(l.rb|0);){e=performance.now()-I;if(l.a.counter===l.Wb-
1&&!l.Oe||e>t.EG&&!C)l.a.counter!==l.Wb-1||l.Oe?A=l.Ol:A=!0;l.a.Yc&&l.pb("reverse playback");H.set(G);l.eh&&(l.a.counter===(l.rb|0)-1||A)?l.a.ef(!0,l.re,l.Kc,l.Xb):l.a.ef(!1,l.re,l.Kc,l.Xb);D+=1;(l.a.pl||l.PH()||l.a.counter===(l.rb|0)||A)&&!(0===l.a.Z&&2<l.a.c)&&(l.a.$e(),l.cj(),l.bk||l.a.counter<=l.$k)&&(l.a.Z=1);0===l.a.Z&&G.set(H);l.UL(b,E);-1!==l.bb&&l.a.counter>=l.bb&&!l.Lc&&(l.elapsedTime=0,l.reset(l),l.Xe&&l.mg&&(l.xb.current=l.wd(t.Ie,!0,l),l.m.notification.notify("LOOP reached - Play to continue ",
15,180,15,!0)),z&&(l.Cd=!0));l.a.Z||(A=!0)}l.a.Z||(l.xy=l.L+(0<l.a.c?l.a.c:0),-1===l.Ri&&(l.Ri=l.a.counter,l.a.G||l.a.ba||l.a.M?l.a.Cq(!1):l.a.Cq(!0),!l.$o||-1!==l.bb&&!l.Lc||l.Fn||l.m.notification.notify("Life ended at generation "+l.Ri,15,600,15,!0)));l.rb-=E-D;l.ag-=E-D;0>l.rb&&(l.rb=0);0>l.ag&&(l.ag=0);D<E&&(l.a.counter!==l.Wb||l.Oe)&&l.gj?l.NM(D):l.Kx()}else l.Kx(),l.xy&&(--l.xy,b=l.a.counter,l.a.counter=l.Ri,l.a.$e(),l.a.counter=b),l.a.counter+=l.Ba,-1!==l.bb&&l.a.counter>=l.bb&&!l.Lc&&(l.elapsedTime=
0,l.reset(l),z&&(l.Cd=!0));l.a.counter!==l.Wb||l.Oe||(l.xb.current=l.wd(t.Ie,!0,l),l.$o&&l.m.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else l.Kx();l.ni&&!l.Ya&&l.pb("");l.Bd.locked=l.Cd&&l.Qc||l.a.O||l.a.P;l.Ji.locked=l.Cd&&l.Qc;l.Pk.locked=l.Cd||l.uc&&l.Ya;l.ec.locked=l.Cd&&l.Qc;l.Nd.locked=l.Cd&&l.Qc;l.zi.locked=l.Cd&&l.Qc;l.tc.locked=l.Cd;l.Yd.locked=l.Cd&&l.Qc||l.a.O&&l.a.be||l.a.P;l.bd.locked=l.Cd&&l.Qc||l.a.O&&l.a.be||l.a.P;l.wheelDelta&&(l.fL(l.wheelDelta),l.wheelDelta=
0);l.OF(l,y,e,C);l.ni=!1;l.nB=!1;if(l.Ya||l.uc&&l.gn>l.YH||-1!==l.fh)p=!0;l.m.Gg(p)};g.prototype.OF=function(b,l,e,p){b.uc&&(b.Ya||b.Qc)&&b.Pg(!1,!1,t.Qk);b.a.pL(b.Wq,b.ti);b.ti&&b.bJ();b.Wq&&b.m.Gg(!0);b.a.$t();b.a.be&&b.a.O&&4<=b.a.zoom?b.a.$I():b.a.P&&4<=b.a.zoom&&b.a.dJ();b.ys&&(2===b.ys&&b.a.bu(b.Wg,1,!0,b.mb,b),b.bI(b),2===b.ys&&b.a.$t(),b.ys=0);b.a.aJ(b);b.a.counter&&b.a.Z&&(b.qm.f=b.a.J.f,b.qm.g=b.a.J.g,b.qm.o=b.a.J.o,b.qm.s=b.a.J.s,b.Gx(b,b.qm));b.si&&b.T.my(b);!b.Wc||b.le||b.fg||b.a.bu(b.Wg,
b.nd,!1,b.mb,b);b.ja?Help.au(b):b.jd.length&&Help.oy(b);b.EM(b);b.En.Va=b.WH(b.elapsedTime);b.Dm.Va=b.As(b.a.na);b.fu()?b.Tj.Va=(100*b.a.na/(b.a.ta*b.a.wa)|0)+"%":(b.Tj.Va=b.As(b.a.Jb),b.Yl.Va=b.As(b.a.cc));b.Dm.A="alive "+b.a.na;b.fu()?b.Tj.A="density "+(100*b.a.na/(b.a.ta*b.a.wa)|0)+"%":(b.Tj.A="births "+b.a.Jb,b.Yl.A="deaths "+b.a.cc);b.gj?b.DM(e,l,p,b):(b.ec.Tc=b.Pk.Tc,b.Nd.Tc=b.Pk.Tc);b.lM();-1!==b.fh&&b.jC();b.FM();b.PM();b.GM();b.QM(b.ja||b.jd.length);!b.Mc.current[0]||b.ak&&b.Ya||(b.yc.globalAlpha=
.5,b.yc.fillStyle="black",b.yc.fillRect(0,0,b.Uc.width,b.Uc.height),b.yc.globalAlpha=1)};g.prototype.DM=function(b,l,e,p){b>t.EG&&!e?(p.ej+=t.uF,p.ej>=2*t.rA&&(p.ej=0)):0<p.ej&&(p.ej-=t.uF);l&&!e?p.fj<t.LK&&(p.fj+=t.vF):p.fj>t.MK&&(p.fj-=t.vF);p.ej>=t.rA&&(p.lN=2*t.rA-p.ej);b=p.Go>>16;l=p.Go>>8&255;e=p.Go&255;128<=b?64<=l||64<=e?(l-=p.fj,e-=p.fj,0>l&&(l=0),0>e&&(e=0)):(l+=p.fj,255<l&&(l=255)):(b+=p.fj,255<b&&(b=255));p.ec.Tc="rgb("+b+","+l+","+e+")";b=p.Go>>16;l=p.Go>>8&255;e=p.Go&255;128<=l?(b-=
p.fj,0>b&&(b=0),e-=p.ej,0>e&&(e=0)):(l+=p.ej,255<l&&(l=255));p.Nd.Tc="rgb("+b+","+l+","+e+")"};g.prototype.kC=function(){if(this.ae&&!this.jf){this.a.Vb=this.ag*(this.Zm+this.Bo)/2;this.a.Sb=this.ag*(this.Ao+this.$m)/2;var b=this.a.bH(0,this.Ao,this.Zm,this.$m,this.Bo,this.F,this.D-80,t.ya,t.Ua,t.yw);var l=this.a.bH(this.ag,this.Ao,this.Zm,this.$m,this.Bo,this.F,this.D-80,t.ya,t.Ua,t.yw);this.a.sc=l/b}else this.a.Vb=0,this.a.Sb=0,this.a.sc=1;this.tc.current=this.Dk([this.a.zoom,this.a.zoom],!1,this)};
g.prototype.QM=function(b){var l=!(this.ja&&this.gm===t.tl),e,p=0,y=[],z=[],A=this.Mc.current[0];this.xb.ug[1]=this.re||0===this.a.counter&&(!this.a.ha&&!this.a.G||null===this.a.Ec)?!0:!1;var C=b||!this.qj;for(e=0;e<=this.a.Je;e+=1)this.B[e].h=C;this.Dl.h=C;this.Bl.h=C;this.El.h=C;this.Cl.h=C;for(e=0;e<t.Ls.length;e+=1)t.Ls[e]===this.a.Je&&(this.B[e].locked=!this.sh);C=b||!this.jj||"Empty"===this.yb||"none"===this.yb;this.xh.h=b||!this.jj;this.lr.h=C;this.sf.h=C;this.Hi.h=C;this.Gi.h=C;this.Dj.h=
C||"Spaceship"!==this.yb||this.a.O||this.a.P;this.Gj.h=C||"Still Life"===this.yb;this.Fj.h=C||"Still Life"===this.yb||this.$f||this.a.O||this.a.P;this.Cj.h=C||"Oscillator"!==this.yb||this.$f;this.Hj.h=C||"Spaceship"!==this.yb||this.a.O||this.a.P;this.Ij.h=C||"Spaceship"!==this.yb;this.Ej.h=C||"Still Life"===this.yb;this.Jj.h=C||"Oscillator"!==this.yb||this.$f;this.Kj.h=C||"Oscillator"!==this.yb||this.$f;this.sr.h=C;this.mr.h=C;this.vu.h=C;this.wu.h=C||"Spaceship"!==this.yb||this.a.O||this.a.P;this.yu.h=
C||"Still Life"===this.yb;this.xu.h=C||"Still Life"===this.yb||this.$f||this.a.O||this.a.P;this.kr.h=C||"Oscillator"!==this.yb||this.$f;this.zu.h=C||"Spaceship"!==this.yb||this.a.O||this.a.P;this.qr.h=C||"Spaceship"!==this.yb;this.pr.h=C||"Still Life"===this.yb;this.rr.h=C||"Oscillator"!==this.yb||this.$f;this.Sy.h=C||"Oscillator"!==this.yb||this.$f;this.fo.locked=this.rc===this.Vn;this.yj.locked=1>=this.rc||"undo "===this.yj.A;this.Ji.h=b;this.tc.h=b;this.Pk.h=b;this.ei.h=b;this.jn.h=b;this.Vm.h=
b;this.hh.h=b;this.om.h=b;this.rd.h=b;C=(this.Oo.h=b)||!this.Wc||this.le||this.fg||A;this.Ep.h=C;this.Bj.h=C;this.wp.h=C;C=b||this.Wc||this.fg||A;(this.a.ha||this.a.G)&&null!==this.a.Ec&&(this.Tq.h=C);this.Hn.h=b;this.Wf.h=b;this.Td.h=b;this.En.h=b;this.yd.h=b;C=(this.Dm.h=b)||this.sw();this.Sj.h=C;C=(this.Tj.h=C)||this.fu();this.Sc.h=C;this.Yl.h=C;this.Jm.h=b;this.Pk.h=b;this.wg.h=b||!this.rl;this.N.h=!(this.Hd||this.jd.length);this.Kl.Va=this.rk||this.sk||this.tk||this.uk||this.qj?"Back":"Close";
C=(this.Kl.h=b)||this.qj;this.bd.h=C;this.Bd.h=C;this.Yd.h=C;C=b||this.qj||this.rk||this.sk||this.uk||this.tk;this.$r.h=C;this.zi.h=C;this.ur.h=C;this.Uq.h=C;this.fv.h=C;this.em.h=C;C=b||!this.tk;this.Fk.h=C;this.Gk.h=C;this.Ek.h=C;this.Nj.h=C;this.Sp.h=C;this.jp.h=C;C=b||!this.sk;this.Yo.h=C;this.Os.h=C;this.kp.h=C;this.Vp.h=C;this.Vp.locked=!this.Rk;this.qs.h=C;C=b||!this.rk;this.im.h=C;this.Aq.h=C;this.ek.h=C;this.fq.h=C;this.mm.h=C;this.lk.h=C;this.Jo.h=C;this.fn.h=C;this.Qp.h=C;C=b||!this.uk;
this.hp.h=C;this.Ym.h=C;this.Om.h=C;this.pp.h=C;this.xq.h=C;C=this.a.Ja||!this.va;this.Sp.locked=C;this.jp.locked=C;this.Qp.locked=2<this.a.c||this.a.oa||this.a.G||this.a.Ia||this.a.M||this.a.ba||this.a.ha;this.Bi.h=b||!(this.rk||this.sk||this.uk||this.tk);this.Bi.Va=this.rk?"Display":this.sk?"Advanced":this.uk?"Playback":this.tk?"Pattern":"";this.pp.locked=-1!==this.a.Pd||this.a.bv||this.a.oa&&!(1===this.a.Qa.Nh&&this.a.Qa.type===this.v.Jd&&2===this.a.Qa.ko)||this.a.P||this.a.ne;this.zi.locked=this.fd||
this.a.Ja||this.a.ba||this.a.M;this.ek.locked=this.a.O&&this.a.be||this.a.P;this.im.locked=!this.a.O;C=b||0===this.T.qc.length||A;this.Nr.h=C;this.ns.h=C;C=b||!this.dd||this.le||this.fg||this.Wc;this.tf.h=C;this.Zb.h=C;this.vf.h=C;this.nc.h=C;this.pf.h=C;this.$a.h=C;this.Lj.h=C;this.yh.h=C;this.Bh.h=C;this.Dh.h=C;this.Ah.h=C;this.wb.h=C;this.Pb.h=C;this.Tb.h=C;this.Nb.h=C;this.jd.length?(this.N.A="close errors",this.N.Va="Esc",this.N.Xa("16px Arial"),this.N.Tc=this.Ji.Tc):(this.N.A="close window",
this.N.Va="X",this.N.Xa("24px Arial"),this.N.Tc="red");this.Di.h=!(this.ja&&this.gm!==t.tl);this.fa.h=!(this.ja&&this.gm!==t.tl)||!this.Bs;this.We.h=l;this.qf.h=l;this.Ve.h=l;this.rf.h=l;this.Ue.h=l;this.Re.h=l;this.pd.h=l;this.Te.h=l||0===this.T.Bp();this.Gh.h=!(this.ja&&this.gm!==t.tl)||this.Bs;if(this.Hk){this.Hk=!1;p=this.fa.y;for(e=0;e<this.ea.length&&p<this.D-66*this.i.jh;)y[e]=this.ea[e][1],z[e]="",p+=26*this.i.jh,e+=1;this.fa.lower=y;this.fa.A=z;this.fa.aM(26*y.length);this.fa.current=0}C=
b||!this.fg||A;this.vg.h=C;this.hn.h=C;this.Rn.h=C;this.Fq.h=C;this.ao.h=C;this.$n.h=C;this.ge.h=C;this.he.h=C;this.Vf.h=C;C=b||!this.fg||A;this.Pf.h=C;this.Rf.h=C;this.Tf.h=C;this.wf.h=C;this.Be.h=C;this.Qe.h=C;this.Zf.h=C;this.Yf.h=C;this.Ra.h=C;this.fe.h=C;this.ee.h=C;this.Ql.h=C||!(this.a.Ia||this.a.M);this.aa.h=C;this.mk.h=C;C=b||!this.fg||A||2>=this.a.c||this.a.Ja;this.zd.h=C||this.a.G;C=this.Ma;this.ao.locked=C;this.$n.locked=C;C=!this.sb;this.ge.locked=C;C=!(this.sb||this.ed)||this.Ma;this.aa.pg(C);
this.zd.pg(C);this.mk.pg(C);this.Pf.pg(C);this.Rf.pg(C);this.Tf.pg(C);this.wf.pg(C);this.Be.pg(C);this.Qe.pg(C);this.Zf.pg(C);this.Yf.pg(C);this.Ra.pg(C);this.fe.pg(C);this.ee.pg(C);this.Ql.pg(C);C=!this.sb||this.Ma;this.he.locked=C;C=!this.Bq||this.ed||null===this.Ef[this.og]||this.Ma;this.Vf.locked=C;C=b||!this.le||!this.Cs||A;this.td.h=C;this.j.h=C;if(2>=this.a.c&&!this.a.ba)for(e=0;e<this.j.lower.length;e+=1)2>=e?0===e?p=e:p=1===e?LifeConstants.vb:LifeConstants.Mk:p=128+t.Sa[e],this.j.kn[e]="rgb("+
this.a.Pa[p]+","+this.a.Oa[p]+","+this.a.Na[p]+")";else for(e=0;e<this.j.lower.length;e+=1)p=0===e+this.bh?0:this.a.Ja||this.a.G||this.a.ba||this.a.M?e+this.bh+this.L:this.L+this.a.c-(e+this.bh),this.j.kn[e]="rgb("+this.a.Pa[p]+","+this.a.Oa[p]+","+this.a.Na[p]+")";C=b||!this.le||A;this.Ch.h=C;this.Eh.h=C;this.cq.h=C;this.xg.h=C;this.yi.h=b||!this.le||!this.Cs||this.a.c<=this.li||A;this.a.c>this.li&&this.mC();if(0<this.ja){e=0;for(p=-1;e<this.ea.length&&-1===p;)this.ea[e][0]>this.ja?p=this.ea[e][0]:
e+=1;e===this.ea.length&&(p=e);-1!==p&&(this.fa.current=e-1)}this.ak&&(this.i.h=this.Ya?!0:!1)};g.prototype.GM=function(){var b=-(this.a.width/2-this.a.za-this.a.Vb|0),l=-(this.a.height/2-this.a.sa-this.a.Sb|0),e=String(b),p=String(l);this.tf.h=!this.dd;this.Zb.h=!this.dd;this.vf.h=!this.dd;this.nc.h=!this.dd;this.pf.h=!this.dd;this.$a.h=!this.dd;this.Lj.h=!this.dd;this.yh.h=!this.dd;this.Bh.h=!this.dd;this.Dh.h=!this.dd;this.Ah.h=!this.dd;this.wb.h=!this.dd;this.Pb.h=!this.dd;this.Nb.h=!this.dd;
this.Tb.h=!this.dd;if(-99999>b||99999<b)e=(b/1E3|0)+"K";if(-99999>l||99999<l)p=(l/1E3|0)+"K";this.Zb.Va=e;this.nc.Va=p;this.$a.Va=this.a.angle.toFixed(0)+"\u00b0";this.wb.Va=this.Ct.toFixed(3);this.Pb.Va=this.Et.toFixed(3);this.Tb.Va=this.Ft.toFixed(3);this.Nb.Va=this.Dt.toFixed(3)};g.prototype.PM=function(){0===this.a.counter?this.Ft=this.Ct=this.Et=this.Dt=0:(this.Et=(this.a.J.s-this.a.Cf.s)/this.a.counter,this.Dt=(this.a.J.g-this.a.Cf.g)/this.a.counter,this.Ct=(this.a.J.o-this.a.Cf.o)/this.a.counter,
this.Ft=(this.a.J.f-this.a.Cf.f)/this.a.counter)};g.prototype.FM=function(){this.Ji.current=[this.uc];this.jn.current=[!this.mg&&this.Xe];this.jn.locked=!this.Xe;this.ae?(this.hh.lower[0]="TRACK",this.hh.current=[!this.jf&&this.ae],this.hh.locked=!this.ae,this.hh.A=["toggle track mode"]):(this.hh.lower[0]="WAYPT",this.hh.current=[!this.ze&&this.Qc],this.hh.locked=!this.Qc,this.hh.A=["toggle waypoint mode"]);this.om.current=[!this.Lc&&-1!==this.bb];this.om.locked=-1===this.bb;this.om.A=["loop at "+
this.bb];this.Vm.current=[!this.Oe&&-1!==this.Wb];this.Vm.locked=-1===this.Wb;this.Vm.A=["stop at "+this.Wb]};g.prototype.UL=function(b,l){if(this.a.counter>=this.Ea.length){var e=this.a.l.K(Float32,this.Ea.length+t.SE,"View.elapsedTimes");e.set(this.Ea);this.Ea=e}this.elapsedTime+=b/l;this.Ea[this.a.counter]=this.elapsedTime};g.prototype.UM=function(b){var l=b.wM,e=b.uo-b.yk;if(b.yk<b.uo)if(0<b.Px)--b.Px;else if(b.Bu)b.Xm.innerHTML=b.Js,b.yk=b.uo;else{e<l&&(l=e);var p=document.createElement("textarea");
b.My(p);if(l!==e)for(;"\n"!==b.Js[b.yk+l];)--l;p.innerHTML=b.Js.substr(b.yk,l);b.yk+=l;b.Xm.appendChild(p)}else b.xt||(b.m.notification.notify("Press Enter to complete copy",15,1E4,15,!0),b.xt=!0);b.KM(b);b.a.$t();b.si&&b.T.my(b);b.Wc&&b.a.bu(b.Wg,b.nd,!1,b.mb,b);b.ja?Help.au(b):b.jd.length&&Help.oy(b);b.m.Gg(!0)};g.prototype.WM=function(b){var l=performance.now();for(b.i.locked=!0;b.Xb&&13>performance.now()-l;){b.a.ef(!1,b.re,b.Kc,b.Xb);b.a.$e();b.cj();if(b.bk||b.a.counter<=b.$k)b.a.Z=1;var e=b.a.GK(b.nr);
0<e.length&&(e[0]===LifeConstants.bD?(e[0]="Nothing Identified",b.oz="none",b.yb="none",b.Fr="",b.up="",b.Er="",b.Eu="",b.qp="",b.Gr="",b.tp="",b.rp="",b.Hr="",b.sp="",b.Du="",b.Fu=""):(b.oz=e[0],b.yb=e[1],"Empty"!==b.yb&&(b.Fr=e[2],b.up=e[3],b.Er=e[4],b.Eu=e[5],b.qp=e[6],b.Gr=e[7],b.tp=e[8],b.rp=e[9],b.Hr=e[10],b.sp=e[11],b.Du=e[12],b.Fu=e[13],b.sr.Va=b.yb,b.mr.Va=b.qp,b.mr.A=-1===b.qp.indexOf("|")?"":"min | max | average",b.vu.Va=b.Er,b.wu.Va=b.Fr,b.yu.Va=b.tp,b.zu.Va=b.Gr,b.qr.Va=b.up,b.qr.A=-1===
b.up.indexOf("|")?"":"simplified | unsimplified",b.pr.Va=b.rp,b.pr.A=-1===b.rp.indexOf("|")?"":"min | max | average",b.Sy.Va=b.Hr,b.xu.Va=b.sp,b.kr.Va=b.Du,b.kr.A="rotor | stator | total",b.rr.Va=b.Fu,b.rr.A="active | rotor"),b.jj=!0,b.$f=b.nr,b.fM()),b.Xb=!1,b.Ya&&(b.xb.current=b.wd(t.Ie,!0,b)),b.pb(""),b.lr.Va=e[0],"Empty"===b.yb||"none"===b.yb?(b.m.notification.notify(e[0],15,240,15,!1),b.jj=!1):(b.m.notification.clear(!0,!1),b.m.notification.clear(!1,!1),b.Pg(!0,!1,t.Qk)),b.a.Au(b.Xb),b.nr=!1,
b.i.locked=!1)}b.OF(b,!1,0,!1);b.rb=b.a.counter;b.ag=b.a.counter;b.m.Gg(!0)};g.prototype.VM=function(b){for(var l=b.Ox,e=performance.now(),p,y=b.a.Hg.mK*LifeConstants.Ds;b.a.counter<l-1&&13>performance.now()-e;)if(p=l-1-b.a.counter<=y?!1:!0,b.a.ef(!1,p,b.Kc,b.Xb),b.a.$e(),b.cj(),b.bk||b.a.counter<=b.$k)b.a.Z=1;if(b.a.counter===l-1){b.a.ef(b.eh,!1,b.Kc,b.Xb);b.a.$e();b.cj();if(b.bk||b.a.counter<=b.$k)b.a.Z=1;b.rn=!1;b.Nx&&b.m.notification.clear(!0,!1);b.i.locked=!1}else b.i.locked=!0;b.LM(b,l);b.a.$t();
b.si&&b.T.my(b);b.Wc&&b.a.bu(b.Wg,b.nd,!1,b.mb,b);b.ja?Help.au(b):b.jd.length&&Help.oy(b);b.m.Gg(!0)};g.prototype.FC=function(b,l){l.rn?l.VM(l):l.Xb?l.WM(l):l.Eq?l.UM(l):l.XM(b,l)};g.prototype.wC=function(b){b.a.counter=0;b.a.Of=0;b.a.$i=0;b.rb=0;b.ag=0;b.elapsedTime=0;b.a.za=b.a.width>>1;b.a.sa=b.a.height>>1;b.a.za&=b.a.width-1;b.a.sa&=b.a.height-1;b.a.Z=1;b.az=!0;b.Ri=-1};g.prototype.XG=function(b,l,e){l&&(e.ti=b[0]);return[e.ti]};g.prototype.OG=function(b,l,e){l&&(e.gi=b[0]);return[e.gi]};g.prototype.SG=
function(b,l,e){l&&(e.a.Uk=b[0]);return[e.a.Uk]};g.prototype.PG=function(b,l,e){l&&(e.dd=b[0]);return[e.dd]};g.prototype.sC=function(b,l,e){l&&(e.Wc=b[0],e.Wc&&e.rd.current!==t.tm&&(e.rd.current=e.Ck(t.tm,!0,e)));return[e.Wc]};g.prototype.Dw=function(b,l,e){l&&(e.a.Mi=b[0]);return[e.a.Mi]};g.prototype.QG=function(b,l,e){l&&(e.si=b[0]);return[e.si]};g.prototype.KG=function(b,l,e){l&&(e.a.ld=b[0]);return[e.a.ld]};g.prototype.JG=function(b,l,e){l&&(e.Rh=b[0],e.Rh&&!e.a.ac&&(e.le||e.fg)&&(e.ei.current=
e.lq([!0],!0,e)));return[e.Rh]};g.prototype.UG=function(b,l,e){l&&(e.a.Kd=b[0],e.a.Rx(),0===(e.a.counter&1)?e.a.Jv(e.a.Za):e.a.Jv(e.a.Mb));return[e.a.Kd]};g.prototype.IG=function(b,l,e){l&&(e.a.Hl=b[0]);return[e.a.Hl]};g.prototype.HC=function(b,l,e){l&&(e.ak=b[0]);return[e.ak]};g.prototype.NG=function(b,l,e){l&&(e.a.be=b[0],e.DG());return[e.a.be]};g.prototype.vC=function(b,l,e){l&&(e.a.Qf=b[0],e.a.Ia&&(e.a.$h=b[0]));return[e.a.Qf]};g.prototype.yC=function(b,l,e){l&&(e.m.Nm=b[0]);e.m.Gg(!0);return[e.m.Nm]};
g.prototype.Ho=function(b,l,e){l&&(e.m.nl=b[0]);e.m.Gg(!0);return[e.m.nl]};g.prototype.Mm=function(b,l,e){if(e.a.yf!==b)for(e.a.iM(b,l,e),1<e.a.Rl&&(e.m.dn=e.a.Rl),l=0;l<=this.a.Je;l+=1)this.B[l].current=b!==t.Ls[l]?[!1]:[!0]};g.prototype.en=function(b,l,e){l&&(e.Ba=b[0]+.5|0);return[e.Ba,e.Ba]};g.prototype.MD=function(b){return(10>b.toFixed(1)?b.toFixed(1):b.toFixed(0))+"/s"};g.prototype.Bk=function(b,l,e){l?(e.rg=t.Sg+b[0]*b[0]*(t.pm-t.Sg),b=b[0]):b=Math.sqrt((e.rg-t.Sg)/(t.pm-t.Sg));return[b,e.MD(e.rg)]};
g.prototype.aG=function(b){b.Zp=b.a.zoom;b.mb&&(b.Zp=b.Zp*b.ye);b.aB=b.a.angle;b.Le=b.a.za;b.oj=b.a.sa};g.prototype.DL=function(b){b.Sm=b.a.width/2-b.a.za;b.Tm=b.a.height/2-b.a.sa;b.qo=b.a.zoom;b.Rm=b.a.angle;b.Ok=b.a.width/2-b.Le;b.Gn=b.a.height/2-b.oj;b.Uo=b.aB;b.mb?b.bm=b.Zp/b.ye:b.bm=b.Zp;b.fh=0};g.prototype.zL=function(b,l){b.a.zoom=b.ED;b.mb&&(b.a.zoom=b.a.zoom/b.ye);b.tc&&(b.tc.current=b.Dk([b.a.zoom,b.a.zoom],!1,b));b.a.angle=b.Ro;b.Bd&&(b.Bd.current=[b.Ro,b.Ro]);b.a.za=b.Fe;b.a.sa=b.Qi;l&&
(b.Mm(b.Vt,1,b),b.fd&&(b.a.pn=0),l=Math.sqrt((b.fy-t.Sg)/(t.pm-t.Sg)),b.ec.current=b.Bk([l,l],!0,b),b.Ba=b.Ut,b.Nd.current=[b.Ba,b.Ba],b.a.R=b.So,b.Yd.current=[b.So,b.So],l=Math.sqrt(b.ey),b.bd.current=b.sl([l,l],!0,b))};g.prototype.NC=function(b){b?(this.a.za+=this.a.Vb,this.a.sa+=this.a.Sb,this.a.zoom*=this.a.sc):(this.kC(),this.a.za-=this.a.Vb,this.a.sa-=this.a.Sb,this.a.zoom/=this.a.sc,this.kC());this.a.zoom<t.ya?this.a.zoom=t.ya:this.a.zoom>t.Ua&&(this.a.zoom=t.Ua)};g.prototype.PF=function(b){b.elapsedTime=
0;b.fd||(b.a.Lv(b.re),b.a.Z=1,b.a.Kv())};g.prototype.reset=function(b){var l=!1,e=!1;this.Wq&&this.a.aE();0===b.a.counter&&b.m.RF();if(0===b.elapsedTime||b.nu)l=!0;b.Lc||-1===b.bb||b.a.counter>=b.bb&&(e=!0);b.a.Xc=!1;b.a.Yc=!1;b.a.$i=0;e||l||(b.Qc&&(b.ze=!0),b.ae&&(b.jf=!0),-1!==b.bb&&(b.Lc=!0),-1!==b.Wb&&(b.Oe=!0),b.nt&&(b.uc=!1));b.elapsedTime=0;b.a.Vb=0;b.a.Sb=0;b.a.sc=1;if(l){(this.a.ha||this.a.G)&&null!==this.a.Ec&&b.Mv&&(b.a.Yc=!0);b.Qc&&(b.ze=!1);b.ae&&(b.jf=!1);b.nt&&(b.uc=!0);if(!e||b.Qc&&
b.T.fr||b.uc)b.zL(b,l),b.uc&&b.Pg(!0,!1,t.Qk);b.Lc=!1;e||(b.Oe=!1)}b.fd||(b.a.Lv(b.re),b.rb=b.a.counter,b.ag=b.rb,b.a.Z=1);b.Kc||b.a.QF();b.a.Kv();b.Ir="";b.pz=-1;b.yg=!1;b.T.BL();b.Xb&&(b.Xb=!1,b.m.notification.clear(!0,!1));b.a.Au(b.Xb);b.m.notification.clear(!1,!1);b.Ri=-1;b.a.Qr=0;b.jB(b.a.counter);b.jj=!1;b.YE()};g.prototype.Tv=function(b){var l=this.a.Xc,e;b?b=e="pause":(b="play",this.a.ha||this.a.G?(this.a.Yc&&(l=!l),e=l?"reverse":"play"):e="play");if(this.a.ha||this.a.G)if(l=this.a.Xc,this.a.Yc&&
(l=!l),l){var p="stepback";l="stepforward";var y="step back";var z="step forward"}else p="stepforward",l="stepback",y="step forward",z="step back";else p="stepforward",l="stepback",y="step forward",z="step back";this.xb.icon[t.Ie]=this.U.icon(p);this.xb.A[t.Ie]=y;this.xb.icon[t.zp]=this.U.icon(l);this.xb.A[t.zp]=z;this.xb.icon[t.gk]=this.U.icon(e);this.xb.A[t.gk]=b};g.prototype.Hh=function(b,l){l.gm=b;l.ja=1;l.Bs=!0;l.pu=[];l.qu=[];this.Hk=!0};g.prototype.dt=function(b){b.Hh(t.gE,b)};g.prototype.bx=
function(b){b.Hh(t.dB,b)};g.prototype.ww=function(b){b.Hh(t.vr,b)};g.prototype.jx=function(b){b.Hh(t.rG,b)};g.prototype.op=function(b){b.Hh(t.lD,b)};g.prototype.To=function(b){b.Hh(t.PC,b)};g.prototype.Ew=function(b){b.Hh(t.DE,b)};g.prototype.Wo=function(b){b.Hh(t.VC,b)};g.prototype.Bw=function(b,l,e){l&&(e.ja=e.ea[b][0],e.Bs=!1);return b};g.prototype.qC=function(b,l,e){l&&(e.Pj=b[0],e.Pj&&e.pt(e));return[e.Pj]};g.prototype.rC=function(b,l,e){l&&(e.ph=b[0],e.ph&&(e.$v=!0));return[e.ph]};g.prototype.Ck=
function(b,l,e){var p=b;if(l){switch(b){case t.sm:e.Mp=!1;e.Ma||e.a.Ja?p=e.rd.current:(e.le=!0,e.Ch.current=e.Ak([!1],!0,e),e.fg=!1);e.tt(e);e.Rh&&(e.ei.current=e.lq([!0],!0,e));break;case t.yp:e.le=!1;e.Ch.current=e.Ak([!1],!0,e);e.fg=!0;e.Rh&&(e.ei.current=e.lq([!0],!0,e));break;case t.tm:e.le=!1,e.fg=!1,e.Ch.current=e.Ak([!1],!0,e),e.tt(e),e.Rh&&(e.ei.current=e.lq([!1],!0,e))}e.pu=[];e.qu=[];e.Mc.current[0]&&(e.Mc.current=e.Rs([!1],!0,e),e.m.Jh=!0)}e.iB(p);return p};g.prototype.iB=function(b){if(this.ja||
this.dc)this.i.Sv("grab");else switch(b){case t.sm:this.i.Sv("auto");break;case t.tm:this.i.Sv("grab");break;case t.yp:this.i.Sv("crosshair")}};g.prototype.LG=function(b,l,e){l&&(e.og=b,e.At(),e.Rn.current=[!1],e.m.Jh=!0,e.ed?e.oA(e,b):e.m.notification.notify("Clipboard "+b+" active",15,80,15,!0));return e.og};g.prototype.tC=function(b,l,e){l&&(e.ym=b,e.Vc=t.BG[b]);return e.ym};g.prototype.HI=function(b){b.Ma||(b.ym+=1,3<b.ym&&(b.ym=0),b.$n.current=b.tC(b.ym,!0,b))};g.prototype.Cy=function(b){var l=
"";this.a.ba||(2>=this.a.c?l=this.a.Ia?t.kG[b]:b?"Alive":"Dead":0===b?l="Dead":this.a.G?(0!==(b&1)&&(l+="N"),0!==(b&2)&&(l+="E"),0!==(b&4)&&(l+="S"),0!==(b&8)&&(l+="W")):this.a.M?l=LifeConstants.OE[b]:l=this.a.ba?"State "+String(b):1===b?"Alive":"Dying "+String(b-1));return l};g.prototype.xC=function(b,l,e){var p=b;l&&(2>=e.a.c?e.Af=b:(b+=e.bh,0===b?e.Af=0:e.a.Ja||e.a.G||e.a.ba||e.a.M?e.Af=b:e.Af=e.a.c-b),e.Ch.current=e.Ak([!1],!0,e),e.a.ba?e.m.notification.notify("Drawing with state "+b,15,120,15,
!0):e.m.notification.notify("Drawing with state "+b+" ("+e.Cy(b)+")",15,120,15,!0));return p};g.prototype.vj=function(b){var l=this.a.c,e=this.li;-1===l&&(e=l=2);this.a.Ia&&(e=l=7);b<l&&(b>=e?(this.bh=b-e+1,b=e-1):b>=this.bh?b-=this.bh:(this.bh=b,b=0),this.td.current=this.xC(b,!0,this))};g.prototype.Fw=function(b,l,e){var p=0;if(l)for(;p<b.length;)b[p]&&(b[p]=!1,e.td.current=e.xC(p,!0,e)),p+=1;return b};g.prototype.xL=function(b){var l=0,e=this.Af,p=this.a.Gd;var y=this.zb;var z=p.f,A=p.o;var C=p.g;
p=p.s;var D=(this.a.width>>1)-(this.hb>>1)+(this.Gb<<1);var G=(this.a.height>>1)-(this.lb>>1)+(this.Hb<<1);2<this.a.c&&!(this.a.Ja||this.a.G||this.a.ba||this.a.M)&&0<b&&(b=this.a.c-b);this.sb&&(z=y.f+D,A=y.o+D,z>A&&(D=A,A=z,z=D),C=y.g+G,p=y.s+G,C>p&&(D=p,p=C,C=D));if(e!==b){for(;C<=p;C+=1)for(y=z;y<=A;y+=1)G=this.a.getState(y,C,!1),2<this.a.c&&!this.a.G&&!this.a.ba&&0<G&&(G=this.a.c-G),G===b&&(this.Zc(y,C,e),l+=1);0<l&&(!this.a.Ia||6!==b&&6!==e||this.a.co(),this.pb("replace states"))}else this.m.notification.notify("Cell and drawing state are the same",
15,120,15,!0)};g.prototype.Jx=function(b,l,e){var p=b.Af,y=b.a.Gd,z=0,A=0;if(0<p)if(2<b.a.c&&!(b.a.Ja||b.a.G||b.a.ba||b.a.M)&&(p=b.a.c-p),b.a.Ia&&1<p&&(A=p&1),b.a.Ia&&l)if(e){for(e=y.g;e<=y.s;e+=1)for(l=y.f;l<=y.o;l+=1){var C=b.a.getState(l,e,!1);3<=C&&5>=C&&(b.Zc(l,e,C&1),z+=1)}0<z&&(b.M?b.pb("clear [R]Super marked cells"):b.pb("clear [R]History marked cells"))}else{for(e=y.g;e<=y.s;e+=1)for(l=y.f;l<=y.o;l+=1)C=b.a.getState(l,e,!1),1<C&&(b.Zc(l,e,C&1),z+=1);0<z&&(b.M?b.pb("clear [R]Super cells"):
(this.a.co(),b.pb("clear [R]History cells")))}else{for(e=y.g;e<=y.s;e+=1)for(l=y.f;l<=y.o;l+=1)C=b.a.getState(l,e,!1),C===p&&(b.Zc(l,e,A),z+=1);0<z&&(b.a.Ia&&6===p&&this.a.co(),b.pb("clear state "+p+" cells"))}return z};g.prototype.wd=function(b,l,e){var p=b,y=e.Oe,z=e.Lc,A=e.ze,C=e.mg,D=e.uc,G=e.jf,H=40,I=0,E=0,F=0,P=0,K=0,Q=0,J=0;if(l){e.Mp=!1;switch(b){case t.Dz:e.mg=e.nu||e.Xe&&0===e.a.counter&&0===e.elapsedTime?!1:!0;e.Xe&&!e.mg?(b=t.gk,e.Ya=!0,e.Fn=0===e.a.na?!0:!1):(b=t.Ie,e.Ya=!1);e.pb("");
e.reset(e);e.ad=0;l="Reset";!e.Lc&&z&&-1!==e.bb&&(E=1);e.Lc&&!z&&-1!==e.bb&&(E=-1);!e.Oe&&y&&-1!==e.Wb&&(F=1);e.Oe&&!y&&-1!==e.Wb&&(F=-1);!D&&e.uc&&(J=1);D&&!e.uc&&(J=-1);!e.ze&&A&&(P=1);e.ze&&!A&&(P=-1);!e.jf&&G&&(K=1);e.jf&&!G&&(K=-1);!e.mg&&C&&e.Xe&&(Q=1);e.mg&&!C&&e.Xe&&(Q=-1);if(0!==E||0!==F||0!==P||0!==K||0!==Q||0!==J)l="",0!==E&&(I+=1,l+="Loop"),0!==F&&(0<I&&(l=0<Math.abs(P)+Math.abs(K)+Math.abs(Q)+Math.abs(J)?l+", ":l+" and "),I+=1,l+="Stop"),0!==P&&(0<I&&(l=0<Math.abs(K)+Math.abs(Q)+Math.abs(J)?
l+", ":l+" and "),I+=1,l+="Waypoints"),0!==K&&(0<I&&(l=0<Math.abs(Q)+Math.abs(J)?l+", ":l+" and "),I+=1,l+="Track"),0!==Q&&(0<I&&(l=0!==J?l+", ":l+" and "),I+=1,l+="AutoStart"),0!==J&&(0<I&&(l+=" and "),l+="AutoFit"),l=0<F||0<E||0<P||0<K||0<Q||0<J?l+" On":l+" Off",H=120;e.m.notification.notify(l,15,H,15,!0);break;case t.gk:e.Ya?(e.Ya=!1,e.pb(""),(e.a.counter!==e.Wb||e.Oe||e.$o)&&e.m.notification.notify("Pause",15,40,15,!0)):(e.Qc&&!e.ze&&(e.a.ha||e.a.G)&&(e.a.Xc||!e.a.Xc&&e.a.Yc)&&e.ky(e),e.Ya=!0,
e.pb(""),e.Fn=0===e.a.na?!0:!1,e.eu&&B.pG(e),e.m.notification.notify("Play",15,40,15,!0));break;case t.zp:if(e.Ya)e.Ya=!1,e.pb(""),e.m.notification.notify("Pause",15,40,15,!0);else if((e.a.ha||e.a.G)&&null!==e.a.Ec){e.a.Yc=!e.a.Yc;e.a.Yc&&e.pb("reverse playback");e.pb("");for(y=0;y<e.Ba;y+=1)e.a.ef(!0,e.re,e.Kc,e.Xb),e.a.$e(),e.rb=e.a.counter;e.a.Yc=!0}else 0<e.a.counter&&(e.jB(e.a.counter-e.Ba),e.vs(e.a.counter-e.Ba));break;case t.Ie:e.Ya?(e.Ya=!1,e.pb(""),(e.a.counter!==e.Wb||e.Oe||e.$o)&&e.m.notification.notify("Pause",
15,40,15,!0)):(e.ni=!0,e.pb(""),e.Fn=0===e.a.na?!0:!1)}p=b;e.Tv(e.Ya)}return p};g.prototype.Zs=function(b,l,e){l&&(e.yg=!0,e.a.angle=b[0]);return[e.a.angle,e.a.angle]};g.prototype.$s=function(b,l,e){l?(e.yg=!0,e.a.R=b[0]+.5|0,b=b[0]):b=e.a.R;return[b,e.a.R]};g.prototype.sl=function(b,l,e){return l?(e.yg=!0,e.a.oe=b[0]*b[0],[b[0],e.a.oe*t.yn]):[Math.sqrt(e.a.oe),e.a.oe*t.yn]};g.prototype.ZI=function(b,l,e,p){var y=this.Af;-1===e&&-1===p?(this.ds=this.LF(),2<this.a.c&&!(this.a.Ja||this.a.G||this.a.ba||
this.a.M)&&(y=this.a.c-y),this.ds=this.po&&this.ds===y?0:this.Af):(this.lw(e,p),e=this.Uj,p=this.Vj,this.lw(b,l),b=this.Uj,l=this.Vj,this.pv(e,p,b,l,this.ds)&&this.a.co());0<this.a.na&&(this.Ri=-1,this.a.Z=1)};g.prototype.Hw=function(b,l,e,p){p.ak&&!e&&(p.xb.current=p.wd(t.Ie,!0,p))};g.prototype.IC=function(b,l,e,p){p.MG(b,l,e,p,!1)};g.prototype.WI=function(b,l){l=(b.ji-l)/b.gr;-1!==b.ji&&(0<l?b.Qv(b,l):0>l&&b.Rv(b,-l))};g.prototype.VI=function(b,l){l=(b.ji-l)/b.gr;-1!==b.ji&&(0<l?b.Ov(b,l):0>l&&
b.Pv(b,-l))};g.prototype.XI=function(b,l,e){l=(b.Pn-l)/b.a.ia;e=(b.ji-e)/b.a.ia/(b.a.P?t.hf:1);if(-1!==b.ji){var p=b.a.O||b.a.P?0:-b.a.angle;if(b.Cd)b.Qc&&!b.ze&&(b.xb.current=b.wd(t.Ie,!0,b));else{var y=Math.sin(p/180*Math.PI);p=Math.cos(p/180*Math.PI);b.yg=!0;b.a.za+=l*p+e*-y;b.a.sa+=l*y+e*p}}};g.prototype.RI=function(b,l,e){var p=b.Ya,y=b.ad;b.hk||(b.Ya&&b.dv&&(b.Ya=!1,b.Mp=!0),p&&(b.ad=0,b.pb(""),b.ad=y),b.ZI(l,e,b.Pn,b.ji),p&&b.pb(""))};g.prototype.YI=function(b,l,e){b.ed||b.QI(b,l,e)};g.prototype.QI=
function(b,l,e){var p=b.zb,y=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),z=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1),A=b.a.ha?-1:0,C=Math.round((b.a.width-b.a.wa)/2)+A;A=Math.round((b.a.height-b.a.ta)/2)+A;var D=C+b.a.wa-1,G=A+b.a.ta-1;-1!==b.ua&&(0===b.a.wa&&(C=0,D=b.a.width-1),0===b.a.ta&&(A=0,G=b.a.height-1));if(-1!==l&&-1!==e)if(this.lw(l,e),-1===b.ji)b.dG=l,b.eG=e,b.sb=!1,b.kh=!1;else{if(b.Zj)p.o=b.Uj-y,p.s=b.Vj-z;else if(l!==b.dG||e!==b.eG)l=!1,-1!==b.a.ua&&(b.Uj<C||b.Uj>D||b.Vj<A||b.Vj>G)&&(l=!0),l||(b.Zj=
!0,p.f=b.Uj-y,p.o=p.f,p.g=b.Vj-z,p.s=p.g);b.Zj&&(b.gD(b),y=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),z=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1));b.Zj&&-1!==b.a.ua&&(C-=y,D-=y,A-=z,G-=z,p.f<p.o?(p.f<C&&(p.f=C),p.o>D&&(p.o=D)):(p.o<C&&(p.o=C),p.f>D&&(p.f=D)),p.g<p.s?(p.g<A&&(p.g=A),p.s>G&&(p.s=G)):(p.s<A&&(p.s=A),p.g>G&&(p.g=G)))}};g.prototype.Gv=function(b){b.sb=!1;b.kh=!1;b.pb("cancel selection");b.Zj=!1};g.prototype.UI=function(b){b.ed?b.sA(b,b.Uj,b.Vj,!0):b.OI(b)};g.prototype.pt=function(b){var l=b.zb,e=b.a.J,
p=l.f,y=l.g,z=l.o,A=l.s,C,D=0,G=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),H=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);if(p>z){var I=p;p=z;z=I}y>A&&(I=y,y=A,A=I);p<e.f-G&&(p=e.f-G);y<e.g-H&&(y=e.g-H);z>e.o-G&&(z=e.o-G);A>e.s-H&&(A=e.s-H);e=z+1;I=p-1;var E=A+1;var F=y-1;for(C=y;C<=A;C+=1)for(y=p;y<=z;y+=1){var P=b.a.getState(y+G,C+H,!1);0<P&&(C<E&&(E=C),C>F&&(F=C),y<e&&(e=y),y>I&&(I=y),D+=1)}0<D&&(l.f=e,l.g=E,l.o=I,l.s=F)};g.prototype.OI=function(b){var l=b.zb;if(b.Zj)if(b.sb=!0,b.Zj=!1,b.kh=!1,b.Pj&&b.pt(b),b.sb){var e=
l.o<l.f?l.f-l.o+1:l.o-l.f+1;l=l.s<l.g?l.g-l.s+1:l.s-l.g+1;b.pb("selection ("+e+" x "+l+")")}else b.Gv(b);else b.Gv(b)};g.prototype.TI=function(b,l,e){-1!==l&&-1!==e&&(b.$y=!0,l=b.LF(),b.hs?(b.xL(l),b.hs=!1,b.Ch.current=b.Ak([!1],!0,b)):(b.ds=l,b.vj(l)))};g.prototype.SI=function(b){b.Mp&&(b.Ya=!0,b.Mp=!1,b.m.Gg(!0));0<b.ad&&(b.a.Zh(),b.pb(""))};g.prototype.MG=function(b,l,e,p,y){-1!==b&&-1!==l&&p.m.hasFocus&&(e?(p.Mc.current[0]||(p.ja?p.WI(p,l):p.dc?p.VI(p,l):!p.le&&!p.fg||y?p.XI(p,b,l):p.le?p.RI(p,
b,l):p.fg&&p.YI(p,b,l)),p.Pn=b,p.ji=l):-1!==p.Pn?(p.ja||p.Mc.current[0]||(p.le?p.hk?p.TI(p,b,l):p.SI(p):p.fg&&p.UI(p)),p.Pn=-1,p.ji=-1):p.ja||p.Mc.current[0]||(p.hk?p.m.notification.notify("Now click on a cell",15,180,15,!0):p.ed&&p.m.notification.notify("Now click to paste",15,180,15,!0)))};g.prototype.vm=function(b,l){8>this.a.zoom&&(0>b?b=-8:0<b&&(b=8),0>l?l=-8:0<l&&(l=8));this.ji=this.Pn=0;this.MG(b,l,!0,this,!0);this.ji=this.Pn=-1};g.prototype.Uu=function(b){var l=t.jr;null===l&&(l=new Image,
l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABpAAAAAoCAIAAAB2CC60AAAABnRSTlMAAAAAAABupgeRAAASX0lEQVR4nO2dWZLkKgxFnR294FpK7Zj34dcEiRiEkATY93xUZNlYEoMYZGxfFwAAAAAAAAAAAAAAAAAA7Pj5+TE9/masyxZl/kLuSqdVb308S9NIYHcWAAAAAAAAUOTvagMA0CeEkB35fD4OklfpXUUIwccMN0UALOH39/fn5+f399ftuCxePHM25fZon79Mk8DpYDwCAFggc3l0FAAALRCwA4/FYqRsh+fW6vWHLolVJigWMh8AygEoQoN6d7iNHtc6G0G0DliA8QgAIGbI0zn9ADoKAIAWf1YbAIAJ99zdTn5ttF6ldxVvyy8Aj6S4L8/orFu0bp97G8AHjEfguq7wzWpzwBlkrp12JtTr0Q8AADxBwA48Fru5e3vWvkrvKt6WXwCeyv3krNHZ+DvbAWf0F73HO8F4NBqlOi6kFXpc1/X5BzM9ABlD/l5sSGhaAAAt8EgseDIWyzbmTvglelfxtvwC8CQ8t9ddLtG0LCYIVlHcopKuY4eOM2sT49HFNvguW3HuxCGJycKsXU4zEmN2jUtmLAFPhdNy0jQ+Dem4jggAAAAokw2ciuNoW/IqvZQlXyzVulm9+U3vVV+J3blMUjasvg1NytjhK7FZ4vmz7ZYca6S4z6W2/6V7PNMiYMl+nCVKHTCqXL5qseViOcsri99s5huY7MLJImpcXjsluGRzju4W9qfdYLrNLE2jW1Pqlb6qi144NABwIlMv1LSg5nijN8eGjE+FzORavdC0DBOrjkpVypkjJ9OrhUrVCIQ46B2KqamQPd2WnVXJr7rMhi6m8LXlfJn1ybpiF3ZZRbK2tINJlHQbmttv+qNokvrZm7TVxTpS3IQVeDvsaALm1N9uoOcrHfXcYtFZOyxzQNcq9uXjkdEEZhRmtRZdb1SR4NrJQadxeaMh8TflmaI1J4y/u10cM+WoXj6b6+XXSHG8mOyWR+2ZOVu75P7huQl6oV4V1L24zfIBBWzNqrh1qKCVvitk0mzZ5V2rnOuCalQpZ44c/8w+kiU77I5j3rk8y9nCKdT7PVqkC91ZpcuyZtWuulVnr8oOu1piPrQpctJzhjnThiRTKjCjLUcxRwLcStuBTaztlp5K2baFj141qXQHaRx189nne4euE3X91Mh5V+ktWkJ/Fw9mR4bskRkvvkqxjvbXq6JuXuMOjfmdLClPlarsv8Mu7HHDcFsUK55f1KaVsknXEPCmBmBM+tqRd3Z0My97yiapRSFp8S7ZI1w8vlUt0z1o99cb7I6nZxtWGZ29SKvTqo7sxvtQ26atpd2eL40eY4lS8BKy0U22kxQYoTLszksDN8V+tTiIfEqfIC8myM4OVZBgYiZuAxbj7856xagv9kcvgY/Ps3BJMg/3oxOYJlJ0ZzxZ4ICj0aLBbTWNO9GjwBHEDs3tVcF78lQXe3OdMokxNa031nXPxtDhaDRNwEy0rnFVfN42vVZl4T2qVKARvI12zC6mMVJtIXYTVBxQ0HW0VwfPLnNT6Dww/NsWR+8DxQBcuxlM1gi9tj1kaNV+Ojrz/6qo3hYMuM/AIYRiythXYhG2u1H3XrFA3Qa3Ya90nEdNwl/F7c9oc/LPbDr92rDxb042YR2Kj9jVdbcej/YpReI+uNoWPLuzDrN88VqCk17c8hWVehL1wneegdEMlr5bCg2mzWjXERPXtnd50tZr11lZ6KXjRTFeFjvh4qa5eLlgS13XvKI6XS0XonUEhzF3lR+9jQfsTR4L2N28eSR+sPNsm7WzPAqk8CvOs/nFHiyEkG61czNgE1QCDaMVV7xxrcW2ndiGqHxWoi25xm477NKrhuSP2/U/svX2qphd1CuY+2lNF0+ZdtY25szInNyn09hkZ12e/OdFUrRaiyD9/g0MWNAIz2UhPBozbcT4VGjvjdUdRgXRuqcu0DCZfBLP2Jv8R3xlXOu+BNP8ipuL4i5oFTlGbG4eOA4690Ibc8C0kDnCTxmYHRBH3LJvzg6dvclm+Vrel8pJd0MMSeAnFkdkxLtj/Pso046xKPl0D/38o3hQxrxJ8Xdaobrr/GIo0D+zmUlLVA8Z6a8U1KDVUayg9C7vpzQKKPaZ3WjCZ/ouTnHcHPpL5Yzq1bJfBSwHwJ7IA3Y3b2jZC/PoM5k4ogaPMBLsT9aQXjtjtritlJWts892s8PJb2iim+amFvOyO57h//WJIIqmDfGR3vkfsqq4WuPLHzJv4QgYklcHKMqsnXptn2yHW5HG/u3ZEzZBNJDO5NHOd+bzb/9abM/xd23wipfEH64WayCI1p2YzRp0evZa1ItibdkWAykO0RVdqoYKSlYl2zW9NeGj6btCBFNwsd6aDQ05zGRivRnpzZN2gkl1XUUydcchqN/uglyd9vNukaEFs2x1PUqcb9GD9HjG8nLWLSJFacx+MpvbWYcLqXamkEbfm07EG1PYUWOyXWluv7sG6J5NCd935mmZCEjlBHL/v5Y+Y2ZE41w74wKTBhdVN+zJVqeyCmJ2uY0jKY+fAJiiUqFUJp0zt1W0tXMGpm6aWoJ51fOoFD6/G9Edc1+olw7uNEGmPe3EZmzgXz6jqDZu8v9SOaN6Z1B3KCaTNcuUYzpn5ujVDewsH8GXl6eJ3iDFSK9W+q6QtliL7M/nV6CUmc1uSi2NApNAg1p0Ses4h6HKcqjZWhMabVfWZVs7zjSSk2yytGmJdd3W2pFTmTO6GolT+bW/DRva9tyVXtwlZ3o8S1BLo3I2khbapXfrNZOj3sbaepnqjNq/BaE0LquIZXqoXXdhx84GR8MULeR0mDUzRgXy09ipnkfdibRSvlbvkIXM9pMlkxWCURbotdTy0b9UzqheLftllwuYt9nfj/go6l2Vha2MUdE7+0gsZZNaEeNsf1FXI/7auG2oonp/DjX7IgODOM0zWJW72l6PZxC+p1B2Kqy1DBG+b7H67JJo3GoWcD89SjejWR/PmPmaRPds/J0Vl9ZTCamcWCnzYt/JZHtuiOUnXn43fpTw79nhndvecsMWPoW0UHVqw1oDTCnOXcUTWl1pNeiu3sY8Kro2PdvYXM/fKDeZNYGE4rgp2GE36lwW4/4Qj19kRcI42eUzqhUteTn6AbsbFPTmHF07RxsPbraatm5ljAoNHwl6S3GxJyoWePiO1pnqSmUWJ6/qitzwfJOdQ3HNh1DfTK1qUJ5tdi4fWqch2W1nN2MvLv98usqFql+L7kDsP6xfyQQpC+TFlpOepc0pHXpGG1sM989kYUaCIFp3okOhHxhFVlwoZF2sAnYAAJCRdt/OXXkxrNON9ZxFSPZ33BMph0IWqLCO1qUHjSq3Nnm10PU8HIrr3LXEsxmq9EOr7+54t+oN0pJMDaNDxgrrwKMotvyZEJKiNEoatr6SaF3NZS4Svyual05CDnIrQbRuq44OgAdjFbDT2uwKjDi6do42/s2kFedZiQ8LzBWhM6fiGmx+gkUvXzUfXRWtu564w870Ydji51Oww+4sZIVJbxtko0B6d6FxR+eUPRExBLbakDJpx0jttPDKohaf8lmo+uXQYt9HWlF4bBgN4TTSTQ9mZydj90x/VBzpBNG6I7rljFX9AB3magd3Q1Zc6Gx10Q/YnT4iOttf1NVw3eKpV/nSoWaDSPf+pIU6/vETaczY4mL40svyDj64dsvkU281mz4YG39nxaU1W03lnLuWWEtcYRZXp1p0pR1acbt1AlstBdNhyNkkO9WblO2GREdQ8QhdaRRaj+nwlKXMTsVGlRoZj2zVIRQpjptDf6mcUb1a9g/hXzvMcLCF3lG0bKOiZix5OZoBuycVrmdeZnRN2nlcfR1ncAqnG3pDV/Ux3v3UUBqJA/wDCrm7Srzbku7SYm25rY3WXQY77O5taMWvu5oeT8+2bVM86xBN+3iFUMW5OGWpb2Rno2pOKZkiIaF4UIDYjGwu8UmW1o0ZyNHl7wkKqo3uJNZ0SpxKptUaA3PXtxMxDZtpJ11/1B3mahOb9l8t7UtwXmoVde28DJm3befcnYXOnEmxPmp6aypG03eF0At9iqKopT2KzKjrqs7kq5QzRw7HmMeQZZYOfpwsN3a1GNH91uTN0EzCaHVdC8wJgjvLy5kW0WgudAtZNlGbN8A0WtfO1IfxShp+mkga1fL8XTTA9N9IIPsUdBtGIPf/jWhPHubTO5OVWK3/HBLIuZzZmWxYYhtSa/bxeNsvtAZumfdxruqmsVOdJr5/LGmT/G5Et8PZvPu6RBbGPioblTJnoWOK5yjT9uhJ4Vdp3OT/pXJG9WrZryKKyYzGVf7LR7FUjQTOmHHjX55Weqs3+75R1lrXq5W+K2RUkVaBMOVrqWNq5yfYTdER0Dxq5bqxlUblOIch+42quFiSio3Ks5ztciGm5q0NVDRyDp5CcTec6XGmARZnb2JfF/9Vqb5MjkOTkDVsRXfQpdZVuqm26zdeRa24Uo8TXD6aWFZrnKu6aexUx5QqCIykBmil1NW7CpmF4Xv6XTzLOUgF8m3gWMg3YEhyIOPm6F8qZ1Svlv1aAu2cN9UyZMykRnCtK09bvdaNdVSvVvquEJl5k8XSFauukWlD10KtnDLNeBg0m1oZR8AuiqXlqdioFgbsikf8qXl019PFujgHT8ehXcVTxTTMs6NKI9ZVFr7XEkYqxK16z9Ets8fTQtN+41W0y4rjF0OlrV5rnKu6aexUX3rRuplWzReios5ImgViC0MyP6QHsyOh50e1C8WoC2xoGf37SOycV2yGj8Zn41yeuk3or8CC5XsaF8J53OlQtn0ZwZvb2+ns1qKiPc9oVDvkYqjfUH8dxq16h3I4jvhKu+Ijq3Znr+sK9k8SWctX7NlM7RSQZm0rw47gYUNMl/ajtZ6WADBDbMnth0/j31B6fpZKaxwZNS9zKIseRvYOu0f2dQ9e7INDGQvYPdItBah7sjhYplsjG8bs0OTOBXX3Epj9xmR7qN1hRjOT0d5DR5PNn43xO4dZvulaYn7hlLnMU9c8b6O9ht+HhmvsbPYmbDhPphQt1I0mUxX+LceuIrqzi/SU+qshuxqNQLQuA2E7MENjsBA4Djdg92yflKHrybFes1d4Uo2X5Up1q7nI41ud+l04wAGFrI5/v4Fo3STdfXB2Z8/dYae4RqUxuxlpFiiu6rd6s7gdm5sHtEidd89K110ovoFsvOiGs2ncqniqLXDUwvRfowWg4O/jQdgOiCl2xTLH+cNR9hKflKFYPnxRppWySXVvYgZ4GGhXJ5Iu1++3P2BgmqT2/Vbrs1fpeSKVqXAqJy6Z5sVGyeo7SmgbFr/cZHOyHIWE+wgtik+Cn6EaxA5qtSEtbu/IQsb7m70P+xdU0cL9zV5CbPnRKTLvoB11PE69Jg1mKfbnn29UZF424+/OesWcOBiBHSj2DwJaATu0Tj4WZaVVx/Oq/XHYGeEjZJVeNwLBXyZNH8jd70PXfiAlLimfVI/FD63G7W8Wx1PaCYzOhlI0rRvT6R5P/y2uoxTRvVGnImeIRm95dFe5w3h0l96qUbuhOpAtPzFs97x+1YH9i2vhIuIsPt9PONXcIZtPZgdTQv1WhBj1ni0TXtPFPH6WXjHoJ4GAdnfBFaJkDAAbkU1MFVdubclL9M58yFVG40m3a9HTT3TYVh9Tl5ezaQACLCTdkub5m2PPzNlGyvC9w+7+kXVx8ffQ8XTFpeUygUQD52X6q3gb/uNRIE/MTaqWUVPtbJJMHeeqbho71Sei5QivIovfXYwCzJKlY9DOTcti/N1ZLwAAgF1IO3fTO1GNuz2eeim16JLWcUrQ+8q7oigLrMu2sS+JYR04krvSi7vkTI+nZ+lv3bMRHweHv7yZVeNRd3uIAJnN2YTB3x3s8ttN41nU4LWkbabWeHQbFRoqAACA59AdRI3kr9JLcQ7Y6WbcuhgnQcAOWLCqXWVni8lUzqZYN+awd9AfmPKq8ajBU5f34ngc4nRgntq0n5MYAABk9D86AcChBLNd6O031KzSu4q35Xch6gsVrFtAiumXKOLvkLzDzujv5k8hATswHkWOfh1hg482qzMEtoDp3elzst1r0boAACr8XW0AACZYr9Zqc/dVelfhk19Mei7M/IAlnl+fyN7sY/1XViDgRDAeAQBkUL9uO3vAp1oAAF4gYAceSxrY0hpTOcGyVXr9obMZlfxSmVgjAaDL5JOzgrMRROuABRiPAACKxM101N/jkYBvegAA7EHADjwQu7GzLXmV3lW4WbVn9gE4F/r46h1uqz3WOn82cruzz1/wHjAeAQDUWTXtBwAAAAAAAAAAAAAAAADAjvwHXOCRqfndkrIAAAAASUVORK5CYII=",
t.jr=l);this.U=new IconManager(l,b);this.U.add("play",40,40);this.U.add("pause",40,40);this.U.add("tostart",40,40);this.U.add("menu",40,40);this.U.add("stepback",40,40);this.U.add("stepforward",40,40);this.U.add("autofit",40,40);this.U.add("fit",40,40);this.U.add("grid",40,40);this.U.add("shrink",40,40);this.U.add("draw",40,40);this.U.add("hexgrid",40,40);this.U.add("lines",40,40);this.U.add("pan",40,40);this.U.add("pick",40,40);this.U.add("states",40,40);this.U.add("hexagongrid",40,40);this.U.add("trianglegrid",
40,40);this.U.add("inside",40,40);this.U.add("undo",40,40);this.U.add("redo",40,40);this.U.add("drawpause",40,40);this.U.add("invertselection",40,40);this.U.add("autoshrink",40,40);this.U.add("selectlibrary",40,40);this.U.add("cut",40,40);this.U.add("copy",40,40);this.U.add("paste",40,40);this.U.add("flipx",40,40);this.U.add("flipy",40,40);this.U.add("rotatecw",40,40);this.U.add("rotateccw",40,40);this.U.add("random",40,40);this.U.add("smart",40,40);this.U.add("outside",40,40);this.U.add("select",
40,40);this.U.add("reverse",40,40);this.U.add("uturn",40,40);this.U.add("nudgeright",40,40);this.U.add("nudgeleft",40,40);this.U.add("nudgeup",40,40);this.U.add("nudgedown",40,40)};g.prototype.ZF=function(b){var l=!1,e=null;""===b&&(b="Life");try{e=this.v.create("","x = 1, y = 1, rule = "+(b+"\nb!"),this.a.l,null,null,[],this)}catch(p){e=null}e&&e.pe&&(l=!0);return l};g.prototype.eD=function(b){var l=window.prompt("Change rule",(""===b.hd?b.ub:b.hd)+b.Cm);if(null!==l)if(b.ZF(l)){""===l&&(l="Life");
var e=l.indexOf(":");-1!==e?(b.ub=l.substr(0,e),b.Cm=l.substr(e)):(b.ub=l,b.Cm="");b.hd="";e=b.a.yx(b,b.a,!0);b.Hd&&(b.F=b.Ur,b.D=b.Tr);b.ui(e,!1)}else b.m.notification.notify("Invalid rule",15,180,15,!0)};g.prototype.rD=function(){var b=this.a.Qa.Ph;var l="",e,p;var y="R"+b+",C"+(this.a.Qa.ko+",");b=this.v.Lr(b,this.a.Qa.type,this.a.Qa.Wh);switch(this.a.Qa.type){case this.v.Jd:l="";break;case this.v.kf:l="N";break;case this.v.Wj:l="C";break;case this.v.ck:l="2";break;case this.v.Oi:l="+";break;case this.v.nj:l=
"X";break;case this.v.sj:l="*";break;case this.v.fi:l="H";break;case this.v.Li:l="B";break;case this.v.Yi:l="#";break;case this.v.wn:l="@"+this.a.Qa.zf;this.a.O?l+="H":this.a.P&&(l+="L");break;case this.v.Lh:l="3";break;case this.v.nh:l="A";break;case this.v.Kh:l="L";break;case this.v.ai:l="G";break;case this.v.qq:l="W"+this.a.Qa.zf,this.a.O?l+="H":this.a.P&&(l+="L")}var z=this.Ob.random()*b/b;y+="S";var A=-1;for(e=p=0;p<b;)this.Ob.random()<z?-1===A&&(0<e&&(y+=","),y+=String(p),A=p,e+=1):-1!==A&&
(A!==p-1&&(y+="-"+String(p-1)),A=-1),p+=1;-1!==A&&A!==p-1&&(y+="-"+String(p-1));0===e&&(A=this.Ob.random()*b|0,y+=String(A));y+=",B";z=this.Ob.random()*(b-1)/(b-1);A=-1;p=1;for(e=0;p<b;)this.Ob.random()<z?-1===A&&(0<e&&(y+=","),y+=String(p),A=p,e+=1):-1!==A&&(A!==p-1&&(y+="-"+String(p-1)),A=-1),p+=1;-1!==A&&A!==p-1&&(y+="-"+String(p-1));0===e&&(A=this.Ob.random()*(b-1)|1,y+=String(A));""!==l&&(y+=",N"+l);return y};g.prototype.sD=function(){var b=this.a.Qa.Ph;var l="";var e="R"+b+",C"+(this.a.Qa.ko+
",");e+="M1,";b=this.v.Lr(b,this.a.Qa.type,this.a.Qa.Wh);b+=1;switch(this.a.Qa.type){case this.v.Jd:l="M";break;case this.v.kf:l="N";break;case this.v.Wj:l="C";break;case this.v.ck:l="2";break;case this.v.Oi:l="+";break;case this.v.nj:l="X";break;case this.v.sj:l="*";break;case this.v.fi:l="H";break;case this.v.Li:l="B";break;case this.v.Yi:l="#";break;case this.v.wn:l="@"+this.a.Qa.zf;this.a.O?l+="H":this.a.P&&(l+="L");break;case this.v.Lh:l="3";break;case this.v.nh:l="A";break;case this.v.Kh:l=
"L";break;case this.v.ai:l="G";break;case this.v.qq:l="W"+this.a.Qa.zf,this.a.O?l+="H":this.a.P&&(l+="L")}var p=this.Ob.random()*b|0;e+="S"+String(p);p=(this.Ob.random()*(b-p)|0)+p;e+=".."+String(p);p=(this.Ob.random()*(b-1)|0)+1;e+=",B"+String(p);p=(this.Ob.random()*(b-p)|0)+p;e+=".."+String(p);return e+(",N"+l)};g.prototype.vD=function(){var b="W";var l=2*(127*this.Ob.random()|0);return b+=String(l)};g.prototype.tD=function(b){var l="B",e,p,y=8,z="";if(this.a.O)switch(this.a.tg){case this.v.gp:y=
6;z=this.v.su;break;case this.v.ir:y=3,z=this.v.Jy}else if(this.a.P)switch(this.a.Od){case this.v.Eo:y=3;z=this.v.Vs;break;case this.v.nq:y=6;z=this.v.iw;break;case this.v.oq:y=6;z=this.v.jw;break;case this.v.Fo:y=9;z=this.v.Xs;break;case this.v.an:y=12,z=this.v.Ws}else this.a.ne&&(y=4,z=this.v.rw);var A=new Uint8Array(y+1);var C=new Uint8Array(y+1);var D=p=50;-1!==this.gl&&(D=p=this.gl);-1!==this.hl&&(p=this.hl);-1!==this.Hm&&(D=this.Hm);for(e=0;e<=y;e+=1)A[e]=p,C[e]=D;-1===this.gl&&-1===this.hl&&
(A[0]=25);for(e=0;e<this.Fh.length;e+=2)this.Fh[e]<=y&&(A[this.Fh[e]]=this.Fh[e+1]);for(e=0;e<this.hj.length;e+=2)this.hj[e]<=y&&(C[this.hj[e]]=this.hj[e+1]);for(e=2<this.a.c||b?1:0;e<=y;)100*this.Ob.random()<=A[e]&&(l+=String(e)),e+=1;l+="/S";for(e=0;e<=y;e+=1)100*this.Ob.random()<=C[e]&&(l+=String(e));2<this.a.c&&!this.a.M&&(l+="/"+this.a.c);return l+=z.toUpperCase()};g.prototype.uD=function(b){var l=b?this.v.KK.toUpperCase()+",":"M",e,p=!1;var y=0;var z=[];var A=this.a.ng;if(this.Av){p=new Uint8Array(16);
b=new Uint8Array(16);for(e=0;16>e;e+=1)p[e]=e,b[e]=A[e];for(e=0;16>e;e+=1){var C=A[e];for(y=b=0;16>y;y+=1)C===A[y]&&(b+=1);var D=new Uint8Array(b);for(y=b=0;16>y;y+=1)C===A[y]&&(D[b]=y,b+=1);z[e]=D}for(e=1;16>e;e+=1).5>=this.Ob.random()&&(D=z[e],b=this.Ob.random()*D.length|0,b=D[b],A=p[e],p[e]=p[b],p[b]=A);for(e=0;15>e;e+=1)l+=p[e]+",";l+=p[e]}else if(this.xv){e=16;b?(b=0,y|=1):(b=16*this.Ob.random()|0,15==b?(p=!0,y|=32769,--e):(b=0,y|=1));l+=String(b);for(--e;65535!==y;){b=this.Ob.random()*e|0;for(C=
0;0<=b;)0===(y&1<<C)&&--b,C+=1;l+=","+String(C-1);y|=1<<C-1;--e}p&&(l+=",0")}else{b?b=0:(b=16*this.Ob.random()|0,15===b?p=!0:b=0);l+=String(b)+",";for(e=1;15>e;e+=1)b=16*this.Ob.random()|0,l+=String(b)+",";b=p?0:16*this.Ob.random()|0;l+=String(b)}return l};g.prototype.wv=function(b,l){var e="",p,y,z=0,A,C=[],D=0,G=b.vv,H=b.Bv,I=b.tv/100,E=!1;-1!==b.ub.indexOf("|")&&(E=!0);if(2>=b.a.c&&!b.a.Qf)C[0]="b",C[1]="o",D=2;else for(b.a.Qf?D=2:D=b.a.c,C[0]=".",y=0;y<D-1;y+=1)C[y+1]=24<=y?String.fromCharCode(112+
(y/24|0)-1)+String.fromCharCode(65+y%24):String.fromCharCode(65+y);-1!==b.a.Pd&&(G=1);for(p=0;p<G;p+=1){var F=this.Ob.random()<=I?(this.Ob.random()*(D-1)|0)+1:0;for(y=A=1;y<H;y+=1)z=this.Ob.random()<=I?(this.Ob.random()*(D-1)|0)+1:0,z!==F&&(1<A&&(e+=A),e+=C[F],A=0,F=z),A+=1;0!==z&&(1<A&&(e+=A),e+=C[z]);p<G-1&&(e+="$\n")}e+="!\n";b.rs||l||(b.a.ba||(b.a.ha||b.a.G?(b.ub=b.uD(b.a.G),E&&(b.ub+="|"+b.uD(b.a.G))):b.a.oa?b.BC?(b.ub=b.sD(),E&&(b.ub+="|"+b.sD())):(b.ub=b.rD(),E&&(b.ub+="|"+b.rD())):-1!==b.a.Pd?
(b.ub=b.vD(),E&&(b.ub+="|"+b.vD())):(b.ub=b.tD(E),E&&(b.ub+="|"+b.tD(E)))),b.a.Ia&&(b.ub+="History"),b.a.M&&(b.ub+="Super"),l=AliasManager.ar(b.ub),null!==l?b.hd=l:b.hd="");l=b.a.vc;l+="x = "+t.Rp+", y = "+t.Rp+", rule = ";l+=(""===b.hd?b.ub:b.hd)+b.Cm+"\n";l=l+e+b.a.jg;if(b.yj.locked||b.uv||window.confirm("Create new random pattern?"))b.Hd&&(b.F=b.Ur,b.D=b.Tr),b.ui(l,!1),b.$A(b)};g.prototype.PE=function(b){var l=window.prompt("Create new pattern with rule",(""===b.hd?b.ub:b.hd)+b.Cm);null!==l&&(b.ZF(l)?
(""===l&&(l="Life"),b.Hd&&(b.F=b.Ur,b.D=b.Tr),b.ui("x = 1, y = 1, rule = "+(l+"\nb!"),!1)):b.m.notification.notify("Invalid rule",15,180,15,!0))};g.prototype.DG=function(){this.ei.icon=this.a.O?this.a.be?[this.U.icon("hexagongrid")]:[this.U.icon("hexgrid")]:this.a.P?[this.U.icon("trianglegrid")]:[this.U.icon("grid")]};g.prototype.Jw=function(b,l){b.m.hasFocus&&(b.rn||(b.wheelDelta=-l.deltaY,1===l.deltaMode&&(b.wheelDelta*=45),b.m.Gg(!0)),l.preventDefault())};g.prototype.jC=function(){var b=this.T.XC(0===
this.Is?0:this.fh/this.Is),l=this.Rm,e=this.Uo;this.a.za=this.a.width/2-(this.Sm+b*(this.Ok-this.Sm));this.a.sa=this.a.height/2-(this.Tm+b*(this.Gn-this.Tm));this.a.zoom=this.qo*Math.pow(this.bm/this.qo,b);180<e-l?l+=360:-180>e-l&&(e+=360);this.a.angle=(l+b*(e-l))%360;this.Xt&&(this.a.oe=this.qB+b*(this.sy-this.qB),this.bd.current=this.sl([this.a.oe,this.a.oe],!1,this));this.Iu&&(this.a.R=this.rB+b*(this.ty-this.rB),this.Yd.current=this.$s([this.a.R,this.a.R],!1,this));this.fh+=1;this.fh>this.Is&&
(this.fh=-1,this.a.zoom=this.bm,this.a.angle=e%360,this.a.za=this.a.width/2-this.Ok,this.a.sa=this.a.height/2-this.Gn,this.Xt&&(this.a.oe=this.sy,this.bd.current=this.sl([this.a.oe,this.a.oe],!1,this)),this.Iu&&(this.a.R=this.ty,this.Yd.current=this.$s([this.a.R,this.a.R],!1,this)));this.tc&&(this.tc.current=this.Dk([this.a.zoom,this.a.zoom],!1,this));this.Bd&&(this.Bd.current=this.Zs([this.a.angle,this.a.angle],!1,this))};g.prototype.hB=function(b,l){var e=b.T.qc[l];b.Sm=b.a.width/2-b.a.za;b.Tm=
b.a.height/2-b.a.sa;b.qo=b.a.zoom;b.Rm=b.a.angle;e.ig?b.Ok=e.x:b.Ok=b.Sm;e.Lf?b.Gn=e.y:b.Gn=b.Tm;e.ce?b.bm=e.zoom:b.bm=b.qo;e.mh?b.Uo=e.angle:b.Uo=b.Rm;b.a.O&&(b.Ok+=b.a.sa/2);b.Xt=e.Yh;b.Xt&&(b.qB=b.a.oe,b.sy=e.depth/t.yn);b.Iu=e.ki;b.Iu&&(b.rB=b.a.R,b.ty=e.R);b.fh=0;b.Is=e.ik;b.jC();e.io&&b.PF(b);e.Ug===WaypointConstants.play?b.xb.current=b.wd(t.gk,!0,b):e.Ug===WaypointConstants.stop&&b.Ya&&(b.xb.current=b.wd(t.Ie,!0,b));e.gg&&b.Mm(e.Ac,b.a.Rl,b);b.m.notification.notify("POI "+(l+1),15,60,15,!0);
""!==e.Kf?b.m.notification.notify(e.Kf,15,180,15,!1):b.m.notification.clear(!1,!0);e.Um&&(b.Wb=e.Wb);e.nm&&(b.bb=e.bb);e.di&&(b.rg=Math.sqrt((e.xc-t.Sg)/(t.pm-t.Sg)),b.ec.current=b.Bk([b.rg,b.rg],!0,b));e.xi&&(b.Ba=e.step,b.Nd.current=b.en([b.Ba,b.Ba],!0,b));e.Hs&&(b.a.counter>e.mc&&b.PF(b),b.a.counter<e.mc&&(b.rn=!0,b.Ox=e.mc,b.Nx=!1));e.Tk&&(b.a.ac=e.cd);e.Yv&&(this.ti=e.Qm)};g.prototype.Uh=function(b,l,e){var p=l/b.a.sc;e&&(l=1<=l?Math.round(l):1/Math.round(1/l),p=l/b.a.sc);b.Cd||(b.Sm=b.a.width/
2-b.a.za,b.Tm=b.a.height/2-b.a.sa,b.qo=b.a.zoom,b.Rm=b.a.angle,b.Ok=b.Sm,b.Gn=b.Tm,b.bm=p,b.Uo=b.Rm,b.fh=0)};g.prototype.CC=function(b){b.iC(b)};g.prototype.Zw=function(b){b.OA(b)};g.prototype.rt=function(b){b.rk||b.sk||b.tk||b.uk||b.qj?(b.rk=!1,b.sk=!1,b.tk=!1,b.uk=!1,b.qj=!1):b.Mc.current=[!1]};g.prototype.Tw=function(b){b.tk=!0};g.prototype.ev=function(b){b.rk=!0};g.prototype.Uw=function(b){b.uk=!0};g.prototype.uw=function(b){b.sk=!0};g.prototype.Gw=function(b){b.PE(b)};g.prototype.Yw=function(b){b.wv(b,
!1)};g.prototype.ax=function(b){b.$A(b);b.m.notification.notify("Saved",15,120,15,!0)};g.prototype.et=function(b){b.lE(b)};g.prototype.$w=function(b){b.eD(b)};g.prototype.ix=function(b){b.qj=!0};g.prototype.we=function(b,l,e){e&&(l[0]?(this.Mm(t.Ls[b],1,this),this.Mc.current[0]&&(this.Mc.current=this.Rs([!1],!0,this))):(this.Mc.current[0]&&(this.Mc.current=this.Rs([!1],!0,this)),l[0]=!0));return l};g.prototype.nx=function(b,l,e){return e.we(0,b,l)};g.prototype.Ax=function(b,l,e){return e.we(1,b,l)};
g.prototype.Ez=function(b,l,e){return e.we(2,b,l)};g.prototype.Pz=function(b,l,e){return e.we(3,b,l)};g.prototype.qA=function(b,l,e){return e.we(4,b,l)};g.prototype.CA=function(b,l,e){return e.we(5,b,l)};g.prototype.MA=function(b,l,e){return e.we(6,b,l)};g.prototype.bB=function(b,l,e){return e.we(7,b,l)};g.prototype.zB=function(b,l,e){return e.we(8,b,l)};g.prototype.hC=function(b,l,e){return e.we(9,b,l)};g.prototype.Ex=function(b,l,e){return e.we(10,b,l)};g.prototype.cy=function(b,l,e){return e.we(11,
b,l)};g.prototype.ry=function(b,l,e){return e.we(12,b,l)};g.prototype.yy=function(b,l,e){return e.we(13,b,l)};g.prototype.Hy=function(b,l,e){return e.we(14,b,l)};g.prototype.Py=function(b,l,e){return e.we(15,b,l)};g.prototype.Zy=function(b,l,e){return e.we(16,b,l)};g.prototype.bz=function(b,l,e){return e.we(17,b,l)};g.prototype.rz=function(b,l,e){return e.we(18,b,l)};g.prototype.vz=function(b,l,e){return e.we(19,b,l)};g.prototype.Qy=function(b){b.jj=!1};g.prototype.nw=function(b){b.Wc=!1;b.em.current=
b.sC([b.Wc],!0,b)};g.prototype.Dv=function(b){b.jd.length?(b.jd=[],b.dc=0,b.iB(b.rd.current)):k()};g.prototype.FF=function(b){--b.Mg;0>b.Mg&&(b.Mg=b.T.qc.length-1);b.hB(b,b.Mg)};g.prototype.QE=function(b){b.Mg+=1;b.Mg>=b.T.qc.length&&(b.Mg=0);b.hB(b,b.Mg)};g.prototype.Iw=function(b){b.$c+=1;b.$c>=B.se.length&&(b.$c=0);b.ui(B.se[b.$c].pattern,!1)};g.prototype.Vw=function(b){--b.$c;0>b.$c&&(b.$c=B.se.length-1);b.ui(B.se[b.$c].pattern,!1)};g.prototype.dx=function(b){b.yB();b.ja&&(b.ja=0);b.Mc.current[0]=
!1;b.m.Jh=!0};g.prototype.cx=function(b){b.Bs=!0};g.prototype.pC=function(b){b.Hh(t.tl,b)};g.prototype.gI=function(b,l){var e=0;if((b.a.Ia||b.a.M)&&l)for(;e<b.tb.length;)1<b.tb[e]&&(b.tb[e]&=1),e+=1;else for(;e<b.tb.length;)b.tb[e]=0,e+=1};g.prototype.iD=function(b){var l=b.zb,e=l.f,p=l.o,y=l.g;l=l.s;var z=b.a.J,A=z.f,C=z.o,D=z.g;z=z.s;var G=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1);var H=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);if(!b.Ma&&b.sb){if(e>p){var I=p;p=e;e=I}y>l&&(I=l,l=y,y=I);e+=G;p+=G;y+=H;l+=H;for(I=
D;I<=z;I+=1)for(D=A;D<=C;D+=1)I>=y&&I<=l&&D>=e&&D<=p||(G=b.a.getState(D,I,!1),0!==G&&b.Zc(D,I,0));b.pb("clear cells outside selection")}};g.prototype.hI=function(b,l){var e=b.zb,p=e.f,y=e.o,z=e.g;e=e.s;var A=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),C=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);if(!b.Ma&&b.sb){if(p>y){var D=y;y=p;p=D}z>e&&(D=e,e=z,z=D);if((b.a.Ia||b.a.M)&&l){for(D=z;D<=e;D+=1)for(z=p;z<=y;z+=1){var G=b.a.getState(z+A,D+C,!1);1<G&&b.Zc(z+A,D+C,G&1)}b.a.Ia&&this.a.co()}else for(D=z;D<=e;D+=1)for(z=
p;z<=y;z+=1)G=b.a.getState(z+A,D+C,!1),0!==G&&b.Zc(z+A,D+C,0);b.a.Ih=!0;b.a.Zh();b.kh=!1;(b.a.Ia||b.a.M)&&l?b.a.Ia?b.pb("clear [R]History cells in selection"):b.pb("clear [R]Super cells in selection"):b.pb("clear cells in selection")}};g.prototype.ly=function(b,l){b.Ma||(b.ed?b.gI(b,l):b.hI(b,l))};g.prototype.np=function(b){b.ly(b,!1)};g.prototype.bp=function(b){b.iD(b)};g.prototype.ip=function(b){b.ly(b,!0)};g.prototype.cG=function(b){var l=b.zb,e=b.a.J,p=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),y=(b.a.height>>
1)-(b.lb>>1)+(b.Hb<<1);0<b.a.na?(l.f=e.f-p,l.g=e.g-y,l.o=e.o-p,l.s=e.s-y,b.sb=!0,b.kh=!1,e=l.o<l.f?l.f-l.o+1:l.o-l.f+1,l=l.s<l.g?l.g-l.s+1:l.s-l.g+1,b.pb("select all ("+e+" x "+l+")")):b.Gv(b)};g.prototype.IF=function(b,l,e){b.Ma||(!b.dl&&b.ph&&(l?b.Gq(b,!0):b.Ma?b.Gq(b,!0):e?b.yt(b,!0):b.yt(b,!1)),b.by(b,b.og,!1,!1))};g.prototype.zD=function(b){b.IF(b,!1,!1)};g.prototype.by=function(b,l,e,p){var y=b.zb,z=y.f,A=y.o,C=y.g;y=y.s;var D,G=0,H=b.a.c,I=2<H&&!(this.a.Ja||this.a.G||this.a.ba||this.a.M),E=
(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),F=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);if(b.sb){if(z>A){var P=A;A=z;z=P}C>y&&(P=y,y=C,C=P);var K=A-z+1;var Q=y-C+1;var J=b.a.l.K(Uint8,K*Q,"View.pasteBuffer"+l);P=0;for(D=C;D<=y;D+=1)for(C=z;C<=A;C+=1){var W=b.a.getState(C+E,D+F,!1);0<W&&I&&(W=H-W);J[P]=W;0<W&&(G+=1);b.Zc(C+E,D+F,0);P+=1}b.Ef[l]={buffer:J,width:K,height:Q,count:G};b.tb=J;b.gf=K;b.ff=Q;b.At();b.a.Ih=!0;b.a.Zh();b.Bq=!0;b.qd=!1;b.kh=!0;p||(e?b.pb("advance outside"):b.pb("cut"))}};g.prototype.HF=function(b,
l,e){0!==b.ja?(Help.Qx=!0,Help.sn="",Help.au(b),b.tn(b,Help.sn,!1),Help.Qx=!1,Help.sn=""):(b.dl||!b.ph&&b.sb||(l?b.Gq(b,!0):b.Ma?b.Gq(b,!0):e?b.yt(b,!0):b.yt(b,!1)),b.sb&&(b.sI(b,b.og),b.$v||(b.$v=!0,b.m.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};g.prototype.xp=function(b){b.HF(b,!1,!1)};g.prototype.xI=function(b){var l=b.zb,e=l.f,p=l.g,y=l.o,z=l.s,A,C,D=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),G=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1),H=!0;l=[];if(b.sb){if(e>y){var I=
e;e=y;y=I}p>z&&(I=p,p=z,z=I);I=y-e+1;if(I!==z-p+1)b.m.notification.notify("Weighted needs a square selection",15,180,15,!0),H=!1;else if(0===(I&1))b.m.notification.notify("Weighted size must be odd",15,180,15,!0),H=!1;else if(3>I||99<I)b.m.notification.notify("Weighted size must be >= 3 and <= 99",15,180,15,!0),H=!1;if(H){H="";var E=0;for(C=p;C<=z;C+=1)for(A=e;A<=y;A+=1)p=b.a.getState(A+D,C+G,!1),l[l.length]=p,p>E&&(E=p);if(7>=E)for(e=0;e<l.length;e+=1)p=l[e],H+=b.v.ru[p];else for(e=0;e<l.length;e+=
1)p=l[e],H+=b.v.ru[p>>4],H+=b.v.ru[p&15];b.a.O?H+="H":b.a.P&&(H+="L");b.tn(b,H,!1);b.m.notification.notify("Weighted R"+(I-1>>1)+" copied to clipboard",15,180,15,!0)}}else b.m.notification.notify("Weighted needs a selection",15,180,15,!0)};g.prototype.nI=function(b){var l=b.zb,e=l.f,p=l.g,y=l.o;l=l.s;var z=0,A,C=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),D=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);var G=!0;if(b.sb){if(e>y){var H=e;e=y;y=H}p>l&&(H=p,p=l,l=H);H=y-e+1;if(H!==l-p+1)b.m.notification.notify("CoordCA needs a square selection",
15,180,15,!0),G=!1;else if(0===(H&1))b.m.notification.notify("CoordCA size must be odd",15,180,15,!0),G=!1;else if(3>H||99<H)b.m.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),G=!1;if(G){var I="";var E=p+(l-p+1>>1);G=e+(y-e+1>>1);var F=3;for(A=p;A<=l;A+=1)for(p=e;p<=y;p+=1)if(A!==E||p!==G){var P=b.a.getState(p+C,A+D,!1);0<P&&(z|=1<<F);--F;0>F&&(I+=b.v.ru[z],F=3,z=0)}b.a.O?I+="H":b.a.P&&(I+="L");b.tn(b,I,!1);b.m.notification.notify("CoordCA R"+(H-1>>1)+" copied to clipboard",
15,180,15,!0)}}else b.m.notification.notify("CoordCA needs a selection",15,180,15,!0)};g.prototype.qI=function(b){2<b.a.c?b.xI(b):b.nI(b)};g.prototype.sI=function(b,l){var e=b.zb,p=e.f,y=e.g,z=e.o;e=e.s;var A,C=0,D=b.a.c,G=2<D&&!(this.a.Ja||this.a.G||this.a.ba||this.a.M),H=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),I=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);if(b.sb){if(p>z){var E=p;p=z;z=E}y>e&&(E=y,y=e,e=E);var F=z-p+1;var P=e-y+1;var K=b.a.l.K(Uint8,F*P,"View.pasteBuffer"+l);E=0;for(A=y;A<=e;A+=1)for(y=p;y<=
z;y+=1){var Q=b.a.getState(y+H,A+I,!1);0<Q&&G&&(Q=D-Q);K[E]=Q;0<Q&&(C+=1);E+=1}b.Ef[l]={buffer:K,width:F,height:P,count:C};b.tb=K;b.gf=F;b.ff=P;b.At();b.Bq=!0;b.qd=!1;b.kh=!0}};g.prototype.tt=function(b){b.ed=!1;b.m.notification.clear(!0,!1);b.qd&&b.iC(b);b.qd=!1};g.prototype.kJ=function(b,l){var e=this.Vc,p=this.ph;l?b.sb?(b.by(b,b.og,!0,!1),b.a.ef(!0,b.re,b.Kc,b.Xb),b.a.$e(),b.pb(""),this.Vc=t.av,b.ov(b,!0,!0),this.Vc=e):b.m.notification.notify("Advance Outside needs a selection",15,180,15,!0):
b.qd?(b.FD(b),b.qd||b.m.notification.notify("Advance Selection all cells died",15,180,15,!0)):b.sb?(b.kh||(this.ph=!1,b.zD(b),this.ph=p),b.Bq&&(b.FD(b),b.qd||b.m.notification.notify("Advance Selection no live cells",15,180,15,!0))):b.m.notification.notify("Advance Selection needs a selection",15,180,15,!0)};g.prototype.FD=function(b){var l,e,p,y=b.gf,z=b.ff,A=b.tb,C=b.zb,D=b.a.J,G=b.a.Gd,H=b.Vo,I=b.a.cd,E=b.a.Bg,F=b.a.X,P=b.a.Xj,K=b.a.Vd,Q=b.a.zc,J=b.a.Fa,W=b.a.ca,Z=b.a.ka,T=b.a.Da,M=b.a.xa,fa=b.a.width,
X=b.a.height,ia=b.a.Za,ma=b.a.Mb,ba=b.a.Ye,V=b.a.zq,da=b.a.kd,ca=b.a.Jc,na=b.a.ra,la=b.a.pa,U=b.a.Ab,R=b.a.Cb,aa=b.a.counter,ha=new BoundingBox(D.f,D.g,D.o,D.s),ea=new BoundingBox(G.f,G.g,G.o,G.s),Y=b.a.Ne,L=b.a.wi,N=b.a.tj,ka=b.a.Hf,S=b.a.Yb,O=b.a.xe,ja=b.a.Yn,oa=b.a.el,qa=null,ra=null;b.a.oa&&(qa=b.a.Qa.Lg,ra=b.a.Qa.ut,b.a.Qa.resize(1024,1024));b.a.LH();var ta=Math.round((b.a.width-b.hb)/2);var pa=Math.round((b.a.height-b.lb)/2);for(p=l=0;p<z;p+=1)for(e=0;e<y;e+=1){var sa=A[l];0<sa&&b.a.pj(e+ta,
p+pa,sa,!0);l+=1}b.a.ef(!1,!0,!0,b.Xb);b.a.$e();if(b.a.Z){b.gf=D.o-D.f+1;b.ff=D.s-D.g+1;b.tb=b.a.l.K(Uint8,b.gf*b.ff,"View.pasteBuffer");l=0;for(p=D.g;p<=D.s;p+=1)for(e=D.f;e<=D.o;e+=1)sa=b.a.getState(e,p,!1),0<sa&&2<b.a.c&&!b.a.G&&!b.a.ba&&(sa=b.a.c-sa),b.tb[l]=sa,l+=1;b.qd?(H.f+=D.f-ta,H.g+=D.g-pa,H.o=H.f+b.gf-1,H.s=H.g+b.ff-1):(H.f=C.f<C.o?C.f+D.f-ta:C.o+D.f-ta,H.g=C.g<C.s?C.g+D.g-pa:C.s+D.g-pa,H.o=H.f+b.gf-1,H.s=H.g+b.ff-1);b.qd=!0}else b.qd=!1;b.a.cd=I;b.a.Bg=E;b.a.X=F;b.a.Xj=P;b.a.Vd=K;b.a.zc=
Q;b.a.Fa=J;b.a.ca=W;b.a.ka=Z;b.a.Da=T;b.a.xa=M;b.a.width=fa;b.a.height=X;b.a.Za=ia;b.a.Mb=ma;b.a.J.f=ha.f;b.a.Ye=ba;b.a.zq=V;b.a.kd=da;b.a.Jc=ca;b.a.ra=na;b.a.pa=la;b.a.Ab=U;b.a.Cb=R;b.a.counter=aa;b.a.Ne=Y;b.a.wi=L;b.a.tj=N;b.a.Hf=ka;b.a.Yb=S;b.a.xe=O;b.a.Yn=ja;b.a.el=oa;D.f=ha.f;D.g=ha.g;D.o=ha.o;D.s=ha.s;G.f=ea.f;G.g=ea.g;G.o=ea.o;G.s=ea.s;b.a.oa&&(b.a.Qa.Lg=qa,b.a.Qa.ut=ra)};g.prototype.sA=function(b,l,e,p){var y,z=b.gf,A=b.ff,C=b.tb;var D=b.qm;var G=b.a.width;switch(b.Dg+.5|0){case t.nF:l-=z>>
1;break;case t.oF:l-=z-1;break;case t.sF:e-=A>>1;break;case t.mF:l-=z>>1;e-=A>>1;break;case t.lF:l-=z-1;e-=A>>1;break;case t.rF:e-=A-1;break;case t.pF:l-=z>>1;e-=A-1;break;case t.qF:l-=z-1,e-=A-1}D.f=l;D.g=e;D.o=l+z;D.s=e+A;for(b.Gx(b,D);G!==b.a.width;)l+=G>>1,e+=G>>1,G<<=1;switch(b.Vc){case t.Yr:for(y=D=0;y<A;y+=1)for(G=0;G<z;G+=1){var H=C[D];0<H&&b.Zc(l+G,e+y,H);D+=1}break;case t.av:for(y=D=0;y<A;y+=1)for(G=0;G<z;G+=1)H=C[D],b.Zc(l+G,e+y,H),D+=1;break;case t.jA:for(y=D=0;y<A;y+=1)for(G=0;G<z;G+=
1){H=C[D];var I=this.a.getState(l+G,e+y,!1);b.Zc(l+G,e+y,I^H);D+=1}break;case t.Yz:for(y=D=0;y<A;y+=1)for(G=0;G<z;G+=1)H=C[D],I=this.a.getState(l+G,e+y,!1),b.Zc(l+G,e+y,I&H),D+=1}b.ed=!1;b.qd=!1;b.m.notification.clear(!0,!1);p&&b.pb("paste")};g.prototype.zm=function(b,l,e){var p=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),y=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1),z=b.zb,A=z.f,C=z.g,D=z.o,G=z.s;var H=0;var I=b.a.width-1;var E=0;var F=b.a.height-1;if(!b.Ma&&b.sb){if(A>D){var P=D;D=A;A=P}C>G&&(P=G,G=C,C=P);P=D-A+
1;var K=G-C+1;-1!==b.a.ua&&(0!==b.a.wa?(H=Math.round((b.a.width-b.a.wa)/2)-1,I=H+b.a.wa-1+2):(H=0,I=b.a.width-1),0!==b.a.ta?(E=Math.round((b.a.height-b.a.ta)/2)-1,F=E+b.a.ta-1+2):(E=0,F=b.a.height-1));if(A+p+l>H&&D+p+l<I&&C+y+e>E&&G+y+e<F){b.by(b,b.og,!1,!0);p+=l;y+=e;H=0;D=b.Ef[b.og].buffer;for(E=0;E<K;E+=1)for(I=0;I<P;I+=1)G=D[H],b.Zc(A+I+p,C+E+y,G),H+=1;z.f+=l;z.o+=l;z.g+=e;z.s+=e;b.pb("nudge "+(0===l?-1===e?"up":"down":-1===l?"left":"right"))}else b.m.notification.notify("No room to nudge selection",
15,180,15,!0)}};g.prototype.ov=function(b,l,e){var p=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),y=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1),z=b.zb,A=b.Vo,C=z.f,D=z.g,G=z.o;z=z.s;var H;if(!b.Ma&&null!==b.Ef[b.og])if(l)if(b.sb||b.qd)if(b.qd&&(C=A.f,D=A.g,G=A.o,z=A.s),C>G&&(l=C,C=G,G=l),D>z&&(l=D,D=z,z=l),G=G-C+1,z=z-D+1,b.gf>G||b.ff>z)b.m.notification.notify("Paste does not fit in selection",15,180,15,!0);else{l=b.Dg;b.Dg=t.Ip;for(H=D;H<=D+z-b.ff;H+=b.ff)for(A=C;A<=C+G-b.gf;A+=b.gf)b.sA(b,A+p,H+y,!1);b.Dg=l;b.Pj&&
b.pt(b);e?b.pb("advance outside"):b.pb("paste to selection");b.qd=!1}else b.m.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else b.oA(b,b.og),b.qd=!1,b.m.notification.notify("Now click to paste",15,180,15,!0)};g.prototype.IK=function(b){b.qd?(b.ov(b,!0,!1),b.kh=!1):b.sA(b,b.Uj,b.Vj,!0)};g.prototype.tF=function(b){b.ov(b,!1,!1)};g.prototype.oA=function(b,l){0<=l&&l<b.Ef.length&&(null!==b.Ef[l]?(b.ed=!0,b.qd=!1,b.tb=b.Ef[l].buffer,b.gf=b.Ef[l].width,b.ff=b.Ef[l].height,b.rd.current!==
t.yp&&(b.rd.current=b.Ck(t.yp,!0,b))):(b.ed=!1,b.qd=!1,b.m.notification.notify("Clipboard empty",15,180,15,!0)))};g.prototype.hL=function(b,l){var e,p=b.a.c;-1===p&&(p=2);for(e=0;e<b.tb.length;e+=1){var y=100*b.Ob.random()<=b.ij?2===p||l?p-1:(b.Ob.random()*(p-1)|0)+1:0;b.tb[e]=y}};g.prototype.iL=function(b,l){var e=b.zb,p=e.f,y=e.o,z=e.g;e=e.s;var A=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),C=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1),D=b.a.c;if(b.sb){if(p>y){var G=y;y=p;p=G}z>e&&(G=e,e=z,z=G);-1===D&&(D=2);for(G=
z;G<=e;G+=1)for(z=p;z<=y;z+=1){var H=100*b.Ob.random()<=b.ij?2===D||l?D-1:(b.Ob.random()*(D-1)|0)+1:0;b.Zc(z+A,G+C,H)}b.a.Ih=!0;b.a.Zh();b.pb("random "+b.ij+"%")}};g.prototype.sv=function(b,l){b.Ma||(b.ed?b.hL(b,l):b.iL(b,l))};g.prototype.Xw=function(b){b.Ma||b.sv(b,!1)};g.prototype.Ww=function(b){b.sv(b,!0)};g.prototype.pJ=function(b){var l=b.gf,e=b.ff,p=l>>1,y,z,A;for(z=A=0;z<e;z+=1){if(b.a.G)for(y=0;y<p;y+=1){var C=b.tb[A+y];var D=b.tb[A+l-y-1];b.tb[A+y]=D&5|(D&2)<<2|(D&8)>>2;b.tb[A+l-y-1]=C&5|
(C&2)<<2|(C&8)>>2}else for(y=0;y<p;y+=1)C=b.tb[A+y],b.tb[A+y]=b.tb[A+l-y-1],b.tb[A+l-y-1]=C;A+=l}};g.prototype.qJ=function(b){var l=b.zb,e=l.f,p=l.o,y=l.g;l=l.s;var z,A=b.a.c,C=2<A&&!(this.a.Ja||this.a.G||this.a.ba||this.a.M),D=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),G=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);if(b.sb){if(e>p){var H=p;p=e;e=H}y>l&&(H=l,l=y,y=H);H=b.a.l.K(Uint8,p-e+1,"View.flipRow");for(z=y;z<=l;z+=1){for(y=e;y<=p;y+=1){var I=b.a.getState(y+D,z+G,!1);C&&0<I&&(I=A-I);H[y-e]=I}if(b.a.G)for(y=e;y<=
p;y+=1)I=H[p-y],b.Zc(y+D,z+G,I&5|(I&2)<<2|(I&8)>>2);else for(y=e;y<=p;y+=1)b.Zc(y+D,z+G,H[p-y])}b.a.Ih=!0;b.a.Zh();b.pb("flip horizontally")}};g.prototype.rJ=function(b){var l=b.gf,e=b.ff,p=e>>1,y,z,A;for(y=A=0;y<l;y+=1){if(b.a.G)for(z=0;z<p;z+=1){var C=b.tb[A+z*l];var D=b.tb[A+(e-z-1)*l];b.tb[A+z*l]=D&10|(D&1)<<2|(D&4)>>2;b.tb[A+(e-z-1)*l]=C&10|(C&1)<<2|(C&4)>>2}else for(z=0;z<p;z+=1)C=b.tb[A+z*l],b.tb[A+z*l]=b.tb[A+(e-z-1)*l],b.tb[A+(e-z-1)*l]=C;A+=1}};g.prototype.sJ=function(b){var l=b.zb,e=l.f,
p=l.o,y=l.g;l=l.s;var z,A=b.a.c,C=2<A&&!(this.a.Ja||this.a.G||this.a.ba||this.a.M),D=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),G=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);if(b.sb){if(e>p){var H=p;p=e;e=H}y>l&&(H=l,l=y,y=H);for(H=b.a.l.K(Uint8,l-y+1,"View.flipColumn");e<=p;e+=1){for(z=y;z<=l;z+=1){var I=b.a.getState(e+D,z+G,!1);C&&0<I&&(I=A-I);H[z-y]=I}if(b.a.G)for(z=y;z<=l;z+=1)I=H[l-z],b.Zc(e+D,z+G,I&10|(I&1)<<2|(I&4)>>2);else for(z=y;z<=l;z+=1)b.Zc(e+D,z+G,H[l-z])}b.a.Ih=!0;b.a.Zh();b.pb("flip vertically")}};
g.prototype.XF=function(b,l){var e=b.gf,p=b.ff,y,z,A=b.a.l.K(Uint8,e*p,"View.pasteBuffer");for(z=0;z<p;z+=1)for(y=0;y<e;y+=1)if(b.a.G)if(l){var C=b.tb[z*e+y];A[y*p+(p-z-1)]=C<<1&15|(C&8)>>3}else C=b.tb[z*e+y],A[(e-y-1)*p+z]=C>>1&15|(C&1)<<3;else l?A[y*p+(p-z-1)]=b.tb[z*e+y]:A[(e-y-1)*p+z]=b.tb[z*e+y];b.tb=A;b.gf=p;b.ff=e};g.prototype.YF=function(b,l,e){var p=b.zb,y=p.f,z=p.o,A=p.g,C=p.s,D=0,G=b.a.c;var H=!0;var I=2<G&&!(this.a.Ja||this.a.G||this.a.ba||this.a.M),E=b.a.ha?-1:0;var F=Math.round((b.a.width-
b.a.wa)/2)+E;var P=Math.round((b.a.height-b.a.ta)/2)+E;var K=F+b.a.wa-1;var Q=P+b.a.ta-1;E=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1);var J=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1);if(b.sb){if(y>z){var W=z;z=y;y=W}A>C&&(W=C,C=A,A=W);W=y+(z-y+1-1>>1);var Z=A+(C-A+1-1>>1);var T=W+A-Z;var M=Z+y-W;var fa=W+C-Z;Z=Z+z-W;var X=p.f;var ia=p.g;var ma=p.o;var ba=p.s;p.f=T;p.g=M;p.o=fa;p.s=Z;p.f>p.o&&(W=p.f,p.f=p.o,p.o=W);p.g>p.s&&(W=p.g,p.g=p.s,p.s=W);if(-1!==b.a.ua){if(p.f+E<F||p.o+E>K||p.g+J<P||p.s+J>Q)b.m.notification.notify("Rotation does not fit in bounded grid",
15,180,15,!0),H=!1}else b.gD(b)?(b.m.notification.notify("Rotation does not fit on grid",15,180,15,!0),H=!1):(E=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),J=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1));if(H){l?(H=M,Q=fa,K=1,P=-1):(H=Z,Q=T,K=-1,P=1);F=b.a.l.K(Int16,3*(z-y+1)*(C-A+1),"View.rotateCells");for(fa=A;fa<=C;fa+=1){W=H;for(T=y;T<=z;T+=1)M=b.a.getState(T+E,fa+J,!1),I?0<M&&(M=G-M):b.a.G&&(M=l?M<<1&15|(M&8)>>3:M>>1&15|(M&1)<<3),F[D]=Q,F[D+1]=W,F[D+2]=M,D+=3,W+=K;Q+=P}E=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1);J=(b.a.height>>
1)-(b.lb>>1)+(b.Hb<<1);for(D=0;D<F.length;)T=F[D],fa=F[D+1],M=F[D+2],b.Zc(T+E,fa+J,M),D+=3;for(T=y;T<p.f;T+=1)for(fa=A;fa<=C;fa+=1)b.Zc(T+E,fa+J,0);for(T=p.o+1;T<=z;T+=1)for(fa=A;fa<=C;fa+=1)b.Zc(T+E,fa+J,0);for(fa=A;fa<p.g;fa+=1)for(T=y;T<=z;T+=1)b.Zc(T+E,fa+J,0);for(fa=p.s+1;fa<=C;fa+=1)for(T=y;T<=z;T+=1)b.Zc(T+E,fa+J,0);b.a.Ih=!0;b.a.Zh();b.pb(e)}else p.f=X,p.g=ia,p.o=ma,p.s=ba}};g.prototype.Nw=function(b){b.Ma||b.zm(b,-1,0)};g.prototype.Ow=function(b){b.Ma||b.zm(b,1,0)};g.prototype.Pw=function(b){b.Ma||
b.zm(b,0,-1)};g.prototype.Kw=function(b){b.Ma||b.zm(b,0,1)};g.prototype.JD=function(b){b.Ma||(b.ed?b.pJ(b):b.qJ(b))};g.prototype.KD=function(b){b.Ma||(b.ed?b.rJ(b):b.sJ(b))};g.prototype.WF=function(b){b.Ma||(b.ed?b.XF(b,!0):b.YF(b,!0,"rotate clockwise"))};g.prototype.VF=function(b){b.Ma||(b.ed?b.XF(b,!1):b.YF(b,!1,"rotate counter-clockwise"))};g.prototype.VJ=function(b){var l=0,e=b.a.c;if(!b.Ma)for(-1===e&&(e=2);l<b.tb.length;){var p=b.tb[l];b.tb[l]=e-p-1;l+=1}};g.prototype.WJ=function(b){var l=b.zb,
e=l.f,p=l.o,y=l.g;l=l.s;var z=(b.a.width>>1)-(b.hb>>1)+(b.Gb<<1),A=(b.a.height>>1)-(b.lb>>1)+(b.Hb<<1),C=b.a.c;if(!b.Ma&&b.sb){if(e>p){var D=p;p=e;e=D}y>l&&(D=l,l=y,y=D);-1===C&&(C=2);for(D=y;D<=l;D+=1)for(y=e;y<=p;y+=1){var G=b.a.getState(y+z,D+A,!1);!b.a.G&&!b.a.ba&&2<C&&0<G&&(G=C-G);b.Zc(y+z,D+A,C-G-1)}b.a.Ih=!0;b.a.Zh();b.pb("invert cells in selection")}};g.prototype.eE=function(b){b.Ma||(b.ed?b.VJ(b):b.WJ(b))};g.prototype.ky=function(b){b.a.Yc=b.a.Yc?!1:!0;b.Tv(b.Ya);var l=b.a.Xc;b.a.Yc&&(l=
!l);b.m.notification.notify("Playback "+(l?"Reverse":"Forward"),15,40,15,!0)};g.prototype.Nv=function(b){b.Pg(!0,!0,t.Qk);b.Ya||(b.yg=!0)};g.prototype.Ry=function(b){b.a.Ix=!1;b.a.Hx=0;b.a.Z?(b.Xb?(b.Xb=!1,b.m.notification.notify("Identify Cancelled",15,120,15,!1)):(b.Xb=!0,b.jj=!1,b.nr?b.m.notification.notify("Identifying (fast)...",15,216E3,15,!1):b.m.notification.notify("Identifying...",15,216E3,15,!1)),b.pb("")):(b.m.notification.notify("Empty Pattern",15,120,15,!1),b.Xb=!1,b.jj=!1);b.a.Au(b.Xb);
b.ja=0;b.rt(b);b.rt(b);b.m.Jh=!0;b.i.locked=!1};g.prototype.lq=function(b,l,e){l&&(e.a.ac=b[0]);return[e.a.ac]};g.prototype.uG=function(b,l,e){l&&(e.Wg=b[0]);return[e.Wg]};g.prototype.mx=function(b,l,e){l&&(e.dv=b[0]);return[e.dv]};g.prototype.OB=function(b,l,e){l&&(e.gj=b[0]);return[e.gj]};g.prototype.QB=function(b,l,e){l&&(e.Ol=b[0]);return[e.Ol]};g.prototype.Rs=function(b,l,e){l&&(0!==e.ja&&b[0]&&(e.ja=0,e.Vk.current=e.mq([e.ja],!0,e)),b[0]||e.rt(e));return b};g.prototype.PB=function(b,l,e){l&&
(e.po=b[0]);return[e.po]};g.prototype.Ll=function(b,l,e){l&&(e.Cs=b[0]);return[e.Cs]};g.prototype.Ak=function(b,l,e){l&&(e.hk=b[0],e.hk?e.hs?e.m.notification.notify("Replace: Now click on a cell",15,180,15,!0):e.m.notification.notify("Pick: Now click on a cell",15,180,15,!0):(e.$y||e.m.notification.clear(!0,!1),e.$y=!1,e.hs=!1));return[e.hk]};g.prototype.tG=function(b,l,e){l&&(e.uc=b[0],e.uc&&!e.Ya&&e.Pg(!0,!0,t.Qk));return[e.uc]};g.prototype.lx=function(b,l,e){l&&-1!==e.bb&&(e.Lc=!b[0],e.Qc?(e.ze=
e.Lc,e.m.notification.notify("Loop and Waypoints "+(e.Lc?"Off":"On"),15,40,15,!0)):e.ae?(e.jf=e.Lc,e.m.notification.notify("Loop and Track "+(e.Lc?"Off":"On"),15,40,15,!0),e.NC(e.jf)):e.m.notification.notify("Loop "+(e.Lc?"Off":"On"),15,40,15,!0));return[e.Lc]};g.prototype.kx=function(b,l,e){l&&e.Xe&&(e.mg=!b[0]);return[e.mg]};g.prototype.Aw=function(b,l,e){l&&-1!==e.oN&&(e.Oe=!b[0]);return[e.Oe]};g.prototype.RB=function(b,l,e){l&&(e.ae?(e.jf=!b[0],e.NC(e.jf),-1!==e.bb?(e.Lc=e.jf,e.m.notification.notify("Loop and Track "+
(e.Lc?"Off":"On"),15,40,15,!0)):e.m.notification.notify("Track "+(e.jf?"Off":"On"),15,40,15,!0)):e.Qc&&(e.ze=!b[0],e.ze?(e.m.notification.clear(!1,!1),e.Ir=""):(e.yg=!0,e.T.nJ(e.a.counter)),-1!==e.bb?(e.Lc=e.ze,e.m.notification.notify("Loop and Waypoints "+(e.Lc?"Off":"On"),15,40,15,!0)):e.m.notification.notify("Waypoints "+(e.ze?"Off":"On"),15,40,15,!0)));return e.ae?[e.jf]:[e.ze]};g.prototype.mq=function(b,l,e){l&&(e.ja=b[0],e.ja?(e.jd.length&&e.Hh(t.dB,e),e.Mc.current[0]&&(e.Mc.current=e.Rs([!1],
!0,e))):(e.Hh(t.tl,e),e.ja=0));e.iB(e.rd.current);return[e.ja]};g.prototype.WG=function(b,l,e){l&&(e.Sk=b[0]);return[e.Sk]};g.prototype.TG=function(b,l,e){l&&(e.a.Yg=b[0],e.a.Vy());return[e.a.Yg]};g.prototype.qw=function(b,l,e){l&&(e.eh=b[0],e.eh&&(e.a.Z?0<e.a.counter&&-1===e.a.c&&(--e.a.counter,e.a.ef(!0,e.re,e.Kc,e.Xb),e.cj()):(e.a.na=0,e.a.Jb=0,e.a.cc=0)));e.m.Gg(!0);return[e.eh]};g.prototype.Pv=function(b,l){1<b.dc&&(b.dc-=l,1>b.dc&&(b.dc=1))};g.prototype.Ov=function(b,l){b.dc<b.jd.length-b.gd+
1&&(b.dc+=l,b.dc>b.jd.length-b.gd+1&&(b.dc=b.jd.length-b.gd+1))};g.prototype.Rv=function(b,l){1<b.ja&&(b.ja-=l,1>b.ja&&(b.ja=1))};g.prototype.Qv=function(b,l){b.ja<b.Cp-b.gd&&(b.ja+=l,b.ja>b.Cp-b.gd&&(b.ja=b.Cp-b.gd))};g.prototype.ZK=function(b){for(var l=b.ea.length-1,e=!1;0<=l&&!e;)b.ja<=b.ea[l][0]?--l:e=!0;e&&(b.ja=b.ea[l][0])};g.prototype.AK=function(b){for(var l=0,e=!1;l<b.ea.length&&!e;)b.ja>=b.ea[l][0]?l+=1:e=!0;e&&(b.ja=b.ea[l][0])};g.prototype.RL=function(b){for(;this.a.counter<b-1;)this.a.Z?
(this.a.ef(!1,!1,this.Kc,this.Xb),0===this.a.Z&&2<this.a.c||this.a.$e(),0===this.a.Z&&2>=this.a.c&&(this.a.Z=1,this.a.ef(!1,!1,this.Kc,this.Xb),--this.a.counter)):(this.a.counter+=1,this.a.$e()),this.cj();this.a.counter<b&&(this.a.Z?(this.a.ef(this.eh,!1,this.Kc,this.Xb),0===this.a.Z&&2<this.a.c||this.a.$e(),0===this.a.Z&&2>=this.a.c&&(this.a.Z=1,this.a.ef(!1,!1,this.Kc,this.Xb),--this.a.counter)):(this.a.counter+=1,this.a.$e()),this.cj());this.elapsedTime=this.Ea[b];this.ag=this.rb=b};g.prototype.vs=
function(b){var l=this.L+(0<this.a.c?this.a.c:0);!this.re&&this.m.BA&&(this.m.BA=!1,0>b&&(b=0),this.elapsedTime=this.Ea[b],this.ag=this.rb=b,-1!==this.Ri&&b>this.Ri+l?this.a.counter=b:this.a.vs(b,this.eh,this.Kc,this),this.T.tM(this.elapsedTime),this.yg=!0,b!==this.a.counter&&(this.rn=!0,this.Ox=b,this.a.Lv(!1),this.m.notification.notify("Computing previous generations",15,1E4,15,!0),this.Nx=!0))};g.prototype.My=function(b){b.style.width="2em";b.style.height="2em";b.style.padding=0;b.style.$M="none";
b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";b.style.position="fixed";b.style.left="-100px";b.style.top="0px"};g.prototype.tn=function(b,l,e){var p="textarea";b.Js=l;b.yk=0;b.uo=l.length;if(e){var y=performance.now()-b.zt;y<t.vI&&b.uo<t.tI?e=!1:b.Bu||(p="div")}b.to=document.createElement("div");b.to.contentEditable=!0;b.My(b.to);b.Xm=document.createElement(p);b.My(b.Xm);b.Xm.contentEditable=!0;b.to.appendChild(b.Xm);document.body.appendChild(b.to);e?(b.Px=t.wI,
b.m.notification.notify("Copying...",15,1E4,15,!0),b.Eq=!0,b.xt=!1,b.i.locked=!0):(b.Xm.innerHTML=l,b.mD(b,e))};g.prototype.mD=function(b,l){b.Bu?b.Xm.focus():b.to.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(e){}document.body.removeChild(b.to);b.Js="";b.yc.canvas.focus();b.m.notification.notify("Copied to external clipboard",15,180,15,!0);l&&(b.Eq=!1,b.i.locked=!1);b.zt=-1};g.prototype.Ii=function(b){var l=ColourManager.Ee,e=Object.keys(l),p=b.red,y=b.green;b=
b.blue;for(var z="",A=!1,C=null,D=0;D<e.length&&!A;)C=l[e[D]],C[1]===p&&C[2]===y&&C[3]===b?(A=!0,D=e.length):D+=1;A?z=C[0]:z=p+" "+y+" "+b;return z};g.prototype.Io=function(b,l){return b.red===l.red&&b.green===l.green&&b.blue===l.blue};g.prototype.nD=function(b,l){var e="#C "+Keywords.lo+" ",p=String(-(b.a.width/2-b.a.za-b.a.Vb|0)),y=String(-(b.a.height/2-b.a.sa-b.a.Sb|0)),z=b.a.zoom,A=b.a.angle|0,C=b.a.jb[b.a.yf];0!==b.a.counter&&(e+=Keywords.Gs+b.a.counter+" ");e+=Keywords.mf+" "+p+" "+Keywords.nf+
" "+y+" ";e+=Keywords.Qd+" "+(z===(z|0)?String(z):String(z.toFixed(2)))+" ";e+=Keywords.Jl+" "+A+" ";e+=Keywords.$p+"\n";if(l){e+="#C "+Keywords.lo+" ";if(b.sh){if(2<b.a.c){if(e+=Keywords.Ga+" "+Keywords.cw+" "+b.Ii(C.Ci),e+=" "+Keywords.Ga+" "+Keywords.bw+" "+b.Ii(C.kg),b.Io(C.Dc.W,C.Ci)||(e+=" "+Keywords.Ga+" "+Keywords.ew+" "+b.Ii(C.Dc.W)),b.Io(C.Dc.V,C.Dc.W)||(e+=" "+Keywords.Ga+" "+Keywords.dw+" "+b.Ii(C.Dc.V)),C.am||(e+=" "+Keywords.Ga+" "+Keywords.EB+" "+b.Ii(C.Ub.W)),C.am||!b.Io(C.Ub.V,C.Ub.W))e+=
" "+Keywords.Ga+" "+Keywords.DB+" "+b.Ii(C.Ub.V)}else e+=Keywords.Ga+" "+Keywords.cw+" "+b.Ii(C.ab),e+=" "+Keywords.Ga+" "+Keywords.bw+" "+b.Ii(C.qb.V),b.Io(C.qb.V,C.qb.W)||(e+=" "+Keywords.Ga+" "+Keywords.CB+" "+b.Ii(C.qb.W)),b.Io(C.gb.W,C.ab)||(e+=" "+Keywords.Ga+" "+Keywords.ew+" "+b.Ii(C.gb.W)),b.Io(C.gb.V,C.gb.W)||(e+=" "+Keywords.Ga+" "+Keywords.dw+" "+b.Ii(C.gb.V));e+=" "+Keywords.$p+"\n#C "+Keywords.lo+" "}e+=Keywords.ql+" "+C.name+" ";b.L!==b.Ku&&(e+=Keywords.uu+" "+b.L+" ");e+=Keywords.rq+
" "+b.F+" ";e+=Keywords.cp+" "+b.D+" ";e+=Keywords.$p+"\n"}b.tn(b,e,!1)};g.prototype.$A=function(b){b.element.innerHTML=b.a.yx(b,b.a,!0);b.element.value=b.element.innerHTML};g.prototype.jK=function(b,l){if(b.yj.locked||b.uv||window.confirm("Open clipboard?"))b.element.innerHTML=l,b.element.value=b.element.innerHTML,d(b.element)};g.prototype.Gq=function(b,l){b.zt=performance.now();u.La?b.tn(b,B.se[b.$c].pattern,l):b.tn(b,c(b.element),l)};g.prototype.yt=function(b,l){b.zt=performance.now();b.tn(b,b.a.yx(b,
b.a,l),!0)};g.prototype.xw=function(b,l){var e=l.charCode||l.keyCode;if(b.rn?KeyProcessor.dL(b,e,l):b.Xb?KeyProcessor.eL(b,e,l):b.Eq?KeyProcessor.cL(b,e,l):KeyProcessor.bL(b,e,l))b.m.Gg(!0),l.preventDefault()};g.prototype.MM=function(){this.a.Ia||this.a.M?(this.Ra.setPosition(Menu.ib,-85,-130),this.aa.setPosition(Menu.ib,-130,-130),this.aa.A="random fill",this.a.Ia?this.mk.setPosition(Menu.ib,-235,-130):this.mk.setPosition(Menu.ib,-280,-130)):2>=this.a.c?(this.Ra.setPosition(Menu.ib,-40,-130),this.aa.setPosition(Menu.ib,
-85,-130),this.aa.A="random fill",this.mk.setPosition(Menu.ib,-190,-130)):(this.Ra.setPosition(Menu.ib,-40,-130),this.a.G?(this.aa.setPosition(Menu.ib,-85,-130),this.aa.A="random multi-state fill",this.mk.setPosition(Menu.ib,-190,-130)):(this.aa.setPosition(Menu.ib,-130,-130),this.aa.A="random multi-state fill",this.zd.setPosition(Menu.ib,-85,-130),this.mk.setPosition(Menu.ib,-235,-130)))};g.prototype.OM=function(){if(this.D<t.rm)this.We.setPosition(Menu.md,10,50),this.qf.setPosition(Menu.la,0,50),
this.Ve.setPosition(Menu.pc,-160,50),this.rf.setPosition(Menu.md,10,100),this.Ue.setPosition(Menu.la,0,100),this.Re.setPosition(Menu.pc,-160,100),0<this.T.Bp()?(this.pd.setPosition(Menu.md,10,150),this.Te.setPosition(Menu.pc,-160,150)):this.pd.setPosition(Menu.la,0,150);else{var b=0<this.T.Bp()?-175:-150;this.We.setPosition(Menu.Eb,0,b);this.qf.setPosition(Menu.Eb,0,b+50);this.Ve.setPosition(Menu.Eb,0,b+100);this.rf.setPosition(Menu.Eb,0,b+150);this.Ue.setPosition(Menu.Eb,0,b+200);this.Re.setPosition(Menu.Eb,
0,b+250);this.pd.setPosition(Menu.Eb,0,b+300);this.Te.setPosition(Menu.Eb,0,b+350)}};g.prototype.cM=function(){var b="white",l="black",e="rgb(0,240,32)",p="blue",y="grey",z="white";var A=this.ma[t.Pq];-1!==A?(b="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")",this.U.Ev=!0,this.U.NA=this.a.Zd?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255):(this.U.Ev=!0,A=16777215,this.U.NA=this.a.Zd?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255);
A=this.ma[t.Nq];-1!==A?l="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=0;this.Go=A;A=this.ma[t.Qq];-1!==A&&(e="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ma[t.Sq];-1!==A&&(p="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ma[t.Rq];-1!==A?y="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=8421504;this.U.UD=this.a.Zd?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255;A=this.ma[t.Oq];-1!==A&&(z="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");this.m.zs(b,
l,e,p,y,z)};g.prototype.$u=function(){var b,l=0;this.i=this.m.DI(this.FC,this.wC,this);this.i.Bn=this.IC;this.i.zC=this.Hw;this.lr=this.i.Aa(Menu.la,0,52,480,48,"Banner");this.lr.Xa("32px Arial");this.sf=this.i.Aa(Menu.la,-160,100,160,32,"Type");this.Hi=this.i.Aa(Menu.la,-160,140,160,32,"Cells");this.Gi=this.i.Aa(Menu.la,-160,180,160,32,"Bounding Box");this.Dj=this.i.Aa(Menu.la,-160,240,160,32,"Direction");this.Gj=this.i.Aa(Menu.la,-160,280,160,32,"Period");this.Hj=this.i.Aa(Menu.la,-160,320,160,
32,"Slope");this.Ij=this.i.Aa(Menu.la,-160,360,160,32,"Speed");this.Ej=this.i.Aa(Menu.la,-160,400,160,32,"Heat");this.Kj=this.i.Aa(Menu.la,-160,440,160,32,"Volatility");this.Fj=this.i.Aa(Menu.la,-160,460,160,32,"Mod");this.Cj=this.i.Aa(Menu.la,-160,500,160,32,"Active Cells");this.Jj=this.i.Aa(Menu.la,-160,540,160,32,"Temperature");this.sr=this.i.Aa(Menu.la,80,100,320,32,"");this.mr=this.i.Aa(Menu.la,80,140,320,32,"");this.vu=this.i.Aa(Menu.la,80,180,320,32,"");this.wu=this.i.Aa(Menu.la,80,220,320,
32,"");this.yu=this.i.Aa(Menu.la,80,260,320,32,"");this.zu=this.i.Aa(Menu.la,80,300,320,32,"");this.qr=this.i.Aa(Menu.la,80,340,320,32,"");this.pr=this.i.Aa(Menu.la,80,380,320,32,"");this.Sy=this.i.Aa(Menu.la,80,420,320,32,"");this.xu=this.i.Aa(Menu.la,80,460,320,32,"");this.kr=this.i.Aa(Menu.la,80,500,320,32,"");this.rr=this.i.Aa(Menu.la,80,540,320,32,"");this.tf=this.i.Aa(Menu.md,0,40,16,20,"X");this.tf.Xa(t.ah);this.tf.Ks=Menu.He;this.vf=this.i.Aa(Menu.md,70,40,16,20,"Y");this.vf.Xa(t.ah);this.vf.Ks=
Menu.He;this.pf=this.i.Aa(Menu.md,140,40,16,20,"A");this.pf.Xa(t.ah);this.pf.Ks=Menu.He;this.Zb=this.i.Aa(Menu.md,16,40,54,20,"");this.Zb.Xa(t.ah);this.Zb.textAlign=Menu.right;this.Zb.A="camera X position";this.nc=this.i.Aa(Menu.md,86,40,54,20,"");this.nc.Xa(t.ah);this.nc.textAlign=Menu.right;this.nc.A="camera Y position";this.$a=this.i.Aa(Menu.md,156,40,40,20,"");this.$a.Xa(t.ah);this.$a.textAlign=Menu.right;this.$a.A="camera angle";this.Lj=this.i.Aa(Menu.md,196,40,4,20,"");this.yh=this.i.Aa(Menu.pc,
-280,40,20,20,"E");this.yh.Xa(t.ah);this.Bh=this.i.Aa(Menu.pc,-210,40,20,20,"S");this.Bh.Xa(t.ah);this.Dh=this.i.Aa(Menu.pc,-140,40,20,20,"W");this.Dh.Xa(t.ah);this.Ah=this.i.Aa(Menu.pc,-70,40,20,20,"N");this.Ah.Xa(t.ah);this.wb=this.i.Aa(Menu.pc,-260,40,50,20,"");this.wb.Xa(t.ah);this.wb.textAlign=Menu.right;this.wb.A="bounding box east edge velocity";this.Pb=this.i.Aa(Menu.pc,-190,40,50,20,"");this.Pb.Xa(t.ah);this.Pb.textAlign=Menu.right;this.Pb.A="bounding box south edge velocity";this.Tb=this.i.Aa(Menu.pc,
-120,40,50,20,"");this.Tb.Xa(t.ah);this.Tb.textAlign=Menu.right;this.Tb.A="bounding box west edge velocity";this.Nb=this.i.Aa(Menu.pc,-50,40,50,20,"");this.Nb.Xa(t.ah);this.Nb.textAlign=Menu.right;this.Nb.A="bounding box north edge velocity";this.jn=this.i.fb(this.kx,Menu.pc,-210,0,38,20,["START"],[!1],Menu.La);this.jn.Xa(t.Wv);this.jn.A=["autostart"];this.Vm=this.i.fb(this.Aw,Menu.pc,-210,20,38,20,["STOP"],[!1],Menu.La);this.Vm.Xa(t.Wv);this.Vm.A=["stop"];this.hh=this.i.fb(this.RB,Menu.pc,-172,0,
38,20,["WAYPT"],[!1],Menu.La);this.hh.Xa(t.Wv);this.hh.A=["toggle waypoint mode"];this.om=this.i.fb(this.lx,Menu.pc,-172,20,38,20,["LOOP"],[!1],Menu.La);this.om.Xa(t.Wv);this.om.A=["toggle loop mode"];this.rd=this.i.fb(this.Ck,Menu.md,90,0,120,40,["","",""],t.tm,Menu.Pm);this.rd.icon=[this.U.icon("draw"),this.U.icon("select"),this.U.icon("pan")];this.rd.A=["draw","select","pan"];this.fa=this.i.fb(this.Bw,Menu.pc,-80,100,80,60,["1","2"],0,Menu.Pm);this.fa.orientation=Menu.vertical;this.fa.A=["",""];
this.fa.Xa("14px Arial");this.Vk=this.i.fb(this.mq,Menu.pc,-40,0,40,40,["Help"],[!1],Menu.La);this.Vk.A=["toggle help display"];this.Vk.Xa("16px Arial");this.Di=this.i.Ka(this.pC,Menu.pc,-40,50,40,["^"]);this.Di.A=["show help topics"];this.Gh=this.i.Ka(this.cx,Menu.pc,-40,100,40,["<"]);this.Gh.A=["show help sections"];this.We=this.i.Ka(this.dt,Menu.la,0,50,150,["Keys"]);this.We.A=["show keyboard shortcuts"];this.qf=this.i.Ka(this.bx,Menu.la,0,100,150,["Scripts"]);this.qf.A=["show script commands"];
this.Ve=this.i.Ka(this.ww,Menu.la,0,150,150,["Info"]);this.Ve.A=["show pattern and engine information"];this.rf=this.i.Ka(this.jx,Menu.la,0,200,150,["Themes"]);this.rf.A=["show colour Themes"];this.Ue=this.i.Ka(this.op,Menu.la,0,250,150,["Colours"]);this.Ue.A=["show colour names"];this.Re=this.i.Ka(this.To,Menu.la,0,300,150,["Aliases"]);this.Re.A=["show rule aliases"];this.pd=this.i.Ka(this.Ew,Menu.la,0,350,150,["Memory"]);this.pd.A=["show memory usage"];this.Te=this.i.Ka(this.Wo,Menu.la,0,350,150,
["Annotations"]);this.Te.A=["show annotations"];this.Ji=this.i.fb(this.tG,Menu.md,0,0,40,40,["Auto"],[!1],Menu.La);this.Ji.icon=[this.U.icon("autofit")];this.Ji.A=["toggle autofit"];this.Ji.Xa("16px Arial");this.Pk=this.i.Ka(this.Nv,Menu.md,45,0,40,"");this.Pk.icon=this.U.icon("fit");this.Pk.A="fit pattern to display";this.ei=this.i.fb(this.lq,Menu.pc,-85,0,40,40,["Grid"],[!1],Menu.La);this.ei.icon=[this.U.icon("grid")];this.ei.A=["toggle gridlines"];this.ei.Xa("16px Arial");this.Zg=this.i.FH();this.Zg.locked=
!0;this.Hn=this.i.Aa(Menu.rj,0,-130,42,30,"Gen");this.Hn.textAlign=Menu.left;this.Hn.Xa(t.dh);this.Hn.A="generation";this.Wf=this.i.Aa(Menu.rj,42,-130,98,30,"");this.Wf.textAlign=Menu.right;this.Wf.Xa(t.dh);this.Wf.A="generation";this.Td=this.i.Aa(Menu.rj,0,-100,70,30,"Time");this.Td.textAlign=Menu.left;this.Td.Xa(t.dh);this.Td.A="elapsed time";this.En=this.i.Aa(Menu.rj,70,-100,70,30,"");this.En.textAlign=Menu.right;this.En.Xa(t.dh);this.En.A="elapsed time";this.Km=this.i.Aa(Menu.rj,166,-70,130,30,
"");this.Km.textAlign=Menu.left;this.Km.Xa(t.dh);this.Km.A="selection size";this.Aj=this.i.Aa(Menu.rj,0,-70,166,30,"");this.Aj.textAlign=Menu.left;this.Aj.Xa(t.dh);this.Aj.A="cell state at cursor position";this.bf=this.i.fb(this.qw,Menu.rj,0,-40,100,40,[""],[this.eh],Menu.La);this.bf.A=["toggle generation statistics\ngeneration "+(this.a.counter+this.ci)];this.il=this.i.Aa(Menu.rj,0,-40,this.F-40,40,"");this.il.textAlign=Menu.left;this.il.h=!0;this.yd=this.i.Aa(Menu.ib,-70,-130,70,30,"Alive");this.yd.textAlign=
Menu.left;this.yd.Xa(t.dh);this.yd.A="current population";this.Dm=this.i.Aa(Menu.ib,-140,-130,70,30,"");this.Dm.textAlign=Menu.right;this.Dm.Xa(t.dh);this.Dm.A="alive";this.Sj=this.i.Aa(Menu.ib,-70,-100,70,30,"Births");this.Sj.textAlign=Menu.left;this.Sj.Xa(t.dh);this.Sj.A="cells born this generation";this.Tj=this.i.Aa(Menu.ib,-140,-100,70,30,"");this.Tj.textAlign=Menu.right;this.Tj.Xa(t.dh);this.Tj.A="births";this.Sc=this.i.Aa(Menu.ib,-70,-70,70,30,"Deaths");this.Sc.textAlign=Menu.left;this.Sc.Xa(t.dh);
this.Sc.A="cells died this generation";this.Yl=this.i.Aa(Menu.ib,-140,-70,70,30,"");this.Yl.textAlign=Menu.right;this.Yl.Xa(t.dh);this.Yl.A="deaths";this.Jm=this.i.Aa(Menu.rj,0,-160,140,30,this.ub);this.Jm.Xa(t.dh);this.tc=this.i.Oj(this.Dk,Menu.la,0,0,t.ct,40,0,1,.1,"Zoom ","",1);this.tc.A="camera zoom";this.Yd=this.i.Oj(this.$s,Menu.DC,30,0,40,292,t.Lu,t.Ru,1,"Layers ","",0);this.Yd.A="number of layers";this.bd=this.i.Oj(this.sl,Menu.qy,-70,0,40,292,1,0,.1,"Depth ","",2);this.bd.A="depth between layers";
this.Bd=this.i.Oj(this.Zs,Menu.la,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Bd.A="camera angle";this.wg=this.i.Ka(this.dx,Menu.ib,-40,-90,40,"");this.wg.icon=this.U.icon("shrink");this.wg.A="shrink to thumbnail";this.Bi=this.i.Aa(Menu.la,0,100,120,40,"");this.im=this.i.fb(this.NG,Menu.Eb,-100,-100,180,40,["Hexagons"],[this.a.be],Menu.La);this.im.A=["toggle hexagonal cells"];this.Aq=this.i.fb(this.KG,Menu.Eb,100,-100,180,40,["Cell Borders"],[this.a.ld],Menu.La);this.Aq.A=["toggle cell borders"];
this.ek=this.i.fb(this.SG,Menu.Eb,-100,-50,180,40,["Major GridLines"],[this.a.Uk],Menu.La);this.ek.A=["toggle major gridlines"];this.fq=this.i.fb(this.XG,Menu.Eb,100,-50,180,40,["Starfield"],[this.ti],Menu.La);this.fq.A=["toggle starfield display"];this.mm=this.i.fb(this.QG,Menu.Eb,-100,0,180,40,["Annotations"],[this.si],Menu.La);this.mm.A=["toggle annotations"];this.lk=this.i.fb(this.vC,Menu.Eb,100,0,180,40,["[R]History"],[this.a.Qf],Menu.La);this.lk.A=["toggle [R]History display"];this.Jo=this.i.fb(this.JG,
Menu.Eb,-100,50,180,40,["Auto GridLines"],[this.Rh],Menu.La);this.Jo.A=["automatically turn on gridlines for Draw and Select and off for Pan"];this.fn=this.i.fb(this.IG,Menu.Eb,100,50,180,40,["Alt GridLines"],[this.a.Hl],Menu.La);this.fn.A=["toggle alternating gridlines"];this.Qp=this.i.fb(this.UG,Menu.Eb,0,100,180,40,["Rainbow"],[this.a.Kd],Menu.La);this.Qp.A=["toggle rainbow mode"];this.hp=this.i.fb(this.OG,Menu.Eb,-100,-50,180,40,["AutoFit History"],[this.gi],Menu.La);this.hp.A=["toggle AutoFit History"];
this.Ym=this.i.fb(this.QB,Menu.Eb,100,-50,180,40,["Throttle"],[this.Ol],Menu.La);this.Ym.A=["toggle playback throttling"];this.Om=this.i.fb(this.OB,Menu.Eb,-100,0,180,40,["Perf. Warning"],[this.gj],Menu.La);this.Om.A=["toggle performance warning display"];this.pp=this.i.fb(this.Dw,Menu.Eb,100,0,180,40,["Kill Gliders"],[this.a.Mi],Menu.La);this.pp.A=["toggle kill escaping gliders"];this.xq=this.i.fb(this.HC,Menu.Eb,0,50,180,40,["AutoHide UI"],[this.ak],Menu.La);this.xq.A=["toggle hide UI on playback"];
this.Fk=this.i.Ka(this.$w,Menu.Eb,0,-125,180,"Change Rule");this.Fk.A="change rule";this.Ek=this.i.Ka(this.Gw,Menu.Eb,0,-75,180,"New Pattern");this.Ek.A="new pattern";this.Nj=this.i.Ka(this.et,Menu.Eb,0,-25,180,"Load Pattern");this.Nj.A="load last saved pattern";this.Gk=this.i.Ka(this.ax,Menu.Eb,0,25,180,"Save Pattern");this.Gk.A="save pattern";this.Sp=this.i.Ka(this.Yw,Menu.Eb,0,75,180,"Randomize");this.Sp.A="randomize pattern and rule";this.jp=this.i.Ka(this.Ry,Menu.Eb,0,125,180,"Identify");this.jp.A=
["identify oscillator or spaceship period"];this.Yo=this.i.fb(this.Ho,Menu.Eb,0,-100,180,40,["Frame Times"],[this.m.nl],Menu.La);this.Yo.A=["toggle timing display"];this.Os=this.i.fb(this.yC,Menu.Eb,0,-50,180,40,["Timing Details"],[this.m.Nm],Menu.La);this.Os.A=["toggle timing details"];this.kp=this.i.fb(this.PG,Menu.Eb,0,0,180,40,["Display Info Bar"],[this.dd],Menu.La);this.kp.A=["toggle Information Bar"];this.Vp=this.i.fb(this.WG,Menu.Eb,0,50,180,40,["Relative Gen"],[this.Sk],Menu.La);this.Vp.A=
["toggle absolute/relative generation display"];this.qs=this.i.fb(this.TG,Menu.Eb,0,100,180,40,["Render Quality"],[this.a.Yg],Menu.La);this.qs.A=["toggle anti-aliased cell display"];this.os=this.i.Ka(this.Vw,Menu.eq,-135,-90,120,"Prev");this.os.A="go to previous universe";this.Or=this.i.Ka(this.Iw,Menu.eq,135,-90,120,"Next");this.Or.A="go to next universe";this.N=this.i.Ka(this.Dv,Menu.ib,-40,-85,40,"Esc");this.N.A="close errors";this.N.Xa("16px Arial");this.ns=this.i.Ka(this.FF,Menu.DC,10,0,40,"<");
this.ns.A="go to previous POI";this.Nr=this.i.Ka(this.QE,Menu.qy,-50,0,40,">");this.Nr.A="go to next POI";this.Ep=this.i.Oj(this.pw,Menu.la,0,45,172,40,0,1,this.nd,"Opacity ","%",0);this.Ep.A="graph opacity";this.wp=this.i.fb(this.uG,Menu.pc,-85,45,40,40,[""],[!1],Menu.La);this.wp.icon=[this.U.icon("lines")];this.wp.A=["toggle graph lines/points"];this.xh=this.i.Ka(this.Qy,Menu.pc,-40,45,40,"X");this.xh.A="close results";this.Bj=this.i.Ka(this.nw,Menu.pc,-40,45,40,"X");this.Bj.A="close graph";this.Ch=
this.i.fb(this.Ak,Menu.md,0,45,40,40,[""],[this.hk],Menu.La);this.Ch.icon=[this.U.icon("pick")];this.Ch.A=["pick state"];this.xg=this.i.fb(this.Ll,Menu.md,45,45,40,40,[""],[this.Cs],Menu.La);this.xg.icon=[this.U.icon("states")];this.xg.A=["toggle states display"];this.Eh=this.i.fb(this.mx,Menu.md,90,45,40,40,[""],[this.dv],Menu.La);this.Eh.icon=[this.U.icon("drawpause")];this.Eh.A=["toggle pause playback while drawing"];this.cq=this.i.fb(this.PB,Menu.md,135,45,40,40,[""],[this.po],Menu.La);this.cq.icon=
[this.U.icon("smart")];this.cq.A=["toggle smart drawing"];this.Mc=this.i.fb(this.Rs,Menu.ib,-40,-40,40,40,[""],[!1],Menu.La);this.Mc.icon=[this.U.icon("menu")];this.Mc.A=["toggle settings menu"];this.$r=this.i.Ka(this.Tw,Menu.Eb,0,-125,150,"Pattern");this.$r.A="pattern settings";this.Kl=this.i.Ka(this.rt,Menu.eq,0,-100,120,"Back");this.Kl.A="";this.zi=this.i.Ka(this.ix,Menu.Eb,0,-75,150,"Theme");this.zi.A="choose colour theme";this.em=this.i.fb(this.sC,Menu.Eb,0,-25,150,40,["Graph"],[this.Wc],Menu.La);
this.em.A=["toggle population graph display"];this.ur=this.i.Ka(this.uw,Menu.Eb,0,25,150,"Advanced");this.ur.A="advanced settings";this.Uq=this.i.Ka(this.ev,Menu.Eb,0,75,150,"Display");this.Uq.A="display settings";this.fv=this.i.Ka(this.Uw,Menu.Eb,0,125,150,"Playback");this.fv.A="playback settings";var e=-1;for(b=0;b<=this.a.Je;b+=1){var p=t.Ls[b];var y=t.zM[b];y!==e?(l=120,e=y):l+=60;this.B[b]=this.i.fb(null,Menu.la,140*y-210,l,120,40,[this.fw(p)],[!1],Menu.La);this.B[b].A=["select "+this.fw(p)+
" theme"];this.B[b].Xa("20px Arial")}this.B[0].Ib=this.nx;this.B[1].Ib=this.Ax;this.B[2].Ib=this.Ez;this.B[3].Ib=this.Pz;this.B[4].Ib=this.qA;this.B[5].Ib=this.CA;this.B[6].Ib=this.MA;this.B[7].Ib=this.bB;this.B[8].Ib=this.zB;this.B[9].Ib=this.hC;this.B[10].Ib=this.Ex;this.B[11].Ib=this.cy;this.B[12].Ib=this.ry;this.B[13].Ib=this.yy;this.B[14].Ib=this.Hy;this.B[15].Ib=this.Py;this.B[16].Ib=this.Zy;this.B[17].Ib=this.bz;this.B[18].Ib=this.rz;this.B[19].Ib=this.vz;this.Dl=this.i.Aa(Menu.la,-210,60,
120,40,"Default");this.Bl=this.i.Aa(Menu.la,-70,60,120,40,"Classic");this.El=this.i.Aa(Menu.la,70,60,120,40,"Program");this.Cl=this.i.Aa(Menu.la,210,60,120,40,"Basic");this.ec=this.i.Oj(this.Bk,Menu.ib,-365,-40,75,40,0,1,0,"","",-1);this.ec.A="steps per second";this.Nd=this.i.Oj(this.en,Menu.ib,-285,-40,75,40,t.Sn,t.zg,1,"x","",0);this.Nd.A="generations per step";this.Rd=this.i.Aa(Menu.ib,-285,-60,75,20,0);this.Rd.Xa(t.dh);this.Rd.h=!0;this.yj=this.i.Ka(this.CC,Menu.ib,-455,-40,40,"");this.yj.icon=
this.U.icon("undo");this.yj.A="undo";this.fo=this.i.Ka(this.Zw,Menu.ib,-410,-40,40,"");this.fo.icon=this.U.icon("redo");this.fo.A="redo";this.Oo=this.i.fb(this.rC,Menu.pc,-130,0,40,40,["Sync"],[this.ph],Menu.La);this.Oo.A=["sync cut and copy with external clipboard"];this.Oo.Xa("15px Arial");this.xb=this.i.fb(this.wd,Menu.ib,-205,-40,160,40,["","","",""],t.Ie,Menu.Pm);this.xb.icon=[this.U.icon("tostart"),this.U.icon("stepback"),this.U.icon("stepforward"),this.U.icon("play")];this.xb.A=["reset","previous generation",
"next generation","play"];this.td=this.i.fb(this.xC,Menu.pc,-280,45,280,20,"0123456".split(""),this.Af,Menu.Pm);this.td.A="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.td.Xa("14px Arial");this.j=this.i.fb(this.Fw,Menu.pc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.La);this.j.A="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.j.Ce=1;this.yi=this.i.Oj(this.nn,Menu.md,180,45,100,40,0,1,0,"","",-1);this.yi.A="select drawing states range";this.vg=this.i.Ka(this.cG,
Menu.md,0,45,40,"All");this.vg.icon=this.U.icon("select");this.vg.A="select all cells";this.vg.Xa("16px Arial");this.hn=this.i.fb(this.qC,Menu.md,45,45,40,40,["Auto"],[this.Pj],Menu.La);this.hn.icon=[this.U.icon("autoshrink")];this.hn.A=["toggle auto shrink selection"];this.hn.Xa("16px Arial");this.Rn=this.i.fb(null,Menu.md,90,45,40,40,[""],[!1],Menu.La);this.Rn.icon=[this.U.icon("selectlibrary")];this.Rn.A=["clipboard library"];this.Fq=this.i.fb(this.LG,Menu.la,0,90,400,40,"0123456789".split(""),
this.og,Menu.Pm);this.At();this.$n=this.i.fb(this.tC,Menu.pc,-160,45,160,40,["AND","CPY","OR","XOR"],t.BG[this.ym],Menu.Pm);this.$n.A=["paste mode","paste mode","paste mode","paste mode"];this.$n.Xa("16px Arial");this.he=this.i.Ka(this.zD,Menu.md,135,45,40,"");this.he.icon=this.U.icon("cut");this.he.A="cut";this.ge=this.i.Ka(this.xp,Menu.md,180,45,40,"");this.ge.icon=this.U.icon("copy");this.ge.A="copy";this.Vf=this.i.Ka(this.tF,Menu.md,225,45,40,"");this.Vf.icon=this.U.icon("paste");this.Vf.A="paste";
this.Pf=this.i.Ka(this.Nw,Menu.ib,-175,-175,40,"");this.Pf.icon=this.U.icon("nudgeleft");this.Pf.A="nudge left";this.Rf=this.i.Ka(this.Ow,Menu.ib,-130,-175,40,"");this.Rf.icon=this.U.icon("nudgeright");this.Rf.A="nudge right";this.Tf=this.i.Ka(this.Pw,Menu.ib,-85,-175,40,"");this.Tf.icon=this.U.icon("nudgeup");this.Tf.A="nudge up";this.wf=this.i.Ka(this.Kw,Menu.ib,-40,-175,40,"");this.wf.icon=this.U.icon("nudgedown");this.wf.A="nudge down";this.Be=this.i.Ka(this.JD,Menu.ib,-265,-85,40,"");this.Be.icon=
this.U.icon("flipx");this.Be.A="flip horizontally";this.Qe=this.i.Ka(this.KD,Menu.ib,-220,-85,40,"");this.Qe.icon=this.U.icon("flipy");this.Qe.A="flip vertically";this.Zf=this.i.Ka(this.WF,Menu.ib,-175,-85,40,"");this.Zf.icon=this.U.icon("rotatecw");this.Zf.A="rotate clockwise";this.Yf=this.i.Ka(this.VF,Menu.ib,-130,-85,40,"");this.Yf.icon=this.U.icon("rotateccw");this.Yf.A="rotate counter-clockwise";this.fe=this.i.Ka(this.np,Menu.ib,-85,-85,40,"");this.fe.icon=this.U.icon("inside");this.fe.A="clear cells in selection";
this.ee=this.i.Ka(this.bp,Menu.ib,-40,-85,40,"");this.ee.icon=this.U.icon("outside");this.ee.A="clear cells outside selection";this.Ql=this.i.Ka(this.ip,Menu.ib,-40,-130,40,"R");this.Ql.icon=this.U.icon("select");this.Ql.A="clear [R]History cells";this.Ql.Xa("16px Arial");this.Ra=this.i.Ka(this.eE,Menu.ib,-85,-130,40,"");this.Ra.icon=this.U.icon("invertselection");this.Ra.A="invert cells in selection";this.aa=this.i.Ka(this.Xw,Menu.ib,-130,-130,40,"");this.aa.icon=this.U.icon("random");this.aa.A=
"random fill";this.zd=this.i.Ka(this.Ww,Menu.ib,-175,-130,40,"2");this.zd.icon=this.U.icon("random");this.zd.A="random 2-state fill";this.mk=this.i.Oj(this.VG,Menu.ib,-275,-130,100,40,1,100,this.ij,"","%",0);this.mk.A="random fill density";this.ao=this.i.Oj(this.uC,Menu.pc,-265,45,100,40,0,t.TE-1,this.Dg,"","",-1);this.ao.A="paste location";this.ao.Xa("16px Arial");this.Tq=this.i.Ka(this.ky,Menu.ib,-40,-85,40,"");this.Tq.icon=this.U.icon("uturn");this.Tq.A="reverse playback direction";this.Rn.gt([this.Fq]);
this.Mc.gt([this.Bi,this.Yd,this.bd,this.Bd,this.Kl,this.zi,this.$r,this.ur,this.Uq,this.fv,this.Ym,this.Om,this.wg,this.N,this.xq,this.Jo,this.fn,this.im,this.Aq,this.mm,this.pp,this.em,this.Yo,this.Os,this.kp,this.fq,this.hp,this.ek,this.os,this.Or,this.lk]);this.bf.gt([this.yd,this.Dm,this.Sj,this.Tj,this.Sc,this.Yl,this.Hn,this.Wf,this.Td,this.En,this.Jm]);this.Vk.gt([this.fa,this.Di,this.Gh])};g.prototype.Zo=function(b){var l=this,e=0,p=0;this.Uc=b;this.Uc.getContext&&(e=this.Uc.width,p=this.Uc.height,
e!==this.fk&&u.Jr&&(e=this.fk),e<t.Gc&&(e=t.Gc),p<t.bj&&(p=t.bj),e&=-8,this.Uc.width!==e&&(this.Uc.width=e),this.Uc.height!==p&&(this.Uc.height=p),this.yc=this.Uc.getContext("2d",{alpha:!1}),this.yc.globalAlpha=1,this.yc.fillStyle="black",this.yc.imageSmoothingEnabled=!1,this.yc.eN="low",this.yc.fillRect(0,0,this.Uc.width,this.Uc.height),this.yc.textAlign="left",this.yc.textBaseline="middle",this.F=this.Uc.width,this.D=this.Uc.height,this.a=new Life(this.yc,this.F,this.D,512,512,this.v),this.a.SJ(this.yc,
this.F,this.D),this.Ea=this.a.l.K(Float32,t.SE,"View.elapsedTimes"),this.ol=new Stars(t.Yu,this.a.l),this.Uu(this.yc),this.m=new MenuManager(this.Uc,this.yc,"24px Arial",this.U,this,this.kw),this.m.nl=!1,this.a.AI(),this.$u(),this.tA=this.xb.Im,this.Ay=this.ec.Im,this.vB=this.Nd.Im,registerEvent(this.Uc,"wheel",function(y){l.Jw(l,y)},!1),this.m.notification.enabled=!0,this.m.zH(this.i),registerEvent(this.Uc,"keydown",function(y){l.xw(l,y)},!1))};g.prototype.fw=function(b){var l=this.a.jb,e="";b|=
0;b<l.length&&(e=l[b].name);return e};g.prototype.xM=function(b){var l=!1,e=this.a.jb,p=0;for(b=b.toLowerCase();p<e.length-1&&!l;)e[p].name.toLowerCase()===b?l=!0:p+=1;l||(p=-1);return p};g.prototype.TM=function(b){var l=this.T.$q();l.ig||(l.x=this.a.width/2-this.a.za);l.Lf||(l.y=this.a.height/2-this.a.sa);l.ce||(l.zoom=this.a.zoom);l.mh||(l.angle=this.a.angle);l.ki||(l.R=this.a.R);l.Yh||(l.depth=this.a.oe);l.di||(l.xc=this.rg);l.xi||(l.step=this.Ba);l.gg||(l.Ac=this.a.yf);this.T.YK(b)};g.prototype.oJ=
function(b){var l=b,e=this.yc,p=b.length;e.font=(18*this.i.jh|0)+"px "+t.oC;var y=e.measureText(b).width;if(500<y){--p;for(y=e.measureText(b.substr(0,p)+"...").width;500<y;)--p,y=e.measureText(b.substr(0,p)+"...").width;l=l.substr(0,p)+"..."}return l};g.prototype.jL=function(b,l){ScriptParser.HK(this,b,l)};g.prototype.EL=function(){this.tr=this.eu=!1;this.a.ga=1<<t.KI;this.xn=this.FB=-1;this.Cv=this.HA=this.dl=this.Kz=this.Wu=this.Nc=!1;this.a.Vb=0;this.a.Sb=0;this.a.sc=1;this.dd=this.nt=this.uc=
this.cE=!1;this.Lk=this.rh=this.kc=null;this.Si=t.Si;this.a.Vi=this.a.IJ;this.a.Ui=this.a.HJ;this.a.Ti=this.a.GJ;this.a.Wi=this.a.JJ;this.a.Xi=this.a.KJ;this.mg=this.Xe=this.nu=!1;this.Wb=-1;this.Oe=!1;this.bb=-1;this.eh=this.jf=this.Do=this.ae=this.zo=this.Qc=this.ze=this.Lc=!1;this.L=this.Ku=2<this.a.c?63<=256-this.a.c?63:256-this.a.c:63;this.le=!1;this.a.Mi=!1;this.a.Qr=0};g.prototype.xB=function(){this.wj?(n(this.element),this.m.hasFocus=!1):(this.F=this.wl,this.D=this.HB,this.uc?(this.mb=!1,
this.Pg(!0,!1,t.Qk)):this.a.zoom=this.Gl,this.tc&&(this.tc.current=this.Dk([this.a.zoom,this.a.zoom],!1,this)),this.ja=this.Fl,this.mb=!1,this.m.mb=!1,this.i.h=!1,this.m.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};g.prototype.kw=function(b){b.mb?(b.xB(),b.JB&&!b.Ya&&(b.xb.current=b.wd(t.gk,!0,b))):b.Nc&&(b.dl||b.Gq(b,!1));b.xt=!1};g.prototype.resize=function(){this.kv&&(B.lv.SA=this.Mj-this.F,this.Mj=this.F,this.kv=!1);this.Uc.width=this.F;this.Uc.height=this.D;this.yc.textBaseline=
"middle";this.a.SF(this.F,this.D)};g.prototype.yB=function(){this.wl=this.F;this.HB=this.D;this.Gl=this.a.zoom;this.Fl=this.ja;this.F=this.F/this.ye|0;this.D=this.D/this.ye|0;this.a.zoom=this.a.zoom/this.ye;this.F&=-8;this.i.h=!0;this.m.mb=!0;this.m.ye=this.ye;this.mb=!0;this.resize()};g.prototype.mC=function(){var b=this.a.c,l,e="";b>this.li&&(b=this.li);this.td.lower=[];this.td.A=[];this.td.ri(40*b);this.j.lower=[];this.j.A=[];this.j.current=[];this.j.ri(40*b);this.j.Ce=1;for(l=0;l<b;l+=1){var p=
l+this.bh;this.td.lower[l]=String(p);0===p?e="dead":this.a.G||this.a.M?e=this.Cy(p):e=this.a.ba?"state "+String(p):1===p?"alive":"dying "+String(p-1);this.td.A[l]=e;this.j.lower[l]="";this.j.A[l]=e;this.j.current[l]=!1}p=this.Af;0<p&&(this.a.Ja||this.a.G||this.a.ba||this.a.M||(p=this.a.c-p));this.td.current=p-this.bh};g.prototype.hG=function(){var b=this.a.c,l=this.i.Ae;this.Af=1;this.bh=0;this.xg.current=[this.Ll([!0],!0,this)];this.li=7+((this.F/l-t.Gc)/(40*l)|0);this.li>b&&(this.li=b);this.a.Ia?
(this.td.lower="0123456".split(""),this.td.ri(280),this.td.A="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.td.current=this.Af,this.j.lower="      ".split(" "),this.j.ri(280),this.j.A="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.j.Ce=1,this.j.current=[!1,!1,!1,!1,!1,!1,!1]):2>=b?(this.td.lower=["0","1"],this.td.ri(80),this.td.A=["dead","alive"],this.td.current=this.Af,this.j.lower=["",""],this.j.ri(80),this.j.A=["dead","alive"],this.j.Ce=1,this.j.current=[!1,
!1]):(this.Af=this.a.Ja||this.a.G||this.a.ba||this.a.M?1:b-1,this.mC(),this.td.ri(40*this.li),this.j.ri(40*this.li),this.yi.current=this.nn([0,0],!0,this));this.td.setPosition(Menu.pc,-this.td.ss,45);this.j.setPosition(Menu.pc,-this.j.ss,65)};g.prototype.ZL=function(b){var l=this.a.Je;-1===b&&(this.sh?b=l:b=this.a.Ia?10:2<this.a.c&&!this.a.G&&!this.a.ba?11:this.a.ha?17:this.a.G||this.a.ba?18:1);this.Ht&&b!==l&&(this.a.jb[l].set(this.a.jb[b]),b=l,this.a.jb[l].Jn=this.a.Bf,this.sh=!0);this.Mm(b,1,this)};
g.prototype.bG=function(){var b=window.innerWidth,l=window.innerHeight,e=this.F,p=this.D+80;e*=this.devicePixelRatio;p*=this.devicePixelRatio;var y=this.devicePixelRatio;this.lf=1;if(e>b||p>l)if(y=e/b,p/l>y&&(y=p/l),e/=y,p=this.D*this.devicePixelRatio/y,y=e/this.F,p/this.D<y&&(y=p/this.D),e<t.Gc||p<t.bj)y=e/t.Gc,p/t.bj<y&&(y=p/t.bj),e/=y,p/=y,this.lf=y,y=1;this.F=e&-8;this.D=p|0;this.m.lf=this.lf;B.lv.lf=this.lf;this.i.GL(y);this.U.gM(y);this.gr=18*y|0;this.ep=this.gr+"px "+t.ID;this.hm=this.gr+"px "+
t.oC;this.F!==this.Mj&&(this.kv=!0)};g.prototype.jD=function(){this.Rk=!1;this.ci=0;this.Xg=!1;this.Fm=this.Em=0;this.bs=this.Kp=this.Cm=this.hd=this.ub="";this.cs=this.fl=this.lb=this.hb=0;this.dj="(none)";this.a.Ja=!1;this.a.ha=!1;this.a.G=!1;this.a.Ia=!1;this.a.M=!1;this.a.Qf=!1;this.a.O=!1;this.a.tg=this.v.gp;this.a.P=!1;this.a.Od=this.v.an;this.a.ne=!1;this.a.Pd=-1;this.a.bv=!1;this.a.c=-1;this.a.ua=-1;this.va=this.fd=this.a.oa=!1;this.a.ba=!1;this.a.pk=null;this.a.qk=null;this.a.$d=null;this.a.Ld=
null;this.a.Fg=[];this.a.Md=null;this.a.Eg=0;this.a.mj=0;this.a.jl=0};g.prototype.ui=function(b,l){b=this.v.create("",b,this.a.l,this.zj,this.zj,[l],this);this.v.Ju||this.zj(b,[l],this)};g.prototype.zj=function(b,l,e){var p=!1;var y=l[0];e.Bu=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;e.a.Yg=!1;e.a.Kk=null;e.Fn=!1;e.Ri=-1;e.Ym.current=e.QB([!0],!0,e);e.qj=!1;e.sk=!1;e.rk=!1;e.uk=!1;e.tk=!1;e.a.yf=-1;e.m.RF();e.ph=!0;e.Pj=!1;e.sb=!1;e.Zj=!1;e.Ef=[];for(l=0;10>l;l+=1)e.Ef[l]=null;e.og=0;
e.Bq=!1;e.tb=null;e.ed=!1;e.gf=0;e.ff=0;e.qd=!1;e.kh=!1;e.$n.current=e.tC(2,!0,e);e.Mp=!1;e.nk=[];e.Tp=[];e.jd=[];e.kj=[];e.Sf=[];e.un=[];e.ad=0;e.rc=0;e.Vn=0;e.a.Ih=!1;e.Cg=[];e.Vc=t.Yr;e.Hp=0;e.Wr=-1;e.Gp=[];e.Xr=0;e.bk=!1;e.Sz=0;e.Tz=0;e.$k=0;e.Cu=!1;e.xm=t.Qj;e.Am=-t.Qj;e.wm=t.Qj;e.Bm=-t.Qj;e.m.notification.clear(!0,!0);e.m.notification.clear(!1,!0);e.a.Xc=!1;e.a.Yc=!1;e.BC=!1;if(b){e.Rk=e.v.Rk;e.ci=e.v.zy;e.Xg=e.v.Xg;e.Em=e.v.mv;e.Fm=e.v.nv;e.wk=e.v.wk;e.vk=e.v.vk;e.hb=b.width;e.lb=b.height;
e.Kp=b.name;e.bs=b.WE;e.dj=b.dj;""===e.dj&&(e.dj="(none)");e.fl=b.sd;e.cs=b.Sr;e.ub=b.C;e.hd=b.Nf;e.Cm=b.Ko;e.a.vc=b.vc;e.a.jg=b.jg;e.va=e.v.va;e.a.Ia=b.ic;e.a.M=b.M;e.a.Qf=b.ic||b.M;e.lk.lower=["[R]History"];e.lk.A=["toggle [R]History display"];e.Ql.A="clear [R]History cells";e.a.M&&(e.lk.lower=["[R]Super"],e.lk.A=["toggle [R]Super display"],e.Ql.A="clear [R]Super cells");e.a.c=b.c;!e.va&&2<b.sd&&(e.a.c=b.sd);e.a.Md=null;e.a.Fg=null;-1!==b.ve?(e.a.eg=b.eg,e.a.ve=b.ve,e.a.c=b.ve,e.a.pi=b.pi,e.a.ll=
b.ll,e.a.pk=b.pk,e.a.qk=b.qk,e.a.$d=b.$d,e.a.Ld=b.Ld,e.a.ba=!0):e.a.ba=!1;null!==b.Md&&(e.a.Fg=b.Fg,e.a.Md=b.Md,e.a.Eg=b.Eg,e.a.mj=b.mj,e.a.jl=b.jl,e.a.c=b.dg,e.a.$d=b.$d,e.a.Ld=b.Ld,e.a.ba=!0);e.a.aL(b.Ld);if(e.a.oa=b.oa)e.a.Qa.Jb=b.De,e.a.Qa.Zv=b.If,e.a.Qa.ko=b.c,e.a.Qa.kM(b.Fb,b.bg,b.zf,b.Wh,b.P,b.Pe,b.ih),e.v.oc?(e.a.Qa.jt=b.uq,e.a.Qa.kt=b.vq,e.a.Qa.oc=!0):e.a.Qa.oc=!1,e.BC=b.Id;e.a.Ja=b.Ja;e.a.ha=b.ha;e.a.Hl=e.a.ha;e.a.G=b.G;e.a.be=!0;e.a.O=b.O;e.a.bv=b.O;e.a.tg=b.tg;e.a.P=b.P;e.a.Od=b.Od;e.a.ne=
b.ne;e.a.Pd=b.Pd;e.a.ua=b.fc;e.a.wa=b.Ge;e.a.ta=b.sg;e.a.ln=b.br;e.a.mn=b.ap;e.a.st=b.Fy;e.a.Cx=b.mu;e.bo=new Uint32Array(e.fl);for(l=0;l<e.fl;l+=1)e.bo[l]=e.v.ro[l]}else e.jD();e.a.oM();e.si=!0;e.Wc=!1;e.Wg=!0;e.nd=t.CD;e.Kc=b?!1:!0;e.$o=!0;e.Sk=!1;e.u=e.v.u;e.a.Z=1;e.a.ts=t.BD;e.Gb=0;e.Hb=0;e.Mg=-1;e.fh=-1;e.rn=!1;e.Eq=!1;e.i.locked=!1;e.gi=!1;e.vi=!1;e.a.vJ();e.a.wJ();e.a.Ia&&e.a.qD();e.a.Ia&&e.a.wD();e.Fi="";e.ti=!1;ColourManager.cf();e.a.Cq(!1);e.a.Fd=t.lu;e.a.Xf=t.ku;e.a.Bf=10;e.a.MI=10;e.a.Uk=
!0;e.yD=-1;e.xD=-1;e.rg=60;e.Ba=1;e.a.R=1;e.a.oe=.1;e.a.angle=0;e.a.zoom=6;e.a.AL(e.LI,e.JI);e.a.za=e.a.width/2;e.a.sa=e.a.height/2;e.iy=!1;e.gy=!1;e.hy=!1;e.Fe=0;e.Qi=0;e.Ke=-1;e.$g=-1;e.Gf=-1;e.oi=-1;e.ma[t.Og]=-1;e.ma[t.Pi]=-1;e.ma[t.It]=-1;e.ma[t.Xh]=-1;e.ma[t.Iq]=-1;e.ma[t.Jq]=-1;e.ma[t.Kq]=-1;e.ma[t.Rt]=-1;e.ma[t.St]=-1;e.ma[t.Jt]=-1;e.ma[t.Ot]=-1;e.ma[t.Nt]=-1;e.ma[t.Mt]=-1;e.ma[t.Pt]=-1;e.ma[t.Qt]=-1;e.ma[t.Lt]=-1;e.ma[t.Lq]=-1;e.ma[t.Kt]=-1;e.ma[t.Zx]=-1;e.ma[t.Pq]=-1;e.ma[t.Nq]=-1;e.ma[t.Qq]=
-1;e.ma[t.Sq]=-1;e.ma[t.Rq]=-1;e.ma[t.Oq]=-1;e.ma[t.Hq]=-1;e.ma[t.Mq]=-1;e.ma[t.Yx]=-1;e.ma[t.ay]=-1;e.ma[t.$x]=-1;e.ma[t.Xx]=-1;e.Vx=t.jE;e.Ux=t.mt;e.Wx=t.AF;e.mb&&e.xB();e.rl=!1;e.m.mb=!1;e.ye=t.DD;e.wj=!1;e.m.wj=!1;e.gw=!1;e.fd=b?!1:!0;e.Ma=!1;e.a.ac=!1;e.a.ld=!1;e.xb.h=!1;e.rd.h=!1;e.bf.h=!1;e.ec.h=!1;e.Nd.h=!1;e.Mc.h=!1;e.Yd.h=!1;e.bd.h=!1;e.zi.h=!1;e.Ym.h=!1;e.Om.h=!1;e.i.h=!1;e.Zg.h=!1;e.yj.h=!1;e.fo.h=!1;e.$r.h=!1;e.ur.h=!1;e.fv.h=!1;e.Uq.h=!1;e.Kl.h=!1;e.Mc.current=[!1];e.bf.current=[!1];
e.ja=0;e.dc=0;e.Rn.current=[!1];e.hn.current=e.qC([e.Pj],!0,e);e.Oo.current=e.rC([e.ph],!0,e);e.$v=!1;e.rd.current=e.Ck(t.tm,!0,e);e.mk.current=e.VG([50,50],!0,e);e.ao.current=e.uC([t.Ip,t.Ip],!0,e);e.Vk.current=e.mq([e.ja],!0,e);e.Ul=[96,96,96];e.a.Ml=e.a.Zd?4284506208:1616929023;e.Vl=[128,128,128];e.a.Nl=e.a.Zd?4286611584:2155905279;e.Xl=[0,255,0];e.a.fB="rgb(0,255,0)";e.Wl=[255,0,0];e.a.Qz="rgb(255,0,0)";e.Tl=[255,255,0];e.a.ht="rgb(255,255,0)";e.T.reset();e.Qc=!1;e.T.eI();e.ak=!1;e.re=!1;e.gj=
!0;e.sh=!1;e.Ht=!1;e.a.$h=!1;e.Bv=t.Rp;e.vv=t.Rp;e.tv=50;e.rs=!1;e.xv=!1;e.Av=!1;e.gl=-1;e.hl=-1;e.Hm=-1;e.Fh=[];e.hj=[];e.Mv=!1;e.JB=!1;if(b){if(b.Ja||!e.va&&2<e.a.c)e.Ee=ColourManager.Tt,e.Mo="(default)";else if(e.v.$j||b.ic)b.ic?(e.Ee=ColourManager.kD("LifeHistory"),e.Ee[2]=96):e.Ee=ColourManager.kD(b.C),e.Ee.length?e.Mo=b.C:(e.Ee=ColourManager.Tt,e.Mo="(default)");e.EL();e.zv=Date.now().toString();!e.Hd&&u.fullScreen&&(e.F=document.body.clientWidth&-8,e.D=window.innerHeight-128,e.F<t.Gc&&(e.F=
t.Gc),e.D<t.bj&&(e.D=t.bj),p=!0);e.a.Kd=!1;b.title&&(l=b.sd,e.a.Ia&&(l=7),e.a.G&&(l=16),e.a.M&&(l=26),e.jL(b.title,l),e.jd.length&&(e.dc=1),e.mb&&y&&(e.mb=!1),-1<e.Ke&&(e.Ke&=-8,e.Ke!==e.F&&(e.F=e.Ke,p=!0)),-1<e.$g&&e.$g!==e.D&&(e.D=e.$g,p=!0),e.Hd&&(-1<e.Gf?(e.Gf&=-8,e.Gf!==e.F&&(e.F=e.Gf,p=!0)):e.F<t.Gc&&(e.F=t.Gc),-1<e.oi&&e.oi!==e.D&&(e.D=e.oi,p=!0)));e.a.Kd&&(2<e.a.c||e.a.oa||e.a.G||e.a.Ia||e.a.ba||e.a.ha)&&(e.a.Kd=!1);if(!e.va||e.a.ba||e.a.M)e.L=0;e.Ob.cf(e.zv);e.Hd&&(e.Ur=e.F,e.Tr=e.D,e.bG());
b.Ig&&0===e.Cg.length&&(e.va=!1);e.hG();e.cM();e.OM();e.MM();e.a.gL();e.a.L=e.L;e.wj&&!e.Wc&&(e.Kc=!0,e.Wc=!1);e.a.KH(!e.Kc);if(b.width>e.a.ga||b.height>e.a.ga)e.u="Pattern too big (maximum "+e.a.ga+"x"+e.a.ga+")",e.Ig=!0,e.va=!1,e.jD();if(-1!==b.fc){var z=6;b.oa&&(z=6*b.bg);b.Id&&(z=6*b.ue);if(b.Ge>=e.a.ga-z||b.sg>=e.a.ga-z)e.u="Bounded grid is too big",e.va=!1,e.a.ua=-1}e.a.HM(e);e.Cu&&(e.a.Rx(),e.$K());e.AC=!1;if(-1!==e.a.ua){y=e.a.wa;var A=e.a.ta;0===y&&(y=b.width);0===A&&(A=b.height)}else y=
b.width,A=b.height,0<e.Cg.length&&(y=e.lI(y),A=e.kI(A));z=t.zg;e.a.oa&&(z=4*e.a.Qa.Nh+1,-1!==e.a.ua&&(z+=2*e.a.Qa.Nh),e.a.Qa.type===e.v.kf&&(z=-1!==e.a.ua?z+e.a.ta/2:z+(e.a.J.s-e.a.J.g+1)/2),z<t.zg&&(z=t.zg));l=e.a.ga/2-z;e.Xg&&(e.Em<-l?e.Em=-l:e.Em>=l&&(e.Em=l-1),e.Fm<-l?e.Fm=-l:e.Fm>=l&&(e.Fm=l-1),e.Gb+=e.Em,e.Hb+=e.Fm);e.Gb<-l?e.Gb=-l:e.Gb>=l&&(e.Gb=l-1);e.Hb<-l?e.Hb=-l:e.Hb>=l&&(e.Hb=l-1);for(;e.a.width<e.a.ga&&(y+z+2*Math.abs(e.Gb)>=e.a.width||A+z+2*Math.abs(e.Hb)>=e.a.height);)e.a.er(),e.Fe+=
e.a.width>>2,e.Qi+=e.a.height>>2,e.Le+=e.a.width>>2,e.oj+=e.a.height>>2,e.a.O&&(e.Fe-=e.a.height>>3,e.Le-=e.a.height>>3);b.oa&&e.a.Qa.resize(e.a.width,e.a.height);e.mI(b.width,b.height);e.a.Ia&&e.v.ro[6]&&e.a.XK(b,e.Oc,e.Pc);e.rh?e.m.notification.Kg="rgb("+e.rh[0]+","+e.rh[1]+","+e.rh[2]+")":e.m.notification.Kg=e.m.notification.GF;if(null===e.kc)for(l=0;l<e.Ee.length;l+=1)e.vn[l]=e.v.ro[l]?t.mG:t.tB;e.a.Yb?(e.a.BI(e.Ee,e.kc),e.a.$h=!0):e.a.$h=!1;b.Ig||e.rI(b);e.Jm.Va=""!==e.hd?e.hd:e.ub;e.Jm.A=e.ub;
""!==e.hd&&(e.Jm.A+=" alias "+e.hd)}e.jj=!1;e.oz="none";e.yb="none";e.tp="none";e.Fr="none";e.up="none";e.Er="none";e.Eu="none";e.qp="none";e.Gr="none";e.rp="none";e.Hr="none";e.sp="none";e.Xb=!1;e.jp.current=[e.Xb];e.a.Au(e.Xb);e.Om.current=e.OB([e.gj],!0,e);e.a.Rx();e.ZL(e.FB);e.a.kc=e.kc;e.a.Ja||!e.va&&2<e.a.c?e.a.pD(e.Ee,e.kc):e.a.oD();e.a.Ed(1);e.a.YL();e.cq.current=e.PB([e.po],!0,e);e.Ep.current=e.pw([e.nd,e.nd],!1,e);e.wp.current=[e.Wg];e.Ji.current=[e.uc];e.ei.current=[e.a.ac];e.Qp.current=
[e.a.Kd];e.a.counter=0;e.a.Of=0;e.a.$i=0;e.rb=0;e.ag=0;e.elapsedTime=0;e.rd.ug=[!1,!1,!1];if(e.fd)b&&(e.a.RA(e.vi),e.kc&&(e.Ee=e.kc)),e.iI=e.Ee.length,e.a.pD(e.Ee,e.kc),e.a.Hg.reset(),e.Kc=!0,e.Wc=!1;else{e.a.RA(e.vi);e.a.Kv();2>=e.a.c&&e.a.Jv(e.a.Za);e.a.Ia&&e.v.ro[2]&&e.a.uI(b,e.Oc,e.Pc);e.cj();0<e.Cg.length&&(e.a.RA(e.vi),e.a.Kv(),2>=e.a.c&&e.a.Jv(e.a.Za));e.a.CL(e.a.Za,e.a.X);y=0;for(l=1;l<e.bo.length;l+=1)y+=e.bo[l];b&&0===y&&0===e.a.na&&!e.bk?(e.Fn=!0,e.a.Ja||(b.Ig?e.m.notification.notify("Pattern too big!",
15,t.du,15,!1):e.m.notification.notify("New pattern",15,300,15,!1))):e.Fn=!1;-1!==e.a.ua&&e.a.gB();e.a.VL(e.re);e.a.Lv(e.re)}e.Aj.width=9999<e.a.ga?166:140;e.Km.oo(e.Aj.ss);e.lk.locked=!(e.a.Ia||e.a.M);e.lk.current=[e.a.Qf];e.em.locked=e.Kc;e.em.current=[e.Wc];e.Om.current=[e.gj];e.Ym.current=[e.Ol];e.pp.current=[e.a.Mi];e.xq.current=[e.ak];e.Jo.current=[e.Rh];e.fn.current=[e.a.Hl];e.fn.locked=!e.a.ha;e.im.current=[e.a.be];e.im.locked=e.a.P;e.Tq.h=(e.a.ha||e.a.G)&&null!==e.a.Ec?!1:!0;0===e.T.Bp()?
(e.mm.locked=!0,e.si=!1):(e.mm.locked=!1,e.si=!0);e.mm.current=[e.si];e.kp.current=[e.dd];e.Vp.current=[e.Sk];e.qs.current=[e.a.Yg];e.fq.current=[e.ti];e.hp.current=[e.gi];e.T.qc.length?(e.ns.h=!1,e.Nr.h=!1):(e.ns.h=!0,e.Nr.h=!0);0===e.a.Bf?(e.ek.current=[!1],e.ek.locked=!0):(e.ek.current=[e.a.Uk],e.ek.locked=!1);e.Kc||e.a.QF();l=e.a.zoom;y=e.a.za;A=e.a.sa;z=e.mb;e.mb=!1;e.Pg(!0,!1,t.Qk);e.mb=z;e.iy?e.a.zoom=l:!e.uc&&e.a.zoom>t.uE&&(e.a.zoom=t.uE);e.gy&&(e.a.za=y);e.hy&&(e.a.sa=A);e.Qc&&e.TM(e.jd);
e.mb&&e.gw&&(e.a.zoom=e.LB);e.ED=e.a.zoom;e.tc.current=e.Dk([e.a.zoom,e.a.zoom],!1,e);e.Fe=e.a.za;e.Qi=e.a.sa;e.Ro=e.a.angle;e.Bd.current=[e.Ro,e.Ro];e.Vt=e.a.yf;e.Mm(e.Vt,e.a.Rl,e);e.fy=e.rg;l=Math.sqrt((e.fy-t.Sg)/(t.pm-t.Sg));e.ec.current=e.Bk([l,l],!0,e);e.Ut=e.Ba;e.Nd.current=e.en([e.Ut,e.Ut],!0,e);e.So=e.a.R;e.Yd.current=[e.So,e.So];e.ey=e.a.oe;l=Math.sqrt(e.ey);e.bd.current=e.sl([l,l],!0,e);e.a.Z=1;e.Xe&&!e.mg?(e.Ya=!0,e.xb.current=t.gk):(e.Ya=!1,e.xb.current=t.Ie);e.Tv(e.Ya);e.D<t.rm?(e.Mc.h=
!0,e.xb.oo(e.tA+45),e.ec.oo(e.Ay+45),e.Nd.oo(e.vB+45)):(e.xb.oo(e.tA),e.ec.oo(e.Ay),e.Nd.oo(e.vB));e.F>t.Gc&&!e.Hd?(l=e.F-t.Gc+t.ct,l>t.zw&&(l=t.zw),e.tc.ri(l)):e.tc.ri(t.ct);if(p||e.mb)e.mb?e.yB():e.resize();b||(e.v.Ig?e.m.notification.notify("Pattern too big!",15,t.du,15,!1):e.m.notification.notify("Invalid pattern!",15,t.du,15,!1));e.jd.length?e.ja=0:e.dc=0;e.va||(e.Ma=!0,e.a.$h=!1,e.a.Ja=!0,e.a.Ia=!1,e.a.M=!1);if(e.Ma||e.a.Ja)e.rd.ug[t.sm]=!0;e.Ma?(e.xb.h=!0,e.bf.h=!0,e.Zg.h=!0,e.ec.h=!0,e.Nd.h=
!0,e.yj.h=!0,e.fo.h=!0,e.fd&&(e.Yd.h=!0,e.bd.h=!0,e.zi.h=!0,e.a.R=1),e.il.h=!1,""===e.u?(e.il.Va=Keywords.at,e.il.Uf=t.fp):(e.il.Va=e.u,e.il.Uf=e.Si)):e.il.h=!0;540>e.D?e.Kl.setPosition(Menu.eq,0,-85):e.Kl.setPosition(Menu.eq,0,-100);e.DG();e.yg=!1;e.Ir="";e.aG(e);e.fu()?(e.Sj.Va="Density",e.Sj.A="cell density"):(e.Sj.Va="Births",e.Sj.A="cells born this generation");e.m.Jh=!0;e.m.Gg(!0);e.Hd&&e.hw&&(""===e.Fi?e.hw.nodeValue="LifeViewer":e.hw.nodeValue=e.oJ(e.Fi));u.La?(b=e.Kp,""===b&&(b="Universe "+
(e.$c+1)),e.m.notification.notify(b,15,120,15,!0),e.os.h=!1,e.Or.h=!1):(e.os.h=!0,e.Or.h=!0);e.pb("");e.Vu&&f(e);8===e.a.zoom&&0<e.Wn&&0===(e.Wn&3)&&1===(e.kj.length&5)?(e.Wq=!0,e.a.aE()):e.Wq=!1;e.a.Vy();(e.a.ha||e.a.G)&&null!==e.a.Ec&&e.Mv&&(e.a.Yc=!0,e.Tv(e.Ya));e.Cv&&""===e.u&&(e.uv||(e.uv=!0,e.wv(e,!0)),e.uv=!1)};registerEvent(window,"load",x,!1);window.onresize=function(){if(u.fullScreen){var b=B.xd[0][1];b.F=document.body.clientWidth&-8;b.D=window.innerHeight-128;b.F<t.Gc&&(b.F=t.Gc);b.D<t.EF&&
(b.D=t.EF);if(b.F>t.Gc&&!b.Hd){var l=b.F-t.Gc+t.ct;l>t.zw&&(l=t.zw);b.tc.ri(l)}else b.tc.ri(t.ct);l=b.Af;b.hG();b.Af=l;b.mC();b.resize();b.m.Gg(!0)}};window.DocConfig=u;window.Controller=B;window.ViewConstants=t;window.startAllViewers=x;window.updateViewer=n;window.updateMe=d;window.hideViewer=k;window.lifeViewerBuild=t.ow}(),function(){var w={ml:0,sn:"",Qx:!1,vM:function(g){g=LifeConstants.OE[g];10<g.length&&(g=g.replace(/marked/,"mkd"),g=g.replace(/trail/,"trl"),10<g.length&&(g="1"<=g.substr(-1)&&
"9">=g.substr(-1)?g.substr(0,9)+g.substr(-1):g.substr(0,10)));return g},qL:function(g,h,q,k,a,c,d,f,n,m){var r=f,v=g.i.Ae,x=this.ml*v,u=this.ml*g.i.Ae,t=!1,B=g.Y;c&&(c.fillStyle===ViewConstants.hr&&(t=!0),B>=m&&B<=m+g.gd&&(c.font=g.ep,t||(c.fillStyle=1<(g.ja|0)?ViewConstants.fp:ViewConstants.iu),c.fillText(h,d+x,f+u),t||(c.fillStyle=ViewConstants.fp),c.fillText(q,d+x+c.measureText(h).width,f+u),t||(c.fillStyle=(g.ja|0)<g.Cp-g.gd?ViewConstants.fp:ViewConstants.iu),c.fillText(k,d+x+c.measureText(h+
q).width,f+u),t||(c.fillStyle=ViewConstants.fp),c.font=g.hm,c.fillText(a,d+x+g.$[0]*v,f+u),r+=n));g.Y+=1;return r},wx:function(g){g/=1048576;return 10>g?String(g.toFixed(1)):String(g.toFixed(0))},Wa:function(g,h,q,k,a,c,d,f,n){var m=g.Y;a&&(f-=6,m>=n&&m<=n+g.gd&&(g=a.fillStyle,g!==ViewConstants.hr&&(a.fillStyle="rgb("+h+","+q+","+k+")"),a.fillRect(c,d-(f>>1)-1,f,f),a.fillStyle=g))},measureText:function(g,h,q,k){var a=k?g.qu:g.pu;a[g.Y]?h=a[g.Y]:(h.font=0===k?g.ep:g.hm,h=h.measureText(q).width,a[g.Y]=
h);return h},b:function(g,h,q,k,a,c,d,f){var n=c,m=String(q).indexOf("\t"),r=0,v=g.i.Ae,x=this.ml*v,u=this.ml*g.i.jh,t=g.Y>=f&&g.Y<=f+g.gd;w.Qx&&0===w.ml&&(""===h?w.sn+=q+"\n":"H / Esc"!==h&&(w.sn+=h+"\t"+q+"\n"));if(h.length){t&&(k.font=g.ep,k.fillText(h,a+x,c+u));h=this.measureText(g,k,h,0);h>g.$[r]*v&&(t&&(c+=d,n+=d),g.Y+=1,t=g.Y>=f&&g.Y<=f+g.gd);t&&(k.font=g.hm);for(;-1!==m;)t&&k.fillText(q.substr(0,m),a+x+g.$[r]*v,c+u),r+=1,q=q.substr(m+1),m=q.indexOf("\t");m=!1;if(g.Jg&&(h=this.measureText(g,
k,q,1),a+g.$[r]*v+h>k.canvas.width)){var B=q.toLowerCase();h=B.indexOf("|");-1===h&&("r"===B[0]?h=B.indexOf("b"):"m"!==B[0]&&(h=B.indexOf("s")),-1===h&&(h=B.indexOf("/"),-1!==h&&"m"!==B[0]?h+=1:(h=q.length>>1,B=B.indexOf(",",h),-1!==B&&(h=B+1))));-1!==h&&(t&&(k.fillText(q.substr(0,h),a+x+g.$[r]*v,c+u),c+=d,n+=d),g.Y+=1,(t=g.Y>=f&&g.Y<=f+g.gd)&&k.fillText("  "+q.substr(h),a+x+g.$[r]*v,c+u),m=!0)}m||t&&k.fillText(q,a+x+g.$[r]*v,c+u)}else k.font=g.hm,t&&k.fillText(q,a+x,c+u);t&&(n+=d);g.Y+=1;return n},
jc:function(g,h,q){for(var k=ColourManager.Ee,a=Object.keys(k),c="    "+g+"\t"+h+"\t"+q,d=!1,f,n=0;n<a.length&&!d;)f=k[a[n]],f[1]===g&&f[2]===h&&f[3]===q?(c+="\t"+f[0],d=!0,n=a.length):n+=1;return c},cg:function(g){return this.jc(g.red,g.green,g.blue)},QH:function(g){var h=0,q=0;g.a.Z&&(h=g.a.J.o-g.a.J.f+1,q=g.a.J.s-g.a.J.g+1);-1!==g.a.ua&&(0!==g.a.wa&&(h=g.a.wa),0!==g.a.ta&&(q=g.a.ta));return h+" x "+q},XH:function(g){var h="AutoFit";g.gi&&(h+=" History");g.vi&&(h+=" State 1");return h},XE:function(g,
h){h-=g.length;for(var q="";0<h;)q+=" ",--h;return q+g},Lx:function(g){var h=g.indexOf(","),q=g.lastIndexOf(",");return[g.substring(4,h),g.substring(h+1,q),g.substring(q+1,g.length-1)]},NF:function(g,h,q,k,a,c){var d=k;switch(g.gm){case ViewConstants.tl:this.wL(g,h,q,k,a,c);break;case ViewConstants.gE:this.sL(g,h,q,k,a,c);break;case ViewConstants.dB:this.uL(g,h,q,k,a,c);break;case ViewConstants.vr:this.rL(g,h,q,k,a,c);break;case ViewConstants.rG:this.vL(g,h,q,k,a,c);break;case ViewConstants.lD:this.nL(g,
h,q,k,a,c);break;case ViewConstants.PC:this.lL(g,h,q,k,a,c);break;case ViewConstants.DE:this.tL(g,h,q,k,a,c);break;case ViewConstants.VC:this.mL(g,h,q,k,a,c)}g.Cp=g.Y-1;g.Y=1;g.$[0]=120;k=d+a*(g.gd+2);k=g.gm!==ViewConstants.tl?this.qL(g,"Up"," / ","Down","scroll help",h,q,k,a,0):k+a;g.Hd?this.b(g,"H","close help",h,q,k,a,0):this.b(g,"H / Esc","close help",h,q,k,a,0)},wL:function(g,h,q,k,a,c){g.Y=1;g.Jg=!1;g.ea=[];g.$[0]=108;g.ea[0]=[g.Y,"Top"];this.b(g,"",ViewConstants.HG+" build "+ViewConstants.ow+
" by "+ViewConstants.GG,h,q,k,a,c)},mL:function(g,h,q,k,a,c){var d,f=0,n=g.i.Ae;g.Y=1;g.Jg=!1;g.ea=[];g.ea[f]=[g.Y,"Top"];f+=1;g.$[0]=128;g.$[1]=208;g.$[2]=288;g.$[3]=368;k=this.b(g,"","Annotations",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Labels"];f+=1;k=this.b(g,"","Labels:",h,q,k,a,c);k=this.b(g,"Number",g.T.Df.length,h,q,k,a,c);for(d=0;d<g.T.Df.length;d+=1){var m="Label "+String(d+1);k=this.b(g,m,g.T.$J(d),h,q,k,a,c);k=this.b(g," ",g.T.aK(d),h,q,k,a,c);k=this.b(g," ",g.T.bK(d),h,q,
k,a,c);m=this.Lx(g.T.cK(d));this.Wa(g,m[0],m[1],m[2],h,q+g.$[0]*n,k,a,c);k=this.b(g,"Colour",this.jc(m[0],m[1],m[2]),h,q,k,a,c)}k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Arrows"];f+=1;k=this.b(g,"","Arrows:",h,q,k,a,c);k=this.b(g,"Number",g.T.uf.length,h,q,k,a,c);for(d=0;d<g.T.uf.length;d+=1)m="Arrow "+String(d+1),k=this.b(g,m,g.T.RH(d),h,q,k,a,c),k=this.b(g," ",g.T.SH(d),h,q,k,a,c),k=this.b(g," ",g.T.TH(d),h,q,k,a,c),m=this.Lx(g.T.mt(d)),this.Wa(g,m[0],m[1],m[2],h,q+g.$[0]*n,k,a,c),k=this.b(g,"Colour",
this.jc(m[0],m[1],m[2]),h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Polygons"];k=this.b(g,"","Polygons:",h,q,k,a,c);k=this.b(g,"Number",g.T.Ff.length,h,q,k,a,c);for(d=0;d<g.T.Ff.length;d+=1)m="Polygon "+String(d+1),k=this.b(g,m,g.T.TK(d),h,q,k,a,c),k=this.b(g," ",g.T.UK(d),h,q,k,a,c),k=this.b(g," ",g.T.VK(d),h,q,k,a,c),m=this.Lx(g.T.WK(d)),this.Wa(g,m[0],m[1],m[2],h,q+g.$[0]*n,k,a,c),k=this.b(g,"Colour",this.jc(m[0],m[1],m[2]),h,q,k,a,c)},sL:function(g,h,q,k,a,c){var d,f=0;g.Y=1;g.ea=[];
g.Jg=!0;g.$[0]=124;g.ea[f]=[g.Y,"Top"];f+=1;k=this.b(g,"","Keyboard commands",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Playback"];f+=1;k=this.b(g,"","Playback controls:",h,q,k,a,c);if(g.fd)k=this.b(g,"R","reset",h,q,k,a,c);else{k=this.b(g,"Enter","toggle play / pause",h,q,k,a,c);k=this.b(g,"Space","pause / next generation",h,q,k,a,c);k=this.b(g,"B","pause / previous generation",h,q,k,a,c);k=this.b(g,"Backspace","pause / previous generation",h,q,k,a,c);k=this.b(g,"Tab","pause / next step",
h,q,k,a,c);k=this.b(g,"Shift Tab","pause / previous step",h,q,k,a,c);if(g.a.ha||g.a.G)k=this.b(g,"U","toggle playback direction",h,q,k,a,c);k=g.Hd?this.b(g,"Esc","close LifeViewer",h,q,k,a,c):this.b(g,"Esc","pause if playing",h,q,k,a,c);k=this.b(g,"R","reset to generation 0",h,q,k,a,c);k=this.b(g,"-","decrease generation speed",h,q,k,a,c);k=this.b(g,"+","increase generation speed",h,q,k,a,c);k=this.b(g,"Shift -","minimum generation speed",h,q,k,a,c);k=this.b(g,"Shift +","maximum generation speed",
h,q,k,a,c);k=this.b(g,"D","decrease step size",h,q,k,a,c);k=this.b(g,"E","increase step size",h,q,k,a,c);k=this.b(g,"Shift D","minimum step size",h,q,k,a,c);k=this.b(g,"Shift E","maximum step size",h,q,k,a,c);k=this.b(g,"0","reset step and speed",h,q,k,a,c);k=this.b(g,"Alt T","toggle throttling",h,q,k,a,c);g.Qc?-1!==g.bb?(k=this.b(g,"W","toggle waypoint playback and loop",h,q,k,a,c),k=this.b(g,"Shift P","toggle just loop",h,q,k,a,c)):k=this.b(g,"W","toggle waypoint playback",h,q,k,a,c):-1!==g.bb&&
(k=this.b(g,"W","toggle loop",h,q,k,a,c));g.Xe&&(k=this.b(g,"Alt O","toggle autostart",h,q,k,a,c));-1!==g.Wb&&(k=this.b(g,"Alt P","toggle stop",h,q,k,a,c))}k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Multi"];f+=1;k=this.b(g,"","Multi-Viewer controls:",h,q,k,a,c);DocConfig.La&&(k=this.b(g,"Page Up","previous universe",h,q,k,a,c),k=this.b(g,"Page Down","next universe",h,q,k,a,c),k=this.b(g,"Home","first universe",h,q,k,a,c),k=this.b(g,"End","last universe",h,q,k,a,c));k=this.b(g,"Shift R","reset all LifeViewers to generation 0",
h,q,k,a,c);k=this.b(g,"Z","stop playback in all other LifeViewers",h,q,k,a,c);k=this.b(g,"Shift Z","stop playback in all LifeViewers",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Camera"];f+=1;k=this.b(g,"","Camera controls:",h,q,k,a,c);if(g.D>=ViewConstants.rm||(g.mb&&g.HB)>=ViewConstants.rm)k=this.b(g,"M","toggle settings menu",h,q,k,a,c);k=this.b(g,"V","restore saved camera position",h,q,k,a,c);k=this.b(g,"Shift V","save current camera position",h,q,k,a,c);var n=g.T.qc.length;if(0<n&&(k=
this.b(g,"J","jump to next point of interest",h,q,k,a,c),k=this.b(g,"Shift J","jump to previous point of interest",h,q,k,a,c),9<n&&(n=9),!g.le&&!g.fg))for(d=1;d<=n;d+=1)k=this.b(g,"Alt "+String(d),"jump to POI #"+String(d),h,q,k,a,c);k=this.b(g,"F","fit pattern to display",h,q,k,a,c);k=this.b(g,"Shift F","toggle autofit",h,q,k,a,c);k=this.b(g,"Shift H","toggle autofit history mode",h,q,k,a,c);k=this.b(g,"Ctrl F","fit selection to display",h,q,k,a,c);k=this.b(g,"Ctrl M","center pattern on display",
h,q,k,a,c);g.a.Ia&&(k=this.b(g,"Shift S","toggle autofit state 1 mode",h,q,k,a,c));k=this.b(g,"[","zoom out",h,q,k,a,c);k=this.b(g,"]","zoom in",h,q,k,a,c);k=this.b(g,"Shift [","halve zoom",h,q,k,a,c);k=this.b(g,"Shift ]","double zoom",h,q,k,a,c);k=this.b(g,"1","1x zoom",h,q,k,a,c);k=this.b(g,"2","2x zoom",h,q,k,a,c);k=this.b(g,"4","4x zoom",h,q,k,a,c);k=this.b(g,"8","8x zoom",h,q,k,a,c);k=this.b(g,"6","16x zoom",h,q,k,a,c);k=this.b(g,"3","32x zoom",h,q,k,a,c);k=this.b(g,"Shift 3","64x zoom",h,q,
k,a,c);k=this.b(g,"Shift 1","integer zoom",h,q,k,a,c);k=this.b(g,"Shift 2","-2x zoom",h,q,k,a,c);k=this.b(g,"Shift 4","-4x zoom",h,q,k,a,c);k=this.b(g,"Shift 8","-8x zoom",h,q,k,a,c);k=this.b(g,"Shift 6","-16x zoom",h,q,k,a,c);k=this.b(g,"Left","pan left",h,q,k,a,c);k=this.b(g,"Right","pan right",h,q,k,a,c);k=this.b(g,"Up","pan up",h,q,k,a,c);k=this.b(g,"Down","pan down",h,q,k,a,c);k=this.b(g,"Shift Left","pan north west",h,q,k,a,c);k=this.b(g,"Shift Right","pan south east",h,q,k,a,c);k=this.b(g,
"Shift Up","pan north east",h,q,k,a,c);k=this.b(g,"Shift Down","pan south west",h,q,k,a,c);k=this.b(g,"<","rotate left",h,q,k,a,c);k=this.b(g,">","rotate right",h,q,k,a,c);k=this.b(g,"Shift <","rotate left 90 degrees",h,q,k,a,c);k=this.b(g,"Shift >","rotate right 90 degrees",h,q,k,a,c);k=this.b(g,"5","reset angle",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.fd||(g.ea[f]=[g.Y,"View"],f+=1,k=this.b(g,"","View controls:",h,q,k,a,c),k=this.b(g,"Q","increase number of layers",h,q,k,a,c),k=this.b(g,"A","decrease number of layers",
h,q,k,a,c),k=this.b(g,"P","increase layer depth",h,q,k,a,c),k=this.b(g,"L","decrease layer depth",h,q,k,a,c),k=this.b(g,"C","next colour theme",h,q,k,a,c),k=this.b(g,"Shift C","previous colour theme",h,q,k,a,c),k=this.b(g,"Alt C","default theme",h,q,k,a,c),k=this.b(g,"","",h,q,k,a,c));g.ea[f]=[g.Y,"Display"];f+=1;k=this.b(g,"","Display controls:",h,q,k,a,c);g.fd||(k=this.b(g,"G","toggle generation statistics",h,q,k,a,c),k=this.b(g,"Shift G","toggle generation display mode",h,q,k,a,c),g.Kc||(k=this.b(g,
"Y","toggle population graph",h,q,k,a,c),k=this.b(g,"Shift Y","toggle graph lines",h,q,k,a,c),k=this.b(g,"7","decrease graph opacity",h,q,k,a,c),k=this.b(g,"9","increase graph opacity",h,q,k,a,c)),k=this.b(g,"Shift W","toggle performance warning",h,q,k,a,c));k=this.b(g,"/","toggle hexagons for hex view",h,q,k,a,c);k=this.b(g,"T","toggle timing information",h,q,k,a,c);k=this.b(g,"Shift T","toggle extended timing information",h,q,k,a,c);k=this.b(g,"I","toggle pattern and engine information",h,q,k,a,
c);k=this.b(g,"Shift I","toggle information bar",h,q,k,a,c);k=this.b(g,"Ctrl Q","toggle cell anti-aliasing",h,q,k,a,c);k=this.b(g,"Alt B","toggle cell borders",h,q,k,a,c);k=this.b(g,"X","toggle gridlines",h,q,k,a,c);0<g.a.Bf&&(k=this.b(g,"Shift X","toggle major gridlines",h,q,k,a,c));k=this.b(g,"Ctrl G","toggle auto gridlines",h,q,k,a,c);g.a.ha&&(k=this.b(g,"Alt D","toggle alternating gridlines",h,q,k,a,c));g.a.Ia&&(k=this.b(g,"Alt H","[R]History display on",h,q,k,a,c),k=this.b(g,"Alt J","[R]History display off",
h,q,k,a,c));0<g.T.Bp()&&(k=this.b(g,"Shift L","toggle annotation display",h,q,k,a,c));k=this.b(g,"Alt G","toggle kill escaping gliders",h,q,k,a,c);g.rl&&(k=this.b(g,"N","toggle thumbnail view",h,q,k,a,c));k=this.b(g,"S","toggle stars",h,q,k,a,c);k=this.b(g,"O","open screenshot in separate window",h,q,k,a,c);k=this.b(g,"Shift O","open population graph in separate window",h,q,k,a,c);k=this.b(g,"Shift U","toggle UI",h,q,k,a,c);-1===g.a.c&&(k=this.b(g,"Alt W","toggle rainbow mode",h,q,k,a,c));k=this.b(g,
"","",h,q,k,a,c);g.ea[f]=[g.Y,"Pattern"];f+=1;k=this.b(g,"","Pattern controls:",h,q,k,a,c);k=this.b(g,"Alt N","new pattern",h,q,k,a,c);k=this.b(g,"Alt R","change rule",h,q,k,a,c);k=this.b(g,"Ctrl O","open original or last saved pattern",h,q,k,a,c);k=this.b(g,"Ctrl+Shift O","open clipboard as pattern",h,q,k,a,c);k=this.b(g,"Ctrl S","save pattern",h,q,k,a,c);k=this.b(g,"Alt Z","randomize pattern and rule",h,q,k,a,c);k=this.b(g,"Ctrl+Alt Z","randomize pattern only",h,q,k,a,c);k=this.b(g,"F6","toggle oscillator and spaceship identification",
h,q,k,a,c);k=this.b(g,"Ctrl+F6","fast identification",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Clipboard"];f+=1;k=this.b(g,"","External clipboard controls:",h,q,k,a,c);k=this.b(g,"Alt S","toggle sync cut and copy with external clipboard",h,q,k,a,c);k=this.b(g,"Ctrl+Shift C","copy original pattern",h,q,k,a,c);k=this.b(g,"Ctrl C","copy current selection",h,q,k,a,c);k=this.b(g,"Ctrl+Alt C","copy current selection with comments",h,q,k,a,c);k=this.b(g,"Ctrl+Shift X","copy original pattern",
h,q,k,a,c);k=this.b(g,"Ctrl X","copy current selection",h,q,k,a,c);k=this.b(g,"Ctrl+Alt X","copy current selection with comments",h,q,k,a,c);k=this.b(g,"K","copy camera position",h,q,k,a,c);k=this.b(g,"Shift K","copy camera position and view",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Edit"];f+=1;k=this.b(g,"","Edit controls:",h,q,k,a,c);k=this.b(g,"F1","toggle draw/pan mode",h,q,k,a,c);k=this.b(g,"F2","draw mode",h,q,k,a,c);k=this.b(g,"Shift F2","toggle smart drawing",h,q,k,a,c);k=this.b(g,
"F3","pick mode",h,q,k,a,c);k=this.b(g,"F4","select mode",h,q,k,a,c);k=this.b(g,"F5","pan mode",h,q,k,a,c);k=this.b(g,"Ctrl A","select all",h,q,k,a,c);k=this.b(g,"Shift A","shrink selection",h,q,k,a,c);k=this.b(g,"Alt A","toggle auto-shrink selection",h,q,k,a,c);k=this.b(g,"Ctrl C","copy",h,q,k,a,c);k=this.b(g,"Ctrl I","invert selection",h,q,k,a,c);k=this.b(g,"Ctrl K","remove selection",h,q,k,a,c);k=this.b(g,"Ctrl V","paste",h,q,k,a,c);k=this.b(g,"Ctrl+Shift V","paste to selection",h,q,k,a,c);k=this.b(g,
"Ctrl X","cut",h,q,k,a,c);k=this.b(g,"Ctrl Y","redo edit",h,q,k,a,c);k=this.b(g,"Ctrl Z","undo edit",h,q,k,a,c);k=this.b(g,"Ctrl+Shift Z","redo edit",h,q,k,a,c);k=this.b(g,"Ctrl Space","advance selection",h,q,k,a,c);k=this.b(g,"Shift Space","advance outside",h,q,k,a,c);k=this.b(g,"Shift L","cycle paste location",h,q,k,a,c);k=this.b(g,"Shift M","cycle paste mode",h,q,k,a,c);2<g.a.c?(k=this.b(g,"Shift 5","multi-state random fill",h,q,k,a,c),g.a.G||(k=this.b(g,"Ctrl+Shift 5","2-state random fill",h,
q,k,a,c))):k=this.b(g,"Shift 5","random fill",h,q,k,a,c);k=this.b(g,"Alt K","pick cell state to replace with drawing state",h,q,k,a,c);k=this.b(g,"Ctrl+Alt K","clear current drawing state cells",h,q,k,a,c);k=this.b(g,"Del","clear cells in selection",h,q,k,a,c);k=this.b(g,"Shift Del","clear outside selection",h,q,k,a,c);g.a.Ia&&(k=this.b(g,"Ctrl Del","clear [R]History cells",h,q,k,a,c),k=this.b(g,"Alt Del","clear [R]History marked cells",h,q,k,a,c));k=this.b(g,">","rotate selection clockwise",h,q,
k,a,c);k=this.b(g,"<","rotate selection counter-clockwise",h,q,k,a,c);k=this.b(g,"Alt X","flip selection horizontally",h,q,k,a,c);k=this.b(g,"Alt Y","flip selection vertically",h,q,k,a,c);k=this.b(g,"Alt Left","nudge selection 1 cell left",h,q,k,a,c);k=this.b(g,"Alt Right","nudge selection 1 cell right",h,q,k,a,c);k=this.b(g,"Alt Up","nudge selection 1 cell up",h,q,k,a,c);k=this.b(g,"Alt Down","nudge selection 1 cell down",h,q,k,a,c);k=this.b(g,"Esc","hide paste",h,q,k,a,c);k=this.b(g,"Enter","perform paste",
h,q,k,a,c);g.a.Ia?n=7:(n=-1===g.a.c?2:g.a.c,10<n&&(n=10));for(d=0;d<n;d+=1)k=this.b(g,"Ctrl "+d,"select state "+d+" for drawing",h,q,k,a,c);for(d=0;10>d;d+=1)k=this.b(g,"Alt "+d,"make clipboard "+d+" active",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Help"];k=this.b(g,"","Help controls:",h,q,k,a,c);k=this.b(g,"Up","scroll up one line",h,q,k,a,c);k=this.b(g,"Down","scroll down one line",h,q,k,a,c);k=this.b(g,"Page Up","scroll up one page",h,q,k,a,c);k=this.b(g,"Page Down","scroll down one page",
h,q,k,a,c);k=this.b(g,"Shift Page Up","scroll up one section",h,q,k,a,c);k=this.b(g,"Shift Page Down","scroll down one section",h,q,k,a,c);k=this.b(g,"Home","go to first help page",h,q,k,a,c);this.b(g,"End","go to last help page",h,q,k,a,c)},uL:function(g,h,q,k,a,c){var d=0;g.Y=1;g.Jg=!1;g.ea=[];g.$[0]=252;g.ea[d]=[g.Y,"Top"];d+=1;k=this.b(g,"","Scripts",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);k=this.b(g,"","Scripts must be embedded in pattern comments",h,q,k,a,c);k=this.b(g,"","Commands must be surrounded by whitespace",
h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Params"];d+=1;k=this.b(g,"","Parameter conventions:",h,q,k,a,c);k=this.b(g,"A|B","either A or B",h,q,k,a,c);k=this.b(g,"(A)","A is optional",h,q,k,a,c);k=this.b(g,"A*","zero or more A",h,q,k,a,c);k=this.b(g,"A+","one or more A",h,q,k,a,c);k=this.b(g,"<1..3>","integer range",h,q,k,a,c);k=this.b(g,"<1.0..3.0>","decimal range",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"General"];d+=1;k=this.b(g,"","General:",h,q,k,a,c);k=this.b(g,Keywords.lo,
"start script section",h,q,k,a,c);k=this.b(g,Keywords.$p,"end script section",h,q,k,a,c);k=this.b(g,Keywords.wB,"suppress overwrite warning",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Playback"];d+=1;k=this.b(g,"","Playback:",h,q,k,a,c);k=this.b(g,Keywords.qt+" ("+Keywords.Rb+")","start play automatically",h,q,k,a,c);k=this.b(g,Keywords.Zi+" <1..>|"+Keywords.Rb,"loop at generation",h,q,k,a,c);k=this.b(g,Keywords.uj+" <1..>|"+Keywords.Rb,"stop at generation",h,q,k,a,c);k=this.b(g,Keywords.In+
" <"+ViewConstants.Sg+".."+ViewConstants.pm+">","set steps per second",h,q,k,a,c);k=this.b(g,Keywords.so+" <"+ViewConstants.Sn+".."+ViewConstants.zg+">","set generations per step",h,q,k,a,c);(g.a.ha||g.a.G)&&g.a.Ec&&(k=this.b(g,Keywords.TA,"set initial playback to Reverse",h,q,k,a,c));k=this.b(g,Keywords.Gy,"always use hard reset",h,q,k,a,c);k=this.b(g,Keywords.at,"disable playback",h,q,k,a,c);k=this.b(g,Keywords.Hz,"disable step back",h,q,k,a,c);k=this.b(g,Keywords.Jz,"disable stop messages",h,q,
k,a,c);k=this.b(g,Keywords.Iz,"disable performance warning",h,q,k,a,c);k=this.b(g,Keywords.Mz,"disable playback throttling",h,q,k,a,c);k=this.b(g,Keywords.vy,"starting playback pauses others",h,q,k,a,c);k=this.b(g,Keywords.Uy,"ignore other pause requests",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Camera"];d+=1;k=this.b(g,"","Camera:",h,q,k,a,c);k=this.b(g,Keywords.Jl+" <0..359>","set camera angle",h,q,k,a,c);k=this.b(g,Keywords.mf+" <-"+(g.a.ga>>1)+".."+(g.a.ga>>1)+">","set camera x position",
h,q,k,a,c);k=this.b(g,Keywords.nf+" <-"+(g.a.ga>>1)+".."+(g.a.ga>>1)+">","set camera y position",h,q,k,a,c);k=this.b(g,Keywords.Qd+" <"+Number(-1/ViewConstants.ya).toFixed(1)+".."+ViewConstants.Ua.toFixed(1)+">","set camera zoom",h,q,k,a,c);k=this.b(g,Keywords.ox,"same as "+Keywords.Qd,h,q,k,a,c);k=this.b(g,Keywords.ot+" ("+Keywords.Rb+")","fit pattern to display",h,q,k,a,c);k=this.b(g,Keywords.Oy+" ("+Keywords.Rb+")","autofit uses pattern history",h,q,k,a,c);k=this.b(g,Keywords.sB+" ("+Keywords.Rb+
")","autofit only uses state 1",h,q,k,a,c);k=this.b(g,Keywords.Ts+" X Y","camera tracking",h,q,k,a,c);k=this.b(g," X ","horizontal speed cells/gen",h,q,k,a,c);k=this.b(g," Y ","vertical speed cells/gen",h,q,k,a,c);k=this.b(g,Keywords.Co+" E S W N","camera box tracking",h,q,k,a,c);k=this.b(g," E ","east edge speed cells/gen",h,q,k,a,c);k=this.b(g," S ","south edge speed cells/gen",h,q,k,a,c);k=this.b(g," W ","west edge speed cells/gen",h,q,k,a,c);k=this.b(g," N ","north edge speed cells/gen",h,q,k,
a,c);k=this.b(g,Keywords.Ss+" P X Y","camera tracking with loop",h,q,k,a,c);k=this.b(g," P ","period",h,q,k,a,c);k=this.b(g," X ","horizontal speed cells/gen",h,q,k,a,c);k=this.b(g," Y ","vertical speed cells/gen",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Waypoints"];d+=1;k=this.b(g,"","Waypoints:",h,q,k,a,c);k=this.b(g,Keywords.Gs+" <0..>","waypoint at generation",h,q,k,a,c);k=this.b(g,Keywords.pA+" <0.0..>","pause for time",h,q,k,a,c);k=this.b(g,Keywords.wh+" "+Keywords.lg+"|"+Keywords.mf+
"|"+Keywords.nf+"|"+Keywords.Qd,"linear motion",h,q,k,a,c);k=this.b(g,Keywords.Ki+" "+Keywords.lg+"|"+Keywords.mf+"|"+Keywords.nf+"|"+Keywords.Qd,"bezier motion (default)",h,q,k,a,c);k=this.b(g,Keywords.sG,"save timing at waypoint start",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"POIs"];d+=1;k=this.b(g,"","Points of interest:",h,q,k,a,c);k=this.b(g,Keywords.hv,"define point of interest",h,q,k,a,c);k=this.b(g,Keywords.gv+" <0..>","start POI at generation",h,q,k,a,c);k=this.b(g,Keywords.js,
"reset generation at POI",h,q,k,a,c);k=this.b(g,Keywords.Op,"start playback at POI",h,q,k,a,c);k=this.b(g,Keywords.Pp,"stop playback at POI",h,q,k,a,c);k=this.b(g,Keywords.ks+" <"+WaypointConstants.zF+".."+WaypointConstants.yF+">","set POI transition speed",h,q,k,a,c);k=this.b(g,"<command>|ALL "+Keywords.hc,"use initial value for POI",h,q,k,a,c);k=this.b(g,Keywords.od+"<string>"+Keywords.od,"define message",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Annotations"];d+=1;k=this.b(g,"","Annotations:",
h,q,k,a,c);k=this.b(g,Keywords.Dr+" X Y ZOOM","define label at position",h,q,k,a,c);k=this.b(g,"  (MAXZOOM) ("+Keywords.me+")","... zoom range and fixed position",h,q,k,a,c);k=this.b(g," "+Keywords.od+"<string>"+Keywords.od,"... label text",h,q,k,a,c);k=this.b(g,Keywords.fz+" <"+ViewConstants.GE+".."+ViewConstants.yE+">","define label font size",h,q,k,a,c);k=this.b(g,Keywords.dz+" <0.0..1.0>","define label font alpha",h,q,k,a,c);k=this.b(g,Keywords.gz+" <0..> <0..> <0..>","generation range / fade",
h,q,k,a,c);k=this.b(g,Keywords.ez+" <0..359>","label angle",h,q,k,a,c);k=this.b(g," ("+Keywords.me+")","... optionally fix angle",h,q,k,a,c);k=this.b(g,Keywords.hz+" X Y D|"+Keywords.Rb,"label target and distance",h,q,k,a,c);k=this.b(g,Keywords.iz+" DX DY|"+Keywords.me,"label move per generation",h,q,k,a,c);k=this.b(g,Keywords.wq+" X1 Y1 X2 Y2 ZOOM","define arrow at position",h,q,k,a,c);k=this.b(g," (MAXZOOM) ("+Keywords.me+")","... zoom range and fix position",h,q,k,a,c);k=this.b(g,Keywords.sx+" <"+
ViewConstants.Su+".."+ViewConstants.Mu+"> <0.0..1.0>","line width and head multiple",h,q,k,a,c);k=this.b(g,Keywords.qx+" <0.0..1.0>","define arrow alpha",h,q,k,a,c);k=this.b(g,Keywords.tx+" <0..> <0..> <0..>","generation range / fade",h,q,k,a,c);k=this.b(g,Keywords.rx+" <0..359>","arrow angle",h,q,k,a,c);k=this.b(g," ("+Keywords.me+")","... optionally fix angle",h,q,k,a,c);k=this.b(g,Keywords.ux+" X Y D|"+Keywords.Rb,"arrow target and distance",h,q,k,a,c);k=this.b(g,Keywords.vx+" DX DY|"+Keywords.me,
"arrow move per generation",h,q,k,a,c);k=this.b(g,Keywords.wA+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",h,q,k,a,c);k=this.b(g," (MAXZOOM) ("+Keywords.me+")","... zoom range and fix position",h,q,k,a,c);k=this.b(g,Keywords.jv+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",h,q,k,a,c);k=this.b(g," (MAXZOOM) ("+Keywords.me+")","... zoom range and fix position",h,q,k,a,c);k=this.b(g,Keywords.xA+" <"+ViewConstants.Su+".."+ViewConstants.Mu+">","line width",h,q,k,a,c);k=this.b(g,Keywords.uA+" <0.0..1.0>",
"define polygon alpha",h,q,k,a,c);k=this.b(g,Keywords.yA+" <0..> <0..> <0..>","generation range / fade",h,q,k,a,c);k=this.b(g,Keywords.vA+" <0..359>","polygon angle",h,q,k,a,c);k=this.b(g," ("+Keywords.me+")","... optionally fix angle",h,q,k,a,c);k=this.b(g,Keywords.zA+" X Y D|"+Keywords.Rb,"polygon target and distance",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Display"];d+=1;k=this.b(g,"","Display:",h,q,k,a,c);k=this.b(g,Keywords.rq+" <"+ViewConstants.Gc+".."+g.fk+">","set LifeViewer width",
h,q,k,a,c);k=this.b(g,Keywords.cp+" <"+ViewConstants.bj+".."+ViewConstants.Ou+">","set LifeViewer height",h,q,k,a,c);k=this.b(g,Keywords.ms+" <"+ViewConstants.Gc+".."+g.fk+">","set popup width",h,q,k,a,c);k=this.b(g,Keywords.ls+" <"+ViewConstants.bj+".."+ViewConstants.Ou+">","set popup height",h,q,k,a,c);k=this.b(g,Keywords.kq+" "+Keywords.od+"<string>"+Keywords.od,"set popup window title",h,q,k,a,c);k=this.b(g," "+Keywords.hg+"B","program build number",h,q,k,a,c);k=this.b(g," "+Keywords.hg+"N","pattern name",
h,q,k,a,c);k=this.b(g," "+Keywords.hg+"O","pattern originator",h,q,k,a,c);k=this.b(g," "+Keywords.hg+"R","rule name",h,q,k,a,c);k=this.b(g," "+Keywords.hg+"A","rule alias",h,q,k,a,c);k=this.b(g," "+Keywords.hg+"T","program title",h,q,k,a,c);k=this.b(g," "+Keywords.hg+"0..9","saved timing as average fps",h,q,k,a,c);k=this.b(g," "+Keywords.hg+Keywords.hg,Keywords.hg+" symbol",h,q,k,a,c);k=this.b(g,Keywords.Qn+" <"+ViewConstants.Ru+".."+ViewConstants.Lu+">","set number of layers",h,q,k,a,c);k=this.b(g,
Keywords.zn+" <"+ViewConstants.Qu.toFixed(1)+".."+ViewConstants.wE.toFixed(1)+">","set layer depth",h,q,k,a,c);k=this.b(g,Keywords.dr+" ("+Keywords.Rb+")","display gridlines",h,q,k,a,c);k=this.b(g,Keywords.cr+" <0..16>","set major grid line interval",h,q,k,a,c);k=this.b(g,Keywords.uu+" <0.."+(2<g.a.c?1:63)+">","number of history states",h,q,k,a,c);k=this.b(g,Keywords.Es+" ("+Keywords.Rb+")","display stars",h,q,k,a,c);k=this.b(g,Keywords.Iy,"hexagonal cells for hex",h,q,k,a,c);k=this.b(g,Keywords.oB,
"square cells for hex",h,q,k,a,c);k=this.b(g,Keywords.Bx,"display cell borders",h,q,k,a,c);k=this.b(g,Keywords.Gz,"disable menus and hotkeys",h,q,k,a,c);k=this.b(g,Keywords.Ny,"hide menus during playback",h,q,k,a,c);k=this.b(g,Keywords.mB,"show timing information",h,q,k,a,c);k=this.b(g,Keywords.wy,"extended timing information",h,q,k,a,c);k=this.b(g,Keywords.kB,"show generation statistics",h,q,k,a,c);k=this.b(g,Keywords.lB,"show information bar",h,q,k,a,c);k=this.b(g,Keywords.KF,"use rainbow colours",
h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Thumb"];d+=1;k=this.b(g,"","Thumbnails:",h,q,k,a,c);k=this.b(g,Keywords.NB+" ("+Keywords.Rb+")","start at 1/"+g.ye+" size",h,q,k,a,c);k=this.b(g,Keywords.IB+" <"+ViewConstants.KE+".."+ViewConstants.CE+">","set thumbnail divisor",h,q,k,a,c);k=this.b(g,Keywords.GB+" ("+Keywords.Rb+")","thumbnail launches viewer",h,q,k,a,c);k=this.b(g,Keywords.MB+" <"+Number(-1/ViewConstants.ya).toFixed(1)+".."+ViewConstants.Ua.toFixed(1)+">","set thumbnail zoom",
h,q,k,a,c);k=this.b(g,Keywords.KB,"start playback on thumbnail expand",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Graph"];d+=1;k=this.b(g,"","Population Graph:",h,q,k,a,c);k=this.b(g,Keywords.hu,"display population graph",h,q,k,a,c);k=this.b(g,Keywords.Dy+" <0.0..1.0>","population graph opacity",h,q,k,a,c);k=this.b(g,Keywords.Ey,"population graph use points",h,q,k,a,c);k=this.b(g,Keywords.Xu,"disable population graph",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Colours"];d+=1;k=
this.b(g,"","Colours:",h,q,k,a,c);k=this.b(g,Keywords.ql+" <0.."+(g.a.Je-1)+">|name","set theme",h,q,k,a,c);k=this.b(g," name = "+Keywords.jq,"set custom theme",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.cw+" R G B","set theme background",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.bw+" R G B","set theme alive color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.CB+" R G B","set theme alive ramp",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.ew+" R G B","set theme dead color",h,q,k,a,c);
k=this.b(g,Keywords.Ga+" "+Keywords.dw+" R G B","set theme dead ramp",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.EB+" R G B","set theme dying color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.DB+" R G B","set theme dying ramp",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.ZC+" R G B","set boundary color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" <0.."+String(g.fl-1)+"> R G B","set state color",h,q,k,a,c);g.a.Ia&&(k=this.b(g,Keywords.Ga+" "+Keywords.UE+" R G B","set [R]History state color "+ViewConstants.EK,
h,q,k,a,c),k=this.b(g,Keywords.Ga+" "+Keywords.VE+" R G B","set [R]History state color "+ViewConstants.FK,h,q,k,a,c),k=this.b(g,Keywords.Ga+" "+Keywords.$D+" R G B","set [R]History state color "+ViewConstants.QJ,h,q,k,a,c),k=this.b(g,Keywords.Ga+" "+Keywords.oE+" R G B","set [R]History state color "+ViewConstants.pE,h,q,k,a,c),k=this.b(g,Keywords.Ga+" "+Keywords.sE+" R G B","set [R]History state color "+ViewConstants.tE,h,q,k,a,c),k=this.b(g,Keywords.Ga+" "+Keywords.qE+" R G B","set [R]History state color "+
ViewConstants.rE,h,q,k,a,c),k=this.b(g,Keywords.Ga+" "+Keywords.hE+" R G B","set [R]History state color "+ViewConstants.iE,h,q,k,a,c));g.a.G&&(k=this.b(g,Keywords.Ga+" N*E*S*W* R G B","set PCA state color",h,q,k,a,c));k=this.b(g,Keywords.Ga+" "+Keywords.aD+" R G B","set bounded color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.fG+" R G B","set select color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.Jp+" R G B","set paste color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.OC+" R G B","set advance color",
h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.dr+" R G B","set grid color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.cr+" R G B","set grid major color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.Es+" R G B","set star color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.AB+" R G B","set waypoint message color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.uy+" R G B","set error message color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.QD+" R G B","set graph background color",h,q,k,
a,c);k=this.b(g,Keywords.Ga+" "+Keywords.PD+" R G B","set graph axis color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.OD+" R G B","set graph alive color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.RD+" R G B","set graph birth color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.SD+" R G B","set graph death color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.Dr+" R G B","set label text color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.wq+" R G B","set arrow line color",h,q,k,a,c);k=
this.b(g,Keywords.Ga+" "+Keywords.DF+" R G B","set polygon color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.yG+" R G B","set UI foreground color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.wG+" R G B","set UI background color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.zG+" R G B","set UI highlight text color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.CG+" R G B","set UI selected color",h,q,k,a,c);k=this.b(g,Keywords.Ga+" "+Keywords.AG+" R G B","set UI locked color",h,q,k,a,c);k=
this.b(g,Keywords.Ga+" "+Keywords.xG+" R G B","set UI border color",h,q,k,a,c);k=this.b(g,Keywords.Mx,"same as "+Keywords.Ga,h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Pattern"];d+=1;k=this.b(g,"","Pattern:",h,q,k,a,c);k=this.b(g,Keywords.tw+" <-"+(g.a.ga>>1)+".."+(g.a.ga>>1)+">","set pattern x offset",h,q,k,a,c);k=this.b(g,Keywords.vw+" <-"+(g.a.ga>>1)+".."+(g.a.ga>>1)+">","set pattern y offset",h,q,k,a,c);k=this.b(g,Keywords.jy+" <"+ViewConstants.EE+".."+ViewConstants.vE+">","set boundary delete range",
h,q,k,a,c);k=this.b(g,Keywords.Fz,"disable pattern source copy",h,q,k,a,c);k=this.b(g,Keywords.Lz,"hide pattern source",h,q,k,a,c);k=this.b(g,Keywords.uz+" <"+ViewConstants.FE+".."+ViewConstants.xE+">","set maximum grid size 2^n",h,q,k,a,c);k=this.b(g,Keywords.Up+" name X Y (<1..>)+","create a named recipe",h,q,k,a,c);k=this.b(g,Keywords.jo+" name rle","create a named rle",h,q,k,a,c);k=this.b(g," (X Y) (TRANS)","... X Y and transformation",h,q,k,a,c);k=this.b(g," "+Keywords.bC,"identity",h,q,k,a,
c);k=this.b(g," "+Keywords.ZB,"flip",h,q,k,a,c);k=this.b(g," "+Keywords.$B,"flip X",h,q,k,a,c);k=this.b(g," "+Keywords.aC,"flip Y",h,q,k,a,c);k=this.b(g," "+Keywords.eC,"swap X and Y",h,q,k,a,c);k=this.b(g," "+Keywords.fC,"swap X and Y and flip",h,q,k,a,c);k=this.b(g," "+Keywords.dC,"rotate clockwise",h,q,k,a,c);k=this.b(g," "+Keywords.cC,"rotate counter-clockwise",h,q,k,a,c);k=this.b(g,Keywords.Jp+" name|rle (X Y)","paste rle at optional X Y",h,q,k,a,c);k=this.b(g," (TRANS)","... optional transformation",
h,q,k,a,c);k=this.b(g,Keywords.Zr+" <0..>","set paste generation",h,q,k,a,c);k=this.b(g,"(recipe|<1..>+)*","... optional delta list",h,q,k,a,c);k=this.b(g,Keywords.Zr+" "+Keywords.Xq+" <1..>","set paste interval",h,q,k,a,c);k=this.b(g," (<0..> (<1..>))","... optional start and end",h,q,k,a,c);k=this.b(g,Keywords.Rz+" X Y","set position delta for "+Keywords.Zr+" "+Keywords.Xq,h,q,k,a,c);k=this.b(g,Keywords.gA+" <0..15>|mode","set paste mode",h,q,k,a,c);k=this.b(g," 0   0000  "+Keywords.mA,"",h,q,k,
a,c);k=this.b(g," 1   0001  "+Keywords.Zz,"",h,q,k,a,c);k=this.b(g," 2   0010  "+Keywords.Uz,"",h,q,k,a,c);k=this.b(g," 3   0011  "+Keywords.iA+"|"+Keywords.$z,"",h,q,k,a,c);k=this.b(g," 4   0100  "+Keywords.Vz,"",h,q,k,a,c);k=this.b(g," 5   0101  "+Keywords.lA,"",h,q,k,a,c);k=this.b(g," 6   0110  "+Keywords.kA,"",h,q,k,a,c);k=this.b(g," 7   0111  "+Keywords.fA,"",h,q,k,a,c);k=this.b(g," 8   1000  "+Keywords.bA,"",h,q,k,a,c);k=this.b(g," 9   1001  "+Keywords.hA,"",h,q,k,a,c);k=this.b(g," 10  1010  "+
Keywords.dA,"",h,q,k,a,c);k=this.b(g," 11  1011  "+Keywords.Wz,"",h,q,k,a,c);k=this.b(g," 12  1100  "+Keywords.cA,"",h,q,k,a,c);k=this.b(g," 13  1101  "+Keywords.Xz,"",h,q,k,a,c);k=this.b(g," 14  1110  "+Keywords.aA,"",h,q,k,a,c);k=this.b(g," 15  1111  "+Keywords.eA,"",h,q,k,a,c);k=this.b(g,Keywords.cz,"suppress escaping gliders",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[d]=[g.Y,"Randomize"];k=this.b(g,"","Randomize:",h,q,k,a,c);k=this.b(g,Keywords.LA,"create random pattern",h,q,k,a,c);k=this.b(g,
Keywords.IA+" <string>","set random seed",h,q,k,a,c);k=this.b(g,Keywords.KA+" <"+ViewConstants.JE+".."+ViewConstants.BE+">","set random pattern width",h,q,k,a,c);k=this.b(g,Keywords.FA+" <"+ViewConstants.IE+".."+ViewConstants.AE+">","set random pattern height",h,q,k,a,c);k=this.b(g,Keywords.EA+" <"+ViewConstants.Tu+".."+ViewConstants.Nu+">","set random pattern fill percentage",h,q,k,a,c);k=this.b(g,Keywords.rv+" "+Keywords.me,"keep rule fixed",h,q,k,a,c);g.a.ha||g.a.G?(k=this.b(g,Keywords.GA,"only generate reversible rules",
h,q,k,a,c),this.b(g,Keywords.JA,"only generate fixed population rules",h,q,k,a,c)):g.a.oa||-1!==g.a.Pd||(k=this.b(g,Keywords.rv+" <item> <0..100>","set percentage chance for <item>",h,q,k,a,c),k=this.b(g," "+Keywords.lg,"all conditions",h,q,k,a,c),k=this.b(g," "+Keywords.qv,"all birth conditions",h,q,k,a,c),k=this.b(g," "+Keywords.yv,"all survival conditions",h,q,k,a,c),k=this.b(g," "+Keywords.qv+"<0..n>","specified birth condition",h,q,k,a,c),this.b(g," "+Keywords.yv+"<0..n>","specified survival condition",
h,q,k,a,c))},rL:function(g,h,q,k,a,c){var d,f=Controller.xd.length;var n=g.Ee;var m=g.a.jb[g.a.yf];var r=0;var v=g.i.Ae;g.Y=1;g.Jg=!1;g.ea=[];g.$[0]=128;g.ea[r]=[g.Y,"Top"];r+=1;k=this.b(g,"","Information",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Display"];r+=1;k=this.b(g,"","Display:",h,q,k,a,c);k=this.b(g,"Size",g.F+" x "+g.D,h,q,k,a,c);k=this.b(g,"Scale",g.i.Ae.toFixed(2),h,q,k,a,c);k=this.b(g,"Pixel Ratio",g.devicePixelRatio.toFixed(2),h,q,k,a,c);k=this.b(g,"Window Zoom",g.lf.toFixed(2),
h,q,k,a,c);DocConfig.Jr&&(k=this.b(g,"Limit Width",g.fk,h,q,k,a,c));var x=g.a.ia;1>x&&(x=-1/x);k=this.b(g,"View","X "+-(g.a.width/2-(g.a.za+g.a.Vb)|0)+"  Y "+-(g.a.height/2-(g.a.sa+g.a.Sb)|0)+"  Z "+x.toFixed(2)+"  ANGLE "+g.a.angle.toFixed(0),h,q,k,a,c);x=g.Zp;1>x&&(x=1/x);k=this.b(g,"Saved View","X "+-(g.a.width/2-g.Le|0)+"  Y "+-(g.a.height/2-g.oj|0)+"  Z "+x.toFixed(2)+"  ANGLE "+g.aB.toFixed(0),h,q,k,a,c);k=this.b(g,"Origin","X "+g.a.Vb.toFixed(2)+"  Y "+g.a.Sb.toFixed(2)+"  Z "+g.a.sc.toFixed(3),
h,q,k,a,c);var u=g.Ma?g.fd?"Multi-State Viewer":"Viewer":g.a.Ia?"History Player":"Player";u=g.Hd?u+" (PopUp)":u+" (InLine)";k=this.b(g,"Type",u,h,q,k,a,c);u=g.a.O?"Hexagonal":g.a.P?"Triangular":"Square";k=this.b(g,"Mode",u,h,q,k,a,c);u=g.a.O&&g.a.be?"Hexagonal":g.a.P?"Triangular":"Square";k=this.b(g,"Cells",u,h,q,k,a,c);k=this.b(g,"Quality",g.a.Yg?"High":"Standard",h,q,k,a,c);g.rl&&(k=this.b(g,"Thumbnail","1/"+g.ye,h,q,k,a,c));k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Pattern"];r+=1;k=this.b(g,"",
"Pattern:",h,q,k,a,c);""!==g.Kp&&(k=this.b(g,"Name",g.Kp,h,q,k,a,c));""!==g.bs&&(k=this.b(g,"Originator",g.bs,h,q,k,a,c));k=this.b(g,"Actual Size",g.hb+" x "+g.lb,h,q,k,a,c);-1!==g.wk&&-1!==g.vk&&(k=this.b(g,"Specified",g.wk+" x "+g.vk,h,q,k,a,c));0<g.Cg.length&&(k=this.b(g,"Pastes",g.Cg.length,h,q,k,a,c),k=this.b(g,"Paste Size",g.Am-g.xm+1+" x "+(g.Bm-g.wm+1)+" from ("+g.xm+", "+g.wm+") to ("+g.Am+", "+g.Bm+")",h,q,k,a,c),k=this.b(g,"Paste Max T",g.$k+(g.bk?" + "+Keywords.Xq:""),h,q,k,a,c));0<g.kj.length&&
(k=this.b(g,"RLEs",g.kj.length,h,q,k,a,c));0<g.nk.length&&(k=this.b(g,"Recipes",g.nk.length,h,q,k,a,c));k=this.b(g,"Offset","X "+g.Gb+"  Y "+g.Hb,h,q,k,a,c);g.Rk&&(k=this.b(g,"CXRLE Gen",g.ci,h,q,k,a,c));g.Xg&&(k=this.b(g,"CXRLE Pos","X "+g.Em+"  Y "+g.Fm,h,q,k,a,c));g.AC&&(k=this.b(g,"Clipped",(0===g.a.wa?"Inf":g.a.wa)+" x "+(0===g.a.ta?"Inf":g.a.ta)+" "+g.v.$C(g.a.ua),h,q,k,a,c));g.va?u=g.ub:(u=g.ub,""===u&&(u="(none)"));if("MAP"===u.substr(0,3)&&u.length===g.v.nE+3)for(k=this.b(g,"Rule","MAP",
h,q,k,a,c),x=3;x<g.v.nE+3;)k=this.b(g,"  "+(x-3),u.substr(x,16),h,q,k,a,c),x+=16;else g.Jg=!0,k=this.b(g,"Rule",u,h,q,k,a,c),g.Jg=!1;""!==g.hd&&(k=this.b(g,"Alias",g.hd,h,q,k,a,c));g.a.ba&&(k=null===g.a.Md?this.b(g,"Type","@TREE",h,q,k,a,c):this.b(g,"Type","@TABLE ["+g.a.Eg+(0<g.a.jl?" / "+g.a.jl:"")+"]",h,q,k,a,c));if(g.a.ha)u="Margolus";else if(-1!==g.a.Pd)u="1D";else if(g.a.bv){u="Hexagonal";if(g.a.tg===g.v.ir||g.a.oa&&g.a.Qa.type===g.v.Lh)u="Tripod";g.a.oa&&g.a.Qa.type===g.v.nh&&(u="Asterisk");
1<g.a.Qa.Ph&&(u+=" range "+g.a.Qa.Ph)}else if(g.a.oa){switch(g.a.Qa.type){case g.v.Jd:u="Moore";break;case g.v.kf:u="von Neumann";break;case g.v.Wj:u="Circular";break;case g.v.Oi:u="Cross";break;case g.v.nj:u="Saltire";break;case g.v.sj:u="Star";break;case g.v.ck:u="L2";break;case g.v.fi:u="Hexagonal";break;case g.v.Li:u="Checkerboard";break;case g.v.Yi:u="Hash";break;case g.v.wn:u="Custom";break;case g.v.Lh:u="Tripod";break;case g.v.nh:u="Asterisk";break;case g.v.Kh:u="Triangular";break;case g.v.ai:u=
"Gaussian";break;case g.v.qq:u="Weighted"}1<g.a.Qa.Ph&&(u+=" range "+g.a.Qa.Ph)}else if(g.a.P)switch(u="Triangular",g.a.Od){case g.v.Eo:u+=" Edges";break;case g.v.Fo:u+=" Vertices";break;case g.v.nq:u+=" Inner";break;case g.v.oq:u+=" Outer"}else if(g.a.ba)if(null===g.a.Md)u=4===g.a.eg?"von Neumann":"Moore";else switch(g.a.mj){case PatternConstants.Yp:u="von Neumann";break;case PatternConstants.Wp:u="Moore";break;case PatternConstants.kl:u="Hexagonal";break;case PatternConstants.Xp:u="1D";break;default:u=
"unknown"}else u=g.a.ne||g.a.G?"von Neumann":"Moore";k=this.b(g,"N'hood",u,h,q,k,a,c);u=g.fl;2<g.fl&&g.cs!==g.fl&&(u=g.cs+" of "+u);k=this.b(g,"States",u,h,q,k,a,c);if(g.bo)for(d=1;d<g.fl;d+=1)g.bo[d]&&(k=this.b(g,"State "+d,g.bo[d],h,q,k,a,c));if(g.a.Ld)if(g.$[1]=200,g.$[2]=280,g.$[3]=360,g.$[4]=440,g.a.Ld[0].Dx!==PatternConstants.WA)k=this.b(g,"Icons",PatternConstants.PL[g.a.Ld[0].Dx],h,q,k,a,c);else for(k=this.b(g,"Icons","Size\tNumber\tColours\tGrayScale",h,q,k,a,c),d=0;d<g.a.Ld.length;d+=1)x=
g.a.Ld[d].width,u=x+"x"+x+"\t"+g.a.Ld[d].height/x+"\t"+g.a.Ld[d].RE+"\t"+(g.a.Ld[d].TD?"Yes":"No"),k=this.b(g,"  Set "+d,u,h,q,k,a,c);k=this.b(g,"Decoder",g.dj,h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Identify"];r+=1;k=this.b(g,"","Identify:",h,q,k,a,c);k=this.b(g,"Enabled",g.Xb?"Yes":"No",h,q,k,a,c);"none"!==g.yb&&"Empty"!==g.yb&&(k=this.b(g,"Type",g.yb,h,q,k,a,c),k=this.b(g,"Cells",g.qp,h,q,k,a,c),"Oscillator"!==g.yb||g.$f||(k=this.b(g,"ActiveCells",g.Du,h,q,k,a,c)),k=this.b(g,"BoundingBox",
g.Er,h,q,k,a,c),"Oscillator"===g.yb?(k=this.b(g,"Period",g.tp,h,q,k,a,c),g.$f||(k=this.b(g,"Mod",g.sp,h,q,k,a,c))):"Still Life"!==g.yb&&(k=this.b(g,"Direction",g.Fr,h,q,k,a,c),k=this.b(g,"Period",g.tp,h,q,k,a,c),g.$f||(k=this.b(g,"Mod",g.sp,h,q,k,a,c)),k=this.b(g,"Slope",g.Gr,h,q,k,a,c),k=this.b(g,"Speed",g.up,h,q,k,a,c)),"Still Life"!==g.yb&&(k=this.b(g,"Heat",g.rp,h,q,k,a,c)),"Oscillator"!==g.yb||g.$f||(k=this.b(g,"Temperature",g.Fu,h,q,k,a,c),k=this.b(g,"Volatility",g.Hr,h,q,k,a,c)),k=this.b(g,
"Generation",g.Eu,h,q,k,a,c));k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Grid"];r+=1;k=this.b(g,"","Grid:",h,q,k,a,c);k=this.b(g,"Size",g.a.width+" x "+g.a.height,h,q,k,a,c);k=this.b(g,"Maximum",g.a.ga+" x "+g.a.ga,h,q,k,a,c);k=this.b(g,"Area",this.QH(g),h,q,k,a,c);k=0!==(g.a.counter&1)?this.b(g,"Tiles",g.a.vo(g.a.ka)+" / "+g.a.vo(g.a.Da)+" / "+g.a.vo(g.a.xa),h,q,k,a,c):this.b(g,"Tiles",g.a.vo(g.a.ca)+" / "+g.a.vo(g.a.Da)+" / "+g.a.vo(g.a.xa),h,q,k,a,c);g.a.Hf&&(k=this.b(g,"State6",g.a.vo(g.a.Hf),
h,q,k,a,c));k=this.b(g,"Tile Size",(g.a.Ms<<3)+" x "+g.a.Ns,h,q,k,a,c);k=this.b(g,"Generation",g.a.counter,h,q,k,a,c);0!==g.ci&&(k=this.b(g,"AbsoluteGen",g.a.counter+g.ci,h,q,k,a,c));g.a.ha&&(k=this.b(g,"MargolusGen",g.a.Of+g.ci,h,q,k,a,c));g.a.G&&(k=this.b(g,"PCAGen",g.a.Of+g.ci,h,q,k,a,c));(g.a.ha||g.a.G)&&g.a.Ec&&(x=g.a.Xc,g.a.Yc&&(x=!x),k=this.b(g,"Direction",x?"Reverse":"Forward",h,q,k,a,c));k=this.b(g,"DeleteRange",g.a.ts,h,q,k,a,c);g.a.Mi&&(k=this.b(g,"KillGliders",g.a.Qr,h,q,k,a,c));k=this.b(g,
"","",h,q,k,a,c);-1!==g.a.ua&&(g.ea[r]=[g.Y,"Bounded"],r+=1,k=this.b(g,"","Bounded grid:",h,q,k,a,c),k=this.b(g,"Type",g.v.$C(g.a.ua),h,q,k,a,c),k=0===g.a.wa?this.b(g,"Width","Infinite",h,q,k,a,c):this.b(g,"Width",g.a.wa,h,q,k,a,c),4!==g.a.ua&&(k=0===g.a.ta?this.b(g,"Height","Infinite",h,q,k,a,c):this.b(g,"Height",g.a.ta,h,q,k,a,c),2===g.a.ua&&(k=g.a.st?this.b(g,"Twist","Horizontal",h,q,k,a,c):this.b(g,"Twist","Vertical",h,q,k,a,c)),0!==g.a.ln&&(k=this.b(g,"H'Shift",g.a.ln,h,q,k,a,c)),0!==g.a.mn&&
(k=this.b(g,"V'Shift",g.a.mn,h,q,k,a,c))),k=this.b(g,"","",h,q,k,a,c));g.ea[r]=[g.Y,"AutoFit"];r+=1;k=this.b(g,"","AutoFit:",h,q,k,a,c);k=this.b(g,"Enabled",g.uc?"On":"Off",h,q,k,a,c);k=this.b(g,"Mode",this.XH(g),h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Track"];r+=1;k=this.b(g,"","Track:",h,q,k,a,c);k=this.b(g,"Enabled",g.ae&&!g.jf?"On":"Off",h,q,k,a,c);g.ae&&(g.zo?(k=this.b(g,"Mode","Track Box",h,q,k,a,c),k=this.b(g,"Definition","E "+g.Zm.toFixed(3)+"  S "+g.$m.toFixed(3)+"  W "+g.Bo.toFixed(3)+
"  N "+g.Ao.toFixed(3),h,q,k,a,c)):(k=this.b(g,"Mode","Track",h,q,k,a,c),k=this.b(g,"Definition","X "+g.Zm.toFixed(3)+"  Y "+g.$m.toFixed(3),h,q,k,a,c)));k=this.b(g,"Current","E "+g.Ct.toFixed(3)+"  S "+g.Et.toFixed(3)+"  W "+g.Ft.toFixed(3)+"  N "+g.Dt.toFixed(3),h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Undo/Redo"];r+=1;k=this.b(g,"","Undo/Redo:",h,q,k,a,c);k=this.b(g,"Enabled",g.re?"Off":"On",h,q,k,a,c);if(!g.re)for(k=this.b(g,"Snapshots",g.a.Hg.RM()+"/"+g.a.Hg.Th.length,h,q,k,a,c),
k=this.b(g,"Buffer",(g.a.Hg.bufferSize()>>10)+"K",h,q,k,a,c),k=this.b(g,"Next Gen",g.a.Tn,h,q,k,a,c),k=this.b(g,"Undo",g.rc,h,q,k,a,c),k=this.b(g,"Redo",g.Vn-g.rc,h,q,k,a,c),d=0;9>=d;d+=1)null!==g.Ef[d]&&(k=this.b(g,"Clip "+d+(d===g.og?"*":""),g.Ef[d].width+" x "+g.Ef[d].height,h,q,k,a,c));k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Engine"];r+=1;k=this.b(g,"","Engine:",h,q,k,a,c);k=this.b(g,"Name",ViewConstants.HG,h,q,k,a,c);k=this.b(g,"Build",ViewConstants.ow,h,q,k,a,c);k=this.b(g,"Author",ViewConstants.GG,
h,q,k,a,c);k=this.b(g,"Decoders","RLE, Life 1.06, Life 1.05, Cells",h,q,k,a,c);k=this.b(g,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",h,q,k,a,c);k=this.b(g," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",h,q,k,a,c);k=this.b(g," ","Hash, Tripod, Asterisk, Custom (CoordCA)",h,q,k,a,c);k=this.b(g,"Rules","Wolfram, Totalistic, Generations, Margolus,",h,q,k,a,c);k=this.b(g," ","Isotropic Non-Totalistic (Hensel, Callahan),",h,q,k,a,c);k=this.b(g," ","Alternating, MAP, Larger than Life (LtL),",
h,q,k,a,c);k=this.b(g," ","Higher-range outer-totalistic (HROT), Gaussian,",h,q,k,a,c);k=this.b(g," ","Partitioned cellular automata (PCA), Weighted,",h,q,k,a,c);k=this.b(g," ","[R]History, [R]Super",h,q,k,a,c);k=this.b(g,"Repository","RuleTable (@TABLE, @TREE and @COLORS)",h,q,k,a,c);k=this.b(g,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",h,q,k,a,c);k=this.b(g,"Viewers",f,h,q,k,a,c);k=this.b(g,"Playing",Controller.YM(),h,q,k,a,c);if(DocConfig.La){x=Controller.se.length;k=this.b(g,"Universe",
"Multi ("+(g.$c+1)+" of "+x+")",h,q,k,a,c);g.Jg=!0;for(d=0;d<x;d+=1)k=this.b(g,String(d+1)+(d===g.$c?"*":""),Controller.se[d].name,h,q,k,a,c),k=this.b(g," ",Controller.se[d].JL,h,q,k,a,c),k=this.b(g," ",Controller.se[d].width+" x "+Controller.se[d].height,h,q,k,a,c);g.Jg=!1}else k=this.b(g,"Universe","Single",h,q,k,a,c);k=this.b(g,"Exclusive",g.eu?"Yes":"No",h,q,k,a,c);k=this.b(g,"IgnorePause",g.tr?"Yes":"No",h,q,k,a,c);k=this.b(g,"Endian",littleEndian?"Little":"Big",h,q,k,a,c);k=this.b(g,"ArrayFill",
arrayFill?"Yes":"No",h,q,k,a,c);k=this.b(g,"ArraySlice",arraySlice?"Yes":"No",h,q,k,a,c);k=this.b(g,"CopyWithin",copyWithin?"Yes":"No",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.$[1]=300;g.$[2]=380;g.$[3]=460;g.ea[r]=[g.Y,"Rule Cache"];r+=1;k=this.b(g,"","Rule Cache:",h,q,k,a,c);k=this.b(g,"Entries",RuleTreeCache.rules.length,h,q,k,a,c);if(0<RuleTreeCache.rules.length)for(k=this.b(g,"Entry","Name\tSize Kb\tFetch\tDecode",h,q,k,a,c),d=0;d<RuleTreeCache.rules.length;d+=1)u=RuleTreeCache.rules[d].name,
17<u.length&&(u=u.substr(0,17)+"*"),k=this.b(g,String(d),u+"\t"+(RuleTreeCache.Pu[d].size>>10)+"\t"+RuleTreeCache.Pu[d].fetch+"ms\t"+RuleTreeCache.Pu[d].decode+"ms",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.$[1]=210;g.$[2]=270;g.$[3]=330;if(g.fd)for(g.ea[r]=[g.Y,"Colours"],r+=1,k=this.b(g,"","Set:",h,q,k,a,c),k=this.b(g,"Name",g.Mo,h,q,k,a,c),k=this.b(g,"Used",g.cs,h,q,k,a,c),d=0;d<g.vn.length;d+=1)g.vn[d]!==ViewConstants.tB&&(f=this.jc(n[d]>>16&255,n[d]>>8&255,n[d]&255),u=String(d),g.vn[d]!==ViewConstants.lG||
g.it||(u+="*"),this.Wa(g,n[d]>>16,n[d]>>8&255,n[d]&255,h,q+g.$[0]*v,k,a,c),k=this.b(g,u,f,h,q,k,a,c));else{g.ea[r]=[g.Y,"Theme"];r+=1;k=this.b(g,"","Theme:",h,q,k,a,c);g.a.ba||g.a.M||(k=this.b(g,"Name",g.a.jb[g.a.yf].name,h,q,k,a,c),k=this.b(g,"History",g.L,h,q,k,a,c));this.Wa(g,g.a.Pa[0],g.a.Oa[0],g.a.Na[0],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Background",this.jc(g.a.Pa[0],g.a.Oa[0],g.a.Na[0]),h,q,k,a,c);if(g.a.Ja||g.a.ba)for(d=1;d<g.a.c;d+=1)this.Wa(g,g.a.Pa[d],g.a.Oa[d],g.a.Na[d],h,q+g.$[0]*v,k,a,c),
k=this.b(g,"State "+d,this.jc(g.a.Pa[d],g.a.Oa[d],g.a.Na[d]),h,q,k,a,c);else if(g.a.G){for(d=1;16>d;d+=1)n=d+g.L,this.Wa(g,g.a.Pa[n],g.a.Oa[n],g.a.Na[n],h,q+g.$[0]*v,k,a,c),u="",d&1&&(u+="N"),d&2&&(u+="E"),d&4&&(u+="S"),d&8&&(u+="W"),k=this.b(g,u,this.jc(g.a.Pa[n],g.a.Oa[n],g.a.Na[n]),h,q,k,a,c);0<g.L&&(n=g.L,this.Wa(g,g.a.Pa[n],g.a.Oa[n],g.a.Na[n],h,q+g.$[0]*v,k,a,c),k=this.b(g,"Dead",this.jc(g.a.Pa[n],g.a.Oa[n],g.a.Na[n]),h,q,k,a,c),1<g.L&&(n=1,this.Wa(g,g.a.Pa[n],g.a.Oa[n],g.a.Na[n],h,q+g.$[0]*
v,k,a,c),k=this.b(g,"DeadRamp",this.jc(g.a.Pa[n],g.a.Oa[n],g.a.Na[n]),h,q,k,a,c)))}else if(2<g.a.c)if(g.a.M)for(d=1;d<g.a.c;d+=1)this.Wa(g,g.a.Pa[d],g.a.Oa[d],g.a.Na[d],h,q+g.$[0]*v,k,a,c),k=this.b(g,this.vM(d),this.jc(g.a.Pa[d],g.a.Oa[d],g.a.Na[d]),h,q,k,a,c);else{n=g.a.c+g.L-1;this.Wa(g,g.a.Pa[n],g.a.Oa[n],g.a.Na[n],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Alive",this.jc(g.a.Pa[n],g.a.Oa[n],g.a.Na[n]),h,q,k,a,c);for(d=1;d<g.a.c-1;d+=1)n=g.a.c-d+g.L-1,this.Wa(g,g.a.Pa[n],g.a.Oa[n],g.a.Na[n],h,q+g.$[0]*v,
k,a,c),k=this.b(g,"Dying "+d,this.jc(g.a.Pa[n],g.a.Oa[n],g.a.Na[n]),h,q,k,a,c);0<g.L&&(n=g.L,this.Wa(g,g.a.Pa[n],g.a.Oa[n],g.a.Na[n],h,q+g.$[0]*v,k,a,c),k=this.b(g,"Dead",this.jc(g.a.Pa[n],g.a.Oa[n],g.a.Na[n]),h,q,k,a,c),1<g.L&&(n=1,this.Wa(g,g.a.Pa[n],g.a.Oa[n],g.a.Na[n],h,q+g.$[0]*v,k,a,c),k=this.b(g,"DeadRamp",this.jc(g.a.Pa[n],g.a.Oa[n],g.a.Na[n]),h,q,k,a,c)))}else this.Wa(g,m.qb.V.red,m.qb.V.green,m.qb.V.blue,h,q+g.$[0]*v,k,a,c),k=this.b(g,"Alive",this.cg(m.qb.V),h,q,k,a,c),m.qb.V.red!==m.qb.W.red||
m.qb.V.green!==m.qb.W.green||m.qb.V.blue!==m.qb.W.blue?(this.Wa(g,m.qb.W.red,m.qb.W.green,m.qb.W.blue,h,q+g.$[0]*v,k,a,c),k=this.b(g,"AliveRamp",this.cg(m.qb.W),h,q,k,a,c)):k=this.b(g,"AliveRamp","    (none)",h,q,k,a,c),0<g.L&&(this.Wa(g,m.gb.W.red,m.gb.W.green,m.gb.W.blue,h,q+g.$[0]*v,k,a,c),k=this.b(g,"Dead",this.cg(m.gb.W),h,q,k,a,c),1<g.L&&(m.gb.V.red!==m.gb.W.red||m.gb.V.green!==m.gb.W.green||m.gb.V.blue!==m.gb.W.blue?(this.Wa(g,m.gb.V.red,m.gb.V.green,m.gb.V.blue,h,q+g.$[0]*v,k,a,c),k=this.b(g,
"DeadRamp",this.cg(m.gb.V),h,q,k,a,c)):k=this.b(g,"DeadRamp","    (none)",h,q,k,a,c)));if(g.a.Ia)for(d=3;6>=d;d+=1)x=128+ViewConstants.Sa[d],f=this.jc(g.a.Pa[x],g.a.Oa[x],g.a.Na[x]),u=ViewConstants.kG[d],this.Wa(g,g.a.Pa[x],g.a.Oa[x],g.a.Na[x],h,q+g.$[0]*v,k,a,c),k=this.b(g,u,f,h,q,k,a,c)}-1!==g.a.fc&&(this.Wa(g,g.Vl[0],g.Vl[1],g.Vl[2],h,q+g.$[0]*v,k,a,c),k=this.b(g,"Bounded",this.jc(g.Vl[0],g.Vl[1],g.Vl[2]),h,q,k,a,c));this.Wa(g,g.Ul[0],g.Ul[1],g.Ul[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Boundary",this.jc(g.Ul[0],
g.Ul[1],g.Ul[2]),h,q,k,a,c);g.rh&&(this.Wa(g,g.rh[0],g.rh[1],g.rh[2],h,q+g.$[0]*v,k,a,c),k=this.b(g,"Text",this.jc(g.rh[0],g.rh[1],g.rh[2]),h,q,k,a,c));g.Lk&&(this.Wa(g,g.Lk[0],g.Lk[1],g.Lk[2],h,q+g.$[0]*v,k,a,c),k=this.b(g,"Error",this.jc(g.Lk[0],g.Lk[1],g.Lk[2]),h,q,k,a,c));this.Wa(g,g.Xl[0],g.Xl[1],g.Xl[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Select",this.jc(g.Xl[0],g.Xl[1],g.Xl[2]),h,q,k,a,c);this.Wa(g,g.Wl[0],g.Wl[1],g.Wl[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Paste",this.jc(g.Wl[0],g.Wl[1],g.Wl[2]),
h,q,k,a,c);this.Wa(g,g.Tl[0],g.Tl[1],g.Tl[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Advance",this.jc(g.Tl[0],g.Tl[1],g.Tl[2]),h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Gridlines"];r+=1;k=this.b(g,"","Gridlines:",h,q,k,a,c);u=g.a.ac?"On":"Off";g.a.ac&&!g.a.oh()&&(u+=" (Hidden)");k=this.b(g,"Enabled",u,h,q,k,a,c);this.Wa(g,g.a.Fd>>16,g.a.Fd>>8&255,g.a.Fd&255,h,q+g.$[0]*v,k,a,c);k=this.b(g,"Line Color",this.jc(g.a.Fd>>16,g.a.Fd>>8&255,g.a.Fd&255),h,q,k,a,c);this.Wa(g,g.a.Xf>>16,g.a.Xf>>8&255,g.a.Xf&
255,h,q+g.$[0]*v,k,a,c);k=this.b(g,"Major Color",this.jc(g.a.Xf>>16,g.a.Xf>>8&255,g.a.Xf&255),h,q,k,a,c);u=0<g.a.Bf&&g.a.Uk?String(g.a.Bf):"Off";k=this.b(g,"Interval",u,h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Graph"];r+=1;k=this.b(g,"","Population Graph:",h,q,k,a,c);k=this.b(g,"Enabled",g.Wc?"On":"Off",h,q,k,a,c);k=this.b(g,"Disabled",g.Kc?"On":"Off",h,q,k,a,c);k=this.b(g,"Mode",g.Wg?"Lines":"Points",h,q,k,a,c);k=this.b(g,"Opacity",g.nd.toFixed(2),h,q,k,a,c);this.Wa(g,g.a.Vi[0],g.a.Vi[1],
g.a.Vi[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Bg Color",this.jc(g.a.Vi[0],g.a.Vi[1],g.a.Vi[2]),h,q,k,a,c);this.Wa(g,g.a.Ui[0],g.a.Ui[1],g.a.Ui[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Axis Color",this.jc(g.a.Ui[0],g.a.Ui[1],g.a.Ui[2]),h,q,k,a,c);this.Wa(g,g.a.Ti[0],g.a.Ti[1],g.a.Ti[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Alive Color",this.jc(g.a.Ti[0],g.a.Ti[1],g.a.Ti[2]),h,q,k,a,c);this.Wa(g,g.a.Wi[0],g.a.Wi[1],g.a.Wi[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Birth Color",this.jc(g.a.Wi[0],g.a.Wi[1],g.a.Wi[2]),h,q,k,
a,c);this.Wa(g,g.a.Xi[0],g.a.Xi[1],g.a.Xi[2],h,q+g.$[0]*v,k,a,c);k=this.b(g,"Death Color",this.jc(g.a.Xi[0],g.a.Xi[1],g.a.Xi[2]),h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Randomize"];r+=1;k=this.b(g,"","Randomize:",h,q,k,a,c);k=this.b(g,"Pattern",g.Cv?"On":"Off",h,q,k,a,c);k=this.b(g,"Custom Seed",g.HA?"On":"Off",h,q,k,a,c);k=this.b(g,"Seed",g.zv,h,q,k,a,c);k=this.b(g,"Width",g.Bv,h,q,k,a,c);k=this.b(g,"Height",g.vv,h,q,k,a,c);k=this.b(g,"Fill",g.tv+"%",h,q,k,a,c);k=this.b(g,"Rule Fixed",
g.rs?"Yes":"No",h,q,k,a,c);if(!g.rs)if(g.a.ha||g.a.G)k=this.b(g,"Reversible",g.xv?"Only":"Any",h,q,k,a,c),k=this.b(g,"FixedPop",g.Av?"Yes":"No",h,q,k,a,c);else if(!g.a.oa&&-1===g.a.Pd){if(-1===g.hl&&-1===g.Hm){k=this.b(g,"Chance ALL"+(-1===g.gl?"*":""),-1===g.gl?"50%":g.gl+"%",h,q,k,a,c);x=!1;for(d=0;d<g.Fh.length;d+=2)0===g.Fh[d]&&(x=!0);x||(k=this.b(g,"Chance B0*","25%",h,q,k,a,c))}else k=this.b(g,"Chance B"+(-1===g.hl?"*":""),-1===g.hl?"50%":g.hl+"%",h,q,k,a,c),k=this.b(g,"Chance S"+(-1===g.Hm?
"*":""),-1===g.Hm?"50%":g.Hm+"%",h,q,k,a,c);for(d=0;d<g.Fh.length;d+=2)k=this.b(g,"Chance B"+g.Fh[d],g.Fh[d+1]+"%",h,q,k,a,c);for(d=0;d<g.hj.length;d+=2)k=this.b(g,"Chance S"+g.hj[d],g.hj[d+1]+"%",h,q,k,a,c)}k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Stars"];r+=1;k=this.b(g,"","Stars:",h,q,k,a,c);k=this.b(g,"Enabled",g.ti?"On":"Off",h,q,k,a,c);this.Wa(g,g.ol.red,g.ol.green,g.ol.blue,h,q+g.$[0]*v,k,a,c);k=this.b(g,"Color",this.cg(g.ol),h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[r]=[g.Y,"Script"];r+=
1;k=this.b(g,"","Script:",h,q,k,a,c);k=this.b(g,"Commands",g.Wn,h,q,k,a,c);k=this.b(g,"Errors",g.Oz,h,q,k,a,c);if(g.Qc)for(k=this.b(g,"","",h,q,k,a,c),g.ea[r]=[g.Y,"Waypoints"],r+=1,k=this.b(g,"","Waypoints:",h,q,k,a,c),k=this.b(g,"Enabled",g.ze?"Off":"On",h,q,k,a,c),k=this.b(g,"Number",g.T.Ta.length,h,q,k,a,c),d=0;d<g.T.Ta.length;d+=1)u=String(d),d===g.T.xk&&(u=g.T.WC(g.elapsedTime)?u+">":u+"*"),k=this.b(g,u,g.T.ZM(d),h,q,k,a,c);if(g.T.qc.length)for(k=this.b(g,"","",h,q,k,a,c),g.ea[r]=[g.Y,"POIs"],
k=this.b(g,"","Points of interest:",h,q,k,a,c),k=this.b(g,"Number",g.T.qc.length,h,q,k,a,c),d=0;d<g.T.qc.length;d+=1)u=String(d+1),d===g.Mg&&(u+="*"),d===g.xn&&(u+=" INITIAL"),x=!1,r=g.T.OK(d),""!==r&&(k=this.b(g,x?" ":u,(x?"  ":"")+r,h,q,k,a,c),x=!0),r=g.T.SK(d),""!==r&&(k=this.b(g,x?" ":u,(x?"  ":"")+r,h,q,k,a,c),x=!0),r=g.T.PK(d),""!==r&&(k=this.b(g,x?" ":u,(x?"  ":"")+r,h,q,k,a,c),x=!0),r=g.T.xF(d),""!==r&&(k=this.b(g,x?" ":u,(x?"  ":"")+r,h,q,k,a,c),x=!0),r=g.T.RK(d),""!==r&&(k=this.b(g,x?" ":
u,(x?"  ":"")+r,h,q,k,a,c),x=!0),r=g.T.QK(d),""!==r&&(k=this.b(g,x?" ":u,(x?"  ":"")+r,h,q,k,a,c))},vL:function(g,h,q,k,a,c){var d,f=0,n=g.i.Ae;g.Y=1;g.Jg=!1;g.ea=[];g.$[0]=130;g.$[1]=200;g.$[2]=250;g.$[3]=300;g.ea[f]=[g.Y,"Top"];f+=1;k=this.b(g,"","Themes",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);k=this.b(g,"","Themes are used to provide a visual representation of",h,q,k,a,c);k=this.b(g,"","cell history and longevity and also define grid colours",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,
"Grid"];f+=1;k=this.b(g,"","Grid:",h,q,k,a,c);k=this.b(g,"GRID","grid line colour",h,q,k,a,c);k=this.b(g,"GRIDMAJOR","major grid line colour and interval",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"2-State"];f+=1;k=this.b(g,"","Two-state Themes:",h,q,k,a,c);k=this.b(g,"BACKGROUND","cell never occupied",h,q,k,a,c);k=this.b(g,"ALIVE","cell just born",h,q,k,a,c);k=this.b(g,"ALIVERAMP","cell alive for several generations",h,q,k,a,c);k=this.b(g,"DEAD","cell just died",h,q,k,a,c);k=this.b(g,"DEADRAMP",
"cell dead for several generations",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);k=this.b(g,"",LifeConstants.ie-LifeConstants.vb+1+" states from ALIVE to ALIVERAMP",h,q,k,a,c);k=this.b(g,"",g.L+" (HISTORYSTATES) states from DEAD to DEADRAMP",h,q,k,a,c);for(d=0;d<g.a.jb.length-1;d+=1){k=this.b(g,"","",h,q,k,a,c);var m=g.a.jb[d];k=this.b(g,"Name"+(d===g.a.yf&&2>=g.a.c?"*":""),m.name,h,q,k,a,c);this.Wa(g,m.ab.red,m.ab.green,m.ab.blue,h,q+g.$[0]*n,k,a,c);k=this.b(g,"BACKGROUND",this.cg(m.ab),h,q,k,a,c);this.Wa(g,
m.qb.V.red,m.qb.V.green,m.qb.V.blue,h,q+g.$[0]*n,k,a,c);k=this.b(g,"ALIVE",this.cg(m.qb.V),h,q,k,a,c);if(m.qb.V.red!==m.qb.W.red||m.qb.V.green!==m.qb.W.green||m.qb.V.blue!==m.qb.W.blue)this.Wa(g,m.qb.W.red,m.qb.W.green,m.qb.W.blue,h,q+g.$[0]*n,k,a,c),k=this.b(g,"ALIVERAMP",this.cg(m.qb.W),h,q,k,a,c);this.Wa(g,m.gb.W.red,m.gb.W.green,m.gb.W.blue,h,q+g.$[0]*n,k,a,c);k=this.b(g,"DEAD",this.cg(m.gb.W),h,q,k,a,c);if(m.gb.V.red!==m.gb.W.red||m.gb.V.green!==m.gb.W.green||m.gb.V.blue!==m.gb.W.blue)this.Wa(g,
m.gb.V.red,m.gb.V.green,m.gb.V.blue,h,q+g.$[0]*n,k,a,c),k=this.b(g,"DEADRAMP",this.cg(m.gb.V),h,q,k,a,c);m.Tk&&(this.Wa(g,m.uh>>16,m.uh>>8&255,m.uh&255,h,q+g.$[0]*n,k,a,c),k=this.b(g,"GRID",this.jc(m.uh>>16,m.uh>>8&255,m.uh&255),h,q,k,a,c),this.Wa(g,m.vh>>16,m.vh>>8&255,m.vh&255,h,q+g.$[0]*n,k,a,c),k=this.b(g,"GRIDMAJOR",this.jc(m.vh>>16,m.vh>>8&255,m.vh&255),h,q,k,a,c),k=this.b(g,"GRIDMAJOR",m.Jn,h,q,k,a,c))}k=this.b(g,"","",h,q,k,a,c);g.ea[f]=[g.Y,"Multi"];k=this.b(g,"","Multi-state Themes:",h,
q,k,a,c);k=this.b(g,"BACKGROUND","cell never occupied",h,q,k,a,c);k=this.b(g,"ALIVE","cell alive",h,q,k,a,c);k=this.b(g,"DYING","cell just starting dying",h,q,k,a,c);k=this.b(g,"DYINGRAMP","cell about to die",h,q,k,a,c);k=this.b(g,"DEAD","cell just died",h,q,k,a,c);k=this.b(g,"DEADRAMP","cell dead for several generations",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);k=this.b(g,"","Rule defines "+(2>g.a.c?"":String(g.a.c-1)+" ")+"states from DYING to DYINGRAMP",h,q,k,a,c);k=this.b(g,"",g.L+" (HISTORYSTATES) states from DEAD to DEADRAMP",
h,q,k,a,c);for(d=0;d<g.a.jb.length-1;d+=1){k=this.b(g,"","",h,q,k,a,c);m=g.a.jb[d];k=this.b(g,"Name"+(d===g.a.yf&&2<g.a.c?"*":""),m.name,h,q,k,a,c);this.Wa(g,m.Ci.red,m.Ci.green,m.Ci.blue,h,q+g.$[0]*n,k,a,c);k=this.b(g,"BACKGROUND",this.cg(m.Ci),h,q,k,a,c);this.Wa(g,m.kg.red,m.kg.green,m.kg.blue,h,q+g.$[0]*n,k,a,c);k=this.b(g,"ALIVE",this.cg(m.kg),h,q,k,a,c);this.Wa(g,m.Ub.W.red,m.Ub.W.green,m.Ub.W.blue,h,q+g.$[0]*n,k,a,c);k=this.b(g,"DYING",this.cg(m.Ub.W),h,q,k,a,c);if(m.Ub.V.red!==m.Ub.W.red||
m.Ub.V.green!==m.Ub.W.green||m.Ub.V.blue!==m.Ub.W.blue)this.Wa(g,m.Ub.V.red,m.Ub.V.green,m.Ub.V.blue,h,q+g.$[0]*n,k,a,c),k=this.b(g,"DYINGRAMP",this.cg(m.Ub.V),h,q,k,a,c);this.Wa(g,m.Dc.W.red,m.Dc.W.green,m.Dc.W.blue,h,q+g.$[0]*n,k,a,c);k=this.b(g,"DEAD",this.cg(m.Dc.W),h,q,k,a,c);if(m.Dc.V.red!==m.Dc.W.red||m.Dc.V.green!==m.Dc.W.green||m.Dc.V.blue!==m.Dc.W.blue)this.Wa(g,m.Dc.V.red,m.Dc.V.green,m.Dc.V.blue,h,q+g.$[0]*n,k,a,c),k=this.b(g,"DEADRAMP",this.cg(m.Dc.V),h,q,k,a,c)}},nL:function(g,h,q,k,
a,c){var d,f=ColourManager.Ee,n=Object.keys(f),m=g.i.Ae;g.Y=1;g.Jg=!1;g.ea=[];g.$[0]=260;g.$[1]=330;g.$[2]=380;g.$[3]=g.F;g.ea[0]=[g.Y,"Top"];k=this.b(g,"","Colours",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);k=this.b(g,"","The following names can be used in place of R G B",h,q,k,a,c);k=this.b(g,"","for example [[ COLOUR ALIVE Green ]]",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);for(d=0;d<n.length;d+=1){var r=f[n[d]];this.Wa(g,r[1],r[2],r[3],h,q+g.$[0]*m,k,a,c);k=this.b(g,r[0],this.jc(r[1],r[2],r[3]),h,q,
k,a,c)}},lL:function(g,h,q,k,a,c){var d,f=0,n=AliasManager.Bc,m=AliasManager.eB;g.Y=1;g.Jg=!1;g.ea=[];g.$[0]=260;g.ea[f]=[g.Y,"Top"];f+=1;k=this.b(g,"","Aliases",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);k=this.b(g,"","Alias names can be used as rule names in RLE",h,q,k,a,c);k=this.b(g,"","for example 'rule = HighLife'",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);k=this.b(g,"","* denotes duplicate definition",h,q,k,a,c);k=this.b(g,"","+ denotes duplicate alias name",h,q,k,a,c);g.Jg=!0;for(d=0;d<n.length;d+=
1)""===n[d][1]?(k=this.b(g,"","",h,q,k,a,c),g.ea[f]=[g.Y,m[f-1]],f+=1,k=this.b(g,"",n[d][0]+" Aliases:",h,q,k,a,c)):""!==n[d][0]&&(k=this.b(g,n[d][0]+" "+(n[d][2]?"*":"")+(n[d][3]?"+":""),n[d][1],h,q,k,a,c))},tL:function(g,h,q,k,a,c){var d,f=0,n=Controller.xd.length,m=0,r=0,v=0,x=0,u;g.Y=1;g.Jg=!1;g.ea=[];g.$[0]=128;g.$[1]=200;g.$[2]=290;g.$[3]=530;g.ea[f]=[g.Y,"Top"];f+=1;k=this.b(g,"","Memory usage",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c);if(1<n){g.ea[f]=[g.Y,"All"];f+=1;k=this.b(g,"","Memory (all "+
n+" LifeViewers):",h,q,k,a,c);for(d=0;d<n;d+=1)if(u=Controller.BJ(d))m+=u.a.l.Pr,v+=u.a.l.xo>>10,r+=u.a.l.Rr,x+=u.a.l.yo>>10;k=this.b(g,"In Use",m-r+"\t"+((v>>10)-(x>>10))+"M",h,q,k,a,c);k=this.b(g,"Allocations",m+"\t"+(v>>10)+"M",h,q,k,a,c);k=this.b(g,"Frees",r+"\t"+(x>>10)+"M",h,q,k,a,c);k=this.b(g,"","",h,q,k,a,c)}g.ea[f]=[g.Y,"Current"];k=this.b(g,"","Memory (this LifeViewer):",h,q,k,a,c);k=this.b(g,"In Use",g.a.l.Pr-g.a.l.Rr+"\t"+this.wx(g.a.l.xo-g.a.l.yo)+"M\t"+(g.a.l.xo-g.a.l.yo),h,q,k,a,c);
k=this.b(g,"Allocations",g.a.l.Pr+"\t"+this.wx(g.a.l.xo)+"M\t"+g.a.l.xo,h,q,k,a,c);k=this.b(g,"Frees",g.a.l.Rr+"\t"+this.wx(g.a.l.yo)+"M\t"+g.a.l.yo,h,q,k,a,c);k=this.b(g,this.XE("Bytes",10),"Type\tElements\tName\tCount",h,q,k,a,c);for(d=0;d<g.a.l.lh.length;d+=1)k=this.b(g,this.XE(String(g.a.l.lh[d].size),10),g.a.l.NH(d),h,q,k,a,c);this.b(g,"","",h,q,k,a,c)},au:function(g){var h=g.yc,q=g.i.Ae,k=g.i.jh,a=19*k;g.gd=(g.D/a|0)-6;h.fillStyle="black";h.globalAlpha=.5;h.fillRect(0,0,h.canvas.width,h.canvas.height);
h.globalAlpha=1;h.fillStyle=ViewConstants.hr;this.ml=2;this.NF(g,h,6*q,14*k,a,g.ja|0);h.fillStyle=ViewConstants.fp;this.ml=0;this.NF(g,h,6*q,14*k,a,g.ja|0)},oL:function(g,h,q,k,a,c,d,f,n,m){var r=f,v=g.i.Ae,x=this.ml*v,u=this.ml*g.i.Ae,t=0,B=!1,b=g.Y;c.fillStyle===ViewConstants.hr&&(B=!0);b>=m&&b<=m+g.gd&&(c.font=g.ep,B||(c.fillStyle=1<(g.dc|0)?g.Si:ViewConstants.iu),c.fillText(h,d+x,f+u),B||(c.fillStyle=g.Si),c.fillText(q,d+x+c.measureText(h).width,f+u),B||(c.fillStyle=(g.dc|0)<g.jd.length-g.gd+
1?g.Si:ViewConstants.iu),c.fillText(k,d+x+c.measureText(h+q).width,f+u),g.$[0]&&(t=g.$[0]*v),B||(c.fillStyle=g.Si),c.font=g.hm,c.fillText(a,d+x+t,f+u),r+=n);return r},Hv:function(g,h,q,k,a,c,d,f){var n=c,m=g.i.Ae,r=0,v=g.Y;v>=f&&v<=f+g.gd&&(h.length&&(k.font=g.ep,k.fillText(h,a,c),r=k.measureText(h+" ").width),g.$[0]&&(r=g.$[0]*m),k.font=g.hm,k.fillText(q,a+r,c),n+=d);g.Y+=1;return n},MF:function(g,h,q,k,a,c){var d,f=g.jd,n=k;g.Y=1;g.$[0]=0;h.font=g.hm;k=this.Hv(g,"",ViewConstants.XL,h,q,k,a,c);for(d=
0;d<f.length;d+=1)k=this.Hv(g,f[d][0],f[d][1],h,q,k,a,c);g.mb||(g.$[0]=120,g.Y=1,k=n+a*(g.gd+2),k=this.oL(g,"Up"," / ","Down","scroll errors",h,q,k,a,0),k=this.Hv(g,"Esc","clear messages",h,q,k,a,0),this.Hv(g,"H  ","help on script commands",h,q,k,a,0))},oy:function(g){var h=g.yc,q=g.i.Ae,k=g.i.jh,a=19*k,c=7;g.mb&&(c=1);g.gd=(g.D/a|0)-c;h.fillStyle="black";h.globalAlpha=.5;h.fillRect(0,0,h.canvas.width,h.canvas.height);h.globalAlpha=1;h.fillStyle=ViewConstants.hr;this.MF(g,h,6*q,14*k,a,g.dc|0);h.fillStyle=
g.Si;this.MF(g,h,4*q,12*k,a,g.dc|0)}};window.Help=w}(),window.Keywords={od:'"',lo:"[[",$p:"]]",JF:"QUALITY",sG:"TIME",wB:"SUPPRESS",gv:"POIT",hc:"INITIAL",Rb:"OFF",sB:"STATE1FIT",js:"POIRESET",Op:"POIPLAY",Pp:"POISTOP",ks:"POITRANS",Gy:"HARDRESET",Ts:"TRACK",Co:"TRACKBOX",Ss:"TRACKLOOP",Jz:"NOREPORT",hu:"GRAPH",Xu:"NOGRAPH",Dy:"GRAPHOPACITY",Ey:"GRAPHPOINTS",Iz:"NOPERFWARNING",Ny:"AUTOHIDEGUI",lg:"ALL",wh:"LINEAR",Ki:"BEZIER",dN:"HEXDISPLAY",mN:"SQUAREDISPLAY",Iy:"HEXCELLS",oB:"SQUARECELLS",Bx:"CELLBORDERS",
dE:"INTEGERZOOM",LA:"RANDOMIZE",IA:"RANDSEED",KA:"RANDWIDTH",FA:"RANDHEIGHT",EA:"RANDFILL",GA:"RANDREVERSIBLE",JA:"RANDFIXEDPOP",rv:"RANDCHANCE",qv:"B",yv:"S",jy:"DELETERANGE",mB:"SHOWTIMING",wy:"EXTENDEDTIMING",kB:"SHOWGENSTATS",lB:"SHOWINFOBAR",Lz:"NOSOURCE",hv:"POI",kq:"TITLE",DF:"POLY",jv:"POLYFILL",wA:"POLYLINE",uA:"POLYALPHA",xA:"POLYSIZE",yA:"POLYT",vA:"POLYANGLE",zA:"POLYTARGET",CF:"POLYTRACK",wq:"ARROW",qx:"ARROWALPHA",sx:"ARROWSIZE",tx:"ARROWT",rx:"ARROWANGLE",ux:"ARROWTARGET",vx:"ARROWTRACK",
Dr:"LABEL",dz:"LABELALPHA",fz:"LABELSIZE",gz:"LABELT",ez:"LABELANGLE",hz:"LABELTARGET",iz:"LABELTRACK",me:"FIXED",uz:"MAXGRIDSIZE",Es:"STARS",jq:"CUSTOM",tw:"XOFFSET",vw:"YOFFSET",cw:"BACKGROUND",bw:"ALIVE",CB:"ALIVERAMP",ew:"DEAD",dw:"DEADRAMP",EB:"DYING",DB:"DYINGRAMP",yG:"UIFOREGROUND",rN:"UIFOREGROUNDA",wG:"UIBACKGROUND",pN:"UIBACKGROUNDA",zG:"UIHIGHLIGHT",sN:"UIHIGHTLIGHTA",CG:"UISELECT",uN:"UISELECTA",AG:"UILOCKED",tN:"UILOCKEDA",xG:"UIBORDER",qN:"UIBORDERA",ZC:"BOUNDARY",aD:"BOUNDED",fG:"SELECT",
OC:"ADVANCE",ot:"AUTOFIT",Oy:"HISTORYFIT",uu:"HISTORYSTATES",so:"STEP",Hz:"NOSTEPBACK",Gs:"T",pA:"PAUSE",dr:"GRID",cr:"GRIDMAJOR",AB:"TEXT",uy:"ERROR",UE:"OFF",VE:"ON",$D:"HISTORY",oE:"MARK1",sE:"MARKOFF",qE:"MARK2",hE:"KILL",QD:"GRAPHBG",PD:"GRAPHAXIS",OD:"GRAPHALIVE",RD:"GRAPHBIRTH",SD:"GRAPHDEATH",Ga:"COLOR",Mx:"COLOUR",at:"VIEWONLY",Gz:"NOGUI",Fz:"NOCOPY",NB:"THUMBNAIL",IB:"THUMBSIZE",GB:"THUMBLAUNCH",KB:"THUMBSTART",vy:"EXCLUSIVEPLAY",Uy:"IGNOREEXCLUSIVE",ql:"THEME",KF:"RAINBOW",qt:"AUTOSTART",
Zi:"LOOP",uj:"STOP",Jl:"ANGLE",Qn:"LAYERS",zn:"DEPTH",In:"GPS",Qd:"ZOOM",ox:"Z",mf:"X",nf:"Y",rq:"WIDTH",cp:"HEIGHT",ms:"POPUPWIDTH",ls:"POPUPHEIGHT",MB:"THUMBZOOM",Mz:"NOTHROTTLE",TA:"REVERSESTART",cz:"KILLGLIDERS",Up:"RECIPE",jo:"RLE",Jp:"PASTE",Zr:"PASTET",Rz:"PASTEDELTA",Xq:"EVERY",gA:"PASTEMODE",mA:"ZERO",Zz:"AND",Uz:"0010",iA:"X",Vz:"DIFF",lA:"Y",kA:"XOR",fA:"OR",bA:"NOR",hA:"XNOR",dA:"NOTY",Wz:"1011",cA:"NOTX",Xz:"1101",aA:"NAND",eA:"ONE",$z:"COPY",bC:"IDENTITY",ZB:"FLIP",$B:"FLIPX",aC:"FLIPY",
eC:"SWAPXY",fC:"SWAPXYFLIP",dC:"RCW",cC:"RCCW",hg:"#"},function(){window.KeyProcessor={cL:function(w,g,h){var q=!0;if(h.ctrlKey&&82===g)return!0;switch(g){case 13:w.yk===w.uo&&w.mD(w,!0);break;case 84:w.Ho([!w.m.nl],!0,w);break;default:q=!1}return q},eL:function(w,g,h){var q=!0;if(h.ctrlKey||h.metaKey||h.altKey)g=-1;switch(g){case 84:w.Ho([!w.m.nl],!0,w);break;case 27:case 117:w.Ry(w);break;default:q=!1}return q},dL:function(w,g,h){var q=!0;if(h.ctrlKey||h.metaKey||h.altKey)g=-1;switch(g){case 84:w.Ho([!w.m.nl],
!0,w);break;default:q=!1}return q},bL:function(w,g,h){var q=!0,k=0;if(w.Nc)!w.Wu&&85===g&&h.shiftKey&&(w.Nc=!w.Nc,w.i.h=w.Nc,w.m.Nc=w.Nc);else{h.ctrlKey&&!h.altKey&&37<=g&&40>=g&&(37===g?g=33:38===g?g=36:39===g?g=34:40===g&&(g=35));if(h.altKey&&!h.ctrlKey){if(48<=g&&57>=g)k=g-48,w.fg||0===w.T.qc.length?w.og===k?w.ed?w.oA(w):w.tF(w):w.Fq.current=w.LG(k,!0,w):(--k,0<=k&&k<w.T.qc.length&&(w.Mg=k,w.hB(w,w.Mg)));else switch(g){case 37:w.zm(w,-1,0);break;case 38:w.zm(w,0,-1);break;case 39:w.zm(w,1,0);break;
case 40:w.zm(w,0,1);break;case 46:w.Jx(w,!0,!0);w.m.notification.notify("Cleared [R]History marked cells",15,120,15,!0);break;case 65:w.hn.current=w.qC([!w.Pj],!0,w);w.m.notification.notify("Auto-Shrink Selection "+(w.Pj?"On":"Off"),15,40,15,!0);break;case 66:w.Aq.current=w.KG([!w.a.ld],!0,w);break;case 67:w.fd||!w.zi||w.zi.locked||(w.Mm(w.Vt,w.a.Rl,w),w.a.Ja||w.qj||w.m.notification.notify(w.fw(w.a.yf)+" Theme",15,40,15,!0));break;case 68:w.a.ha&&(w.fn.current=w.IG([!w.a.Hl],!0,w),w.m.notification.notify("Alternating Gridlines "+
(w.a.Hl?"On":"Off"),15,40,15,!0));break;case 71:w.a.Mi=!w.a.Mi;w.m.notification.notify("Kill Gliders "+(w.a.Mi?"On":"Off"),15,40,15,!0);break;case 72:if(w.a.Ia||w.a.M)w.vC([!0],!0,w),w.m.notification.notify((w.a.M?"[R]Super":"[R]History")+" Display "+(w.a.Qf?"On":"Off"),15,40,15,!0);break;case 74:if(w.a.Ia||w.a.M)w.vC([!1],!0,w),w.m.notification.notify((w.a.M?"[R]Super":"[R]History")+" Display "+(w.a.Qf?"On":"Off"),15,40,15,!0);break;case 75:w.rd.current!==ViewConstants.sm&&(w.rd.current=w.Ck(ViewConstants.sm,
!0,w));w.hs=!0;w.Ch.current=w.Ak([!0],!0,w);break;case 76:0<w.T.Bp()&&(w.mm.current=w.QG([!w.si],!0,w),w.m.notification.notify("Annotations "+(w.si?"On":"Off"),15,40,15,!0));break;case 78:w.PE(w);break;case 79:w.Xe&&(w.mg=!w.mg,w.jn.current=[w.mg],w.m.notification.notify("AutoStart "+(w.mg?"Off":"On"),15,40,15,!0));break;case 80:-1!==w.Wb&&(w.Oe=!w.Oe,w.Vm.current=[w.Oe],w.m.notification.notify("Stop "+(w.Oe?"Off":"On"),15,40,15,!0));break;case 82:w.eD(w);break;case 83:w.Oo.current=w.rC([!w.ph],!0,
w);w.m.notification.notify("Sync Clipboard "+(w.ph?"On":"Off"),15,40,15,!0);break;case 84:w.Ym.current=w.QB([!w.Ol],!0,w);w.m.notification.notify("Throttling "+(w.Ol?"On":"Off"),15,40,15,!0);break;case 87:2<w.a.c||w.a.oa||w.a.G||w.a.Ia||w.a.M||w.a.ba||w.a.ha||(w.Qp.current=w.UG([!w.a.Kd],!0,w));break;case 88:w.JD(w);break;case 89:w.KD(w);break;case 90:w.Sp.locked||w.wv(w,!1)}g=-2}switch(g){case 191:case 111:w.a.O&&(w.im.current=w.NG([!w.a.be],!0,w),w.m.notification.notify("Hex display uses "+(w.a.be?
"Hexagons":"Squares"),15,40,15,!0));break;case 8:w.Ma||w.xb.ug[1]||(k=w.Ba,w.Ba=1,w.xb.current=w.wd(ViewConstants.zp,!0,w),w.Ba=k);break;case 66:h.ctrlKey?w.qI(w):w.Ma||w.xb.ug[1]||(k=w.Ba,w.Ba=1,w.xb.current=w.wd(ViewConstants.zp,!0,w),w.Ba=k);break;case 13:w.ed||w.qd?w.IK(w):w.Ma||(w.xb.current===ViewConstants.gk?w.xb.current=w.wd(ViewConstants.gk,!0,w):w.le&&w.m.Hc||(w.xb.current=w.wd(ViewConstants.gk,!0,w)));break;case 9:w.Ma||(w.Ya?w.xb.current=w.wd(ViewConstants.Ie,!0,w):h.shiftKey?(w.a.ha||
w.a.G)&&null!==w.a.Ec?w.xb.current=w.wd(ViewConstants.zp,!0,w):0<w.a.counter&&(w.vs(w.a.counter-w.Ba),w.jB(w.a.counter-w.Ba+1)):(w.ni=!0,w.pb("")));break;case 32:w.Ma||(w.Ya?w.xb.current=w.wd(ViewConstants.Ie,!0,w):h.ctrlKey||h.shiftKey?w.kJ(w,h.shiftKey):(w.ni=!0,w.nB=!0,w.pb("")));break;case 87:h.shiftKey?(w.Om.current=w.OB([!w.gj],!0,w),w.m.notification.notify("Performance Warning "+(w.gj?"On":"Off"),15,40,15,!0)):w.ae?w.hh.current=w.RB([w.jf],!0,w):w.Qc&&(w.hh.current=w.RB([w.ze],!0,w));break;
case 69:!w.Nd.locked&&w.Ba<ViewConstants.zg&&(w.Ba=h.shiftKey?ViewConstants.zg:w.Ba+1,w.Nd.current=w.en([w.Ba,w.Ba],!0,w));break;case 68:!w.Nd.locked&&w.Ba>ViewConstants.Sn&&(h.shiftKey?w.Ba=ViewConstants.Sn:--w.Ba,w.Nd.current=w.en([w.Ba,w.Ba],!0,w));break;case 90:h.ctrlKey?(h.altKey&&(w.Sp.locked||w.wv(w,!0)),h.shiftKey?w.OA(w):w.yj.locked||w.iC(w)):h.shiftKey?(k=Controller.uM(),0===k?w.m.notification.notify("No LifeViewers playing",15,100,15,!0):1<k&&w.m.notification.notify("Paused all LifeViewers",
15,100,15,!0)):(k=Controller.pG(w),0<k&&(1<k?w.m.notification.notify("Paused "+k+" other LifeViewers",15,100,15,!0):w.m.notification.notify("Paused "+k+" other LifeViewer",15,100,15,!0)));break;case 88:h.ctrlKey?w.IF(w,h.shiftKey,h.altKey):h.shiftKey?(w.ek.current=w.SG([!w.a.Uk],!0,w),0<w.a.Bf&&(w.m.notification.notify("Major Grid Lines "+(w.a.Uk?"On":"Off"),15,40,15,!0),w.hD())):(w.a.ac=!w.a.ac,w.ei.current=w.lq([w.a.ac],!0,w),w.m.notification.notify("Grid Lines "+(w.a.ac?"On":"Off"),15,40,15,!0));
break;case 89:h.ctrlKey?w.OA(w):w.Kc?w.m.notification.notify("Graph Disabled",15,40,15,!0):h.shiftKey?(w.Wg=!w.Wg,w.wp.current=w.uG([w.Wg],!0,w),w.m.notification.notify("Graph "+(w.Wg?"Lines":"Points"),15,40,15,!0)):(w.Wc=!w.Wc,w.em.current=w.sC([w.Wc],!0,w),w.m.notification.notify("Population Graph "+(w.Wc?"On":"Off"),15,40,15,!0));break;case 75:h.ctrlKey?h.altKey?(w.Jx(w,!1,!1),k=w.Af,2<w.a.c&&!(w.a.Ja||w.a.G||w.a.ba||w.a.M)&&0<k&&(k=w.a.c-k),w.a.ba?w.m.notification.notify("Cleared state "+k+" cells",
15,120,15,!0):w.m.notification.notify("Cleared "+w.Cy(k)+" cells",15,120,15,!0)):w.Gv(w):h.shiftKey?(w.nD(w,!0),w.m.notification.notify("Copied view to clipboard",15,180,15,!0)):(w.nD(w,!1),w.m.notification.notify("Copied position to clipboard",15,180,15,!0));break;case 80:h.shiftKey?-1!==w.bb&&(w.Lc=!w.Lc,w.om.current=[w.Lc],w.m.notification.notify("Loop "+(w.Lc?"Off":"On"),15,40,15,!0)):w.fd||w.bd.locked||(w.bd.current=.99>=w.bd.current[0]?w.sl([w.bd.current[0]+.01,w.bd.current[1]],!0,w):w.sl([1,
w.bd.current[1]],!0,w));break;case 76:h.shiftKey?w.GI(w):w.fd||w.bd.locked||(w.bd.current=.01<=w.bd.current[0]?w.sl([w.bd.current[0]-.01,w.bd.current[1]],!0,w):w.sl([0,w.bd.current[1]],!0,w));break;case 81:h.ctrlKey?(w.qs.current=w.TG([!w.a.Yg],!0,w),w.m.notification.notify((w.a.Yg?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!w.fd&&!w.Yd.locked&&w.Yd.current[0]<ViewConstants.Lu&&(w.Yd.current=w.$s([w.a.R+1,w.Yd.current[1]],!0,w));break;case 65:h.shiftKey?w.sb&&w.pt(w):h.ctrlKey?w.cG(w):
!w.fd&&!w.Yd.locked&&w.Yd.current[0]>ViewConstants.Ru&&(w.Yd.current=w.$s([w.a.R-1,w.Yd.current[1]],!0,w));break;case 82:h.shiftKey?Controller.yL():w.xb.current=w.wd(ViewConstants.Dz,!0,w);break;case 83:h.ctrlKey?(w.$A(w),w.m.notification.notify("Saved",15,120,15,!0)):h.shiftKey?w.a.Ia&&(w.vi=!w.vi,w.m.notification.notify("AutoFit State 1 Mode "+(w.vi?"On":"Off"),15,40,15,!0)):(w.fq.current=w.XG([!w.ti],!0,w),w.m.notification.notify("Stars "+(w.ti?"On":"Off"),15,40,15,!0));break;case 78:w.rl&&(w.mb?
w.xB():(w.yB(),w.ja&&(w.ja=0)));break;case 86:h.ctrlKey?w.ov(w,h.shiftKey):h.shiftKey?(w.aG(w),w.m.notification.notify("Saved camera position",15,100,15,!0)):w.Cd||(w.DL(w),w.m.notification.notify("Restored camera position",15,100,15,!0),w.Ya||(w.yg=!0));break;case 221:w.Cd||(h.shiftKey?w.tq(w.tc.current[0],Math.log(w.a.zoom*w.a.sc*2/ViewConstants.ya)/Math.log(ViewConstants.Ua/ViewConstants.ya)-w.tc.current[0]):w.tq(w.tc.current[0],.01));break;case 219:w.Cd||(h.shiftKey?w.tq(w.tc.current[0],Math.log(w.a.zoom*
w.a.sc/2/ViewConstants.ya)/Math.log(ViewConstants.Ua/ViewConstants.ya)-w.tc.current[0]):w.tq(w.tc.current[0],-.01));break;case 53:case 101:h.ctrlKey?h.shiftKey?w.a.G||w.sv(w,!0):w.vj(5):h.shiftKey?w.sv(w,!1):w.Bd.locked||(w.a.angle=0,w.Bd.current=[w.a.angle,w.a.angle]);break;case 49:case 97:h.ctrlKey?w.vj(1):h.shiftKey?(w.Uh(w,w.a.zoom*w.a.sc,!0),w.m.notification.notify("Integer Zoom",15,40,15,!0)):w.Uh(w,1,!1);break;case 50:case 98:h.ctrlKey?w.vj(2):h.shiftKey?w.Uh(w,.5,!1):w.Uh(w,2,!1);break;case 51:case 99:h.ctrlKey?
w.vj(3):h.shiftKey?w.Uh(w,64,!1):w.Uh(w,32,!1);break;case 52:case 100:h.ctrlKey?w.vj(4):h.shiftKey?w.Uh(w,.25,!1):w.Uh(w,4,!1);break;case 54:case 102:h.ctrlKey?w.vj(6):h.shiftKey?w.Uh(w,.0625,!1):w.Uh(w,16,!1);break;case 55:h.ctrlKey?w.vj(7):w.Kc?w.m.notification.notify("Graph Disabled",15,40,15,!0):(0<w.nd&&(w.nd-=.05,0>w.nd&&(w.nd=0)),w.Ep.current=w.pw([w.nd,w.nd],!1,w));break;case 56:case 104:h.ctrlKey?w.vj(8):h.shiftKey?w.Uh(w,.125,!1):w.Uh(w,8,!1);break;case 57:h.ctrlKey?w.vj(9):w.Kc?w.m.notification.notify("Graph Disabled",
15,40,15,!0):(1>w.nd&&(w.nd+=.05,1<w.nd&&(w.nd=1)),w.Ep.current=w.pw([w.nd,w.nd],!1,w));break;case 48:case 96:h.ctrlKey?w.vj(0):(w.Ba=1,w.Nd.current=w.en([w.Ba,w.Ba],!0,w),w.ec.current=w.Bk([1,w.ec.current[1]],!0,w));break;case 189:case 109:h.ctrlKey&&189==g?q=!1:w.Ma||(w.Ba>ViewConstants.Sn?(h.shiftKey?w.Ba=ViewConstants.Sn:--w.Ba,w.Nd.current=w.en([w.Ba,w.Ba],!0,w)):w.ec&&(w.ec.current=.01<=w.ec.current[0]&&!h.shiftKey?w.Bk([w.ec.current[0]-.01,w.ec.current[1]],!0,w):w.Bk([0,w.ec.current[1]],!0,
w)));break;case 187:case 107:h.ctrlKey&&187==g?q=!1:!w.Ma&&w.ec&&(.99>=w.ec.current[0]&&!h.shiftKey?w.ec.current=w.Bk([w.ec.current[0]+.01,w.ec.current[1]],!0,w):.99>=w.ec.current[0]?w.ec.current=w.Bk([1,w.ec.current[1]],!0,w):(w.ec.current=w.Bk([1,w.ec.current[1]],!0,w),w.Ba<ViewConstants.zg&&(w.Ba=h.shiftKey?ViewConstants.zg:w.Ba+1,w.Nd.current=w.en([w.Ba,w.Ba],!0,w))));break;case 188:h.shiftKey&&(w.sb||w.ed)?w.VF(w):w.Bd.locked||(k=w.Bd.current[0],k=h.shiftKey?k-90:k-1,0>k&&(k+=360),w.Bd.current=
w.Zs([k,k],!0,w));break;case 190:h.shiftKey&&(w.sb||w.ed)?w.WF(w):w.Bd.locked||(k=w.Bd.current[0],k=h.shiftKey?k+90:k+1,360<=k&&(k-=360),w.Bd.current=w.Zs([k,k],!0,w));break;case 46:w.sb?h.shiftKey?w.iD(w):w.ly(w,h.ctrlKey):h.ctrlKey&&(k=w.Jx(w,h.ctrlKey,!1))&&w.m.notification.notify("Cleared [R]History cells",15,120,15,!0);break;case 74:h.ctrlKey&&h.shiftKey?q=!1:w.T.qc.length?w.Cd||(h.shiftKey?w.FF(w):w.QE(w)):w.m.notification.notify("No POIs defined",15,80,15,!0);break;case 84:h.shiftKey?w.m.Nm=
!w.m.Nm:w.Yo.current=w.Ho([!w.m.nl],!0,w);break;case 85:h.shiftKey?!w.Wu&&(w.Nc=!w.Nc,w.i.h=w.Nc,w.m.Nc=w.Nc)&&(w.ja=0,w.dc=0):(w.a.ha||w.a.G)&&w.a.Ec&&w.ky(w);break;case 71:h.ctrlKey?(w.Rh=!w.Rh,w.Jo.current=w.JG([w.Rh],!0,w),w.m.notification.notify("Auto Grid Lines "+(w.Rh?"On":"Off"),15,40,15,!0)):w.Ma||(h.shiftKey?w.Rk&&(w.Vp.current=w.WG([!w.Sk],!0,w),w.m.notification.notify("Generation display "+(w.Sk?"Relative":"Absolute"),15,40,15,!0)):(w.qw([!w.eh],!0,w),w.bf&&(w.bf.current=[w.eh],w.m.Jh=
!0)));break;case 70:h.ctrlKey?w.sb&&(w.Pg(!0,!0,ViewConstants.gu),w.m.notification.notify("Fit Selection",15,80,15,!0)):h.shiftKey?w.Ji.locked||(w.uc=!w.uc,w.Ji.current=w.tG([w.uc],!0,w),w.m.notification.notify("AutoFit "+(w.uc?"On":"Off"),15,40,15,!0)):w.Pk.locked||(w.Pg(!0,!0,ViewConstants.Qk),w.m.notification.notify("Fit Pattern",15,80,15,!0),w.Ya||(w.yg=!0));break;case 79:h.ctrlKey?h.shiftKey?navigator.clipboard.readText().then(function(a){return w.jK(w,a)}):w.lE(w):w.ys=h.shiftKey?2:1;break;
case 37:h.shiftKey?w.vm(w.a.zoom,w.a.zoom):w.vm(w.a.zoom,0);break;case 38:w.ja?w.Rv(w,1):w.dc?w.Pv(w,1):h.shiftKey?w.vm(-w.a.zoom,w.a.zoom):w.vm(0,w.a.zoom);break;case 39:h.shiftKey?w.vm(-w.a.zoom,-w.a.zoom):w.vm(-w.a.zoom,0);break;case 40:w.ja?w.Qv(w,1):w.dc?w.Ov(w,1):h.shiftKey?w.vm(w.a.zoom,-w.a.zoom):w.vm(0,-w.a.zoom);break;case 77:h.ctrlKey?(w.Pg(!0,!0,ViewConstants.HD),w.m.notification.notify("Center Pattern",15,80,15,!0)):h.shiftKey?w.HI(w):w.Mc&&!w.Mc.h&&(w.Mc.current[0]&&(w.rk=!1,w.sk=!1,
w.tk=!1,w.uk=!1,w.qj=!1),w.Mc.current[0]=!w.Mc.current[0],w.m.Jh=!0);break;case 67:h.ctrlKey?w.HF(w,h.shiftKey,h.altKey):w.fd||!w.zi||w.zi.locked||(h.shiftKey?(k=w.a.yf-1,0>k&&(w.sh?k=w.a.Je:k=w.a.Je-1)):(k=w.a.yf+1,w.sh?k>=w.a.Je+1&&(k=0):k>=w.a.Je&&(k=0)),w.Mm(k,w.a.Rl,w),w.a.Ja||w.qj||w.m.notification.notify(w.fw(w.a.yf)+" Theme",15,40,15,!0));break;case 72:h.shiftKey?(w.hp.current=w.OG([!w.gi],!0,w),w.m.notification.notify("AutoFit History Mode "+(w.gi?"On":"Off"),15,40,15,!0)):(w.jd.length?w.ja=
w.ja?0:1:w.ja?w.ja=0:w.mb||(w.ja=1),w.Vk.current=w.mq([w.ja],!0,w),w.m.Jh=!0);break;case 73:h.ctrlKey&&h.shiftKey?q=!1:h.ctrlKey?w.eE(w):h.shiftKey?w.kp.current=w.PG([!w.dd],!0,w):(w.ja?w.gm===ViewConstants.vr?w.ja=0:w.Hh(ViewConstants.vr,w):w.mb||w.Hh(ViewConstants.vr,w),w.Vk.current=w.mq([w.ja],!0,w),w.m.Jh=!0);break;case 27:w.Hd?w.jd.length?(w.jd=[],w.dc=0):w.ed||w.qd?w.tt(w):w.hk?w.Ch.current=w.Ak([!1],!0,w):w.jj?w.Qy(w):hideViewer():w.ja?w.ja=0:w.jd.length?(w.jd=[],w.dc=0):w.ed||w.qd?w.tt(w):
w.hk?w.Ch.current=w.Ak([!1],!0,w):w.jj?w.Qy(w):w.Ya&&(w.xb.current=w.wd(ViewConstants.Ie,!0,w));w.Vk.current=w.mq([w.ja],!0,w);w.m.Jh=!0;break;case 33:w.ja?h.shiftKey?w.ZK(w):w.Rv(w,w.gd):w.dc?w.Pv(w,w.gd):DocConfig.La&&(--w.$c,0>w.$c&&(w.$c=Controller.se.length-1),w.ui(Controller.se[w.$c].pattern,!1));break;case 34:w.ja?h.shiftKey?w.AK(w):w.Qv(w,w.gd):w.dc?w.Ov(w,w.gd):DocConfig.La&&(w.$c+=1,w.$c>=Controller.se.length&&(w.$c=0),w.ui(Controller.se[w.$c].pattern,!1));break;case 36:w.ja?w.ja=1:w.dc?
w.dc=1:DocConfig.La&&(w.$c=0,w.ui(Controller.se[w.$c].pattern,!1));break;case 35:w.ja?w.ja=w.Cp-w.gd:w.dc?w.dc=w.jd.length-w.gd:DocConfig.La&&(w.$c=Controller.se.length-1,w.ui(Controller.se[w.$c].pattern,!1));break;case 112:w.Ma||(w.le=!w.le,w.rd.current=w.Ck(w.le?ViewConstants.sm:ViewConstants.tm,!0,w),w.m.notification.notify((w.le?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:h.shiftKey?(w.cq.current=w.PB([!w.po],!0,w),w.m.notification.notify("Smart Drawing "+(w.po?"On":"Off"),15,40,15,!0)):
w.rd.current=w.Ck(ViewConstants.sm,!0,w);break;case 114:w.Ma||(w.rd.current=w.Ck(ViewConstants.sm,!0,w),w.hk||(w.Ch.current=w.Ak([!0],!0,w)));break;case 115:w.rd.ug[ViewConstants.yp]||(w.rd.current=w.Ck(ViewConstants.yp,!0,w));break;case 116:w.rd.current=w.Ck(ViewConstants.tm,!0,w);break;case 117:w.jp.locked||(h.ctrlKey&&(w.nr=!0),w.Ry(w));break;case 122:q=!1;break;default:if(-1===g||116===g)q=!1}}return q}}}());